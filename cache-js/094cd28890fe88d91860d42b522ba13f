/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}define("superman/components/aging-tools",["require","exports","@baidu/aging-tools-pc","superman/lib/event"],function(require,_exports,AgingTool,_event){"use strict"
;Object.defineProperty(_exports,"__esModule",{value:true});_exports.Tools=void 0;AgingTool=_interopRequireWildcard(AgingTool);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj}}
var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{ __set$(newObj,key,__get$(obj,key)) }}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor= __get$(props,i) ;descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps
)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{ __set$(obj,key,value) }return obj}var reMakeEvent={on:function on(eventId,cb){(0,_event.on)("aging-tools",eventId,cb)},fire:function fire(eventId,data){(0,_event.fire)("aging-tools",eventId,{data:data})},off:function off(
eventId,cb){(0,_event.un)("aging-tools",eventId,cb)}};var addEventListener=function addEventListener(dom,eventName,fn){dom.addEventListener?dom.addEventListener(eventName,fn):dom.attachEvent("on"+eventName,fn)};var removeEventListener=function removeEventListener(dom,eventName,fn){dom.removeEventListener?dom.removeEventListener(eventName,fn):dom.detachEvent("on"+eventName,fn)};var errLog=function errLog(e){var message=e.message,colno=e.colno,lineno=e.lineno,filename=e.filename;if(
/\.baidu\.com\/wza\//g.test(filename)){(0,_event.fire)("superman:aging-tools","new_aria_script_error",{filename:filename,lineno:lineno,colno:colno,message:message})}};var isNewAria=function isNewAria(){return true};var loadAriaScript=function loadAriaScript(callBack){if(document.querySelector("#ariascripts")){callBack&&callBack();return}var now=(new Date).getTime();var url="https://www.baidu.com/wza/aria.js?appid=c890648bf4dd00d05eb9751dd0548c30";var script=document.createElement("script")
;script.src=url;script.id="ariascripts";script.setAttribute("charset","utf-8");var seccuss=function seccuss(){(0,_event.fire)("superman:aging-tools","new_aria_script_load",{isLoad:1,cost:(new Date).getTime()-now});callBack&&callBack()};var fail=function fail(){(0,_event.fire)("superman:aging-tools","new_aria_script_load",{isLoad:0,cost:(new Date).getTime()-now})};addEventListener(script,"load",seccuss);addEventListener(script,"error",fail);addEventListener(window,"error",errLog)
;document.body.appendChild(script);var page=document.querySelector("#aging-total-page");if(page){document.body.removeChild(page)}};var openAgingTools=function openAgingTools(){loadAriaScript(function(){var aria=window.aria;var status=aria&&aria.status()||false;if(status&&aria){aria.end();(0,_event.fire)("superman:aging-tools","new_aria_service",{show:0})}else if(aria){reMakeEvent.fire("aging-tools.close","new_aria_not_close");aria.start();(0,_event.fire)("superman:aging-tools","new_aria_service"
,{show:1})}reMakeEvent.fire("tts.close","new_aria_not_close")})};var Tools=function(){function Tools(){_classCallCheck(this,Tools);_defineProperty(this,"tool",void 0)}_createClass(Tools,[{key:"init",value:function init(){if(!+s_session.agingVoice){if(isNewAria()){if($.cookie.get("ariaStatus")==="true"){loadAriaScript()}$(".aging-entry").on("click",openAgingTools);addEventListener(window,"keyup",function(e){if(e.code&&e.code.toLocaleLowerCase()==="backquote"&&e.altKey&&e.ctrlKey){openAgingTools()
}});reMakeEvent.on("aging-tools.close",function(e){(!e||e.data!=="new_aria_not_close")&&window.aria&&window.aria.end()});reMakeEvent.on("tts.close",function(e){(!e||e.data!=="new_aria_not_close")&&window.aria&&window.aria.end()});return}}var bigTextDom=null;var sWrap=$("#s_wrap");if(sWrap.height()){bigTextDom=$("#s_wrap")}else{bigTextDom=$("#wrapper")}$(window).on("aging-tools.close",function(){reMakeEvent.fire("aging-tools.close",undefined)});reMakeEvent.on("tts.close",function(){$(window
).trigger("tts.close",undefined)});var data={rootDom:"#wrapper",entry:$(".aging-entry"),scaleDom:["#wrapper"],from:"index",bigTextDom:bigTextDom,disableVoice:s_session.agingVoice==="1"?s_session.agingVoice:"",newType:"1",logService:function logService(clickType){(0,_event.fire)("superman:aging-tools","toolClick",{clickType:clickType})},event:reMakeEvent};this.createMeet(data)}},{key:"createMeet",value:function createMeet(data){var Tool=AgingTool["default"];this.tool=new Tool({data:data})
;this.tool.attach($("body")[0])}},{key:"destroy",value:function destroy(){var aria=window.aria;if(aria){aria.end();delete window["aria"]}removeEventListener(window,"error",errLog);var ariaScript=document.querySelector("#ariascripts");ariaScript&&document.body.removeChild(ariaScript);this.tool&&this.tool.detached&&this.tool.detached()}}]);return Tools}();_exports.Tools=Tools});
/*hammerhead|script|end*/