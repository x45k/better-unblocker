/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
!function(){"use strict";function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return  __get$(t,n) }})}}))})),Object.freeze(e)}var t,n,r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){function i(e,t){v(e,t)||( __set$(G,e,Math.max(__get$(G,e)||0,t)) )}function a(e,t){function n(e){0===e.indexOf(".")&&r.push(e)}var r=[];if("string"==typeof e)n(e);else if(e instanceof Array)for(var i=0,a=e.length;i<a;i++)n( __get$(e,i) );if(r.length>0)throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+r.join(", "));var o=Y.waitSeconds;return o&&e instanceof Array&&(j&&clearTimeout(j),j=setTimeout(s,1e3*o)),V(e,t)}function s(){function e(s,o){if(! __get$(a,s) &&!v(s,$)){ __set$(a,s,1) ;var c= __get$(U,s) ;if(c){if((o||!v(s,z)||c.hang)&&( __get$(r,s) ||( __set$(r,s,1) ,t.push(s)),c.depMs))for(var h=0,l=c.depMs.length;h<l;h++){var u= __get$(c.depMs,h) ;e(u.absId,u.hard)}}else  __get$(i,s) ||( __set$(i,s,1) ,n.push(s))}}var t=[],n=[],r={},i={},a={};for(var s in G) __get$(G,s) >=$&&e(s,1);if(t.length||n.length)throw new Error("[MODULE_TIMEOUT]Hang: "+(t.join(", ")||"none")+"; Miss: "+(n.join(", ")||"none"))}function o(e){var t=Z,n=Z.length;if(n){t=Z;var r=e?e.length:0;Z=[];for(var i=0;i<n;i++)for(var a= __get$(t,i) ,s=0;s<r;s++)l( __get$(e,s) ,a.deps,a.factory)}}function c(e,t,n){if(null==n&&(null==t?(n=e,e=null):(n=t,t=null,e instanceof Array&&(t=e,e=null))),null!=n){var r,i=window.opera;if(!e&&document.attachEvent&&(!i||"[object Opera]"!==i.toString())){var a=function(){if(le)return le;if(ue&&"interactive"===ue.readyState)return ue;for(var e=document.getElementsByTagName("script"),t=e.length;t--;){var n= __get$(e,t) ;if("interactive"===n.readyState)return ue=n,n}}();r=a&& __get$(ie,a.getAttribute("data-src")) }if(e)l(e,t,n);else if(r instanceof Array)for(var s=0,o=r.length;s<o;s++)l( __get$(r,s) ,t,n);else Z[0]={deps:t,factory:n}}}function h(){var e= __get$(Y.config,this.id) ;return e&&"object"==typeof e?e:{}}function l(e,t,n){ __get$(U,e) ||( __set$(U,e,{id:e,depsDec:t,deps:t||["require","exports","module"],factoryDeps:[],factory:n,exports:{},config:h,state:0,require:I(e),depMs:[],depMkv:{},depRs:[],hang:0}) ,b(e,Q))}function u(e){var t= __get$(U,e) ;if(t&&!( __get$(U,e) .state>=F)){var n=t.deps,r=t.factory,i=0;"function"==typeof r&&(i=Math.min(r.length,n.length),!t.depsDec&& __call$(__call$(r.toString(),"replace",[/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,""]),"replace",[/require\(\s*(['"])([^'"]+)\1\s*\)/g,function(e,t,r){n.push(r);}]) );for(var a=[],s=[],o=0,c=n.length;o<c;o++){var h= __get$(n,o) ,l=R(h),u=P(l.mod,e),d=null,v=null;u&&! __get$(W,u) ?(l.res&&(v={id:h,mod:u,res:l.res},s.push(h),t.depRs.push(v)),(d= __get$(t.depMkv,u) )||(d={id:l.mod,absId:u,hard:o<i},t.depMs.push(d), __set$(t.depMkv,u,d) ,a.push(u))):d={absId:u},o<i&&t.factoryDeps.push(v||d)}b(e,F),f(e),C(a),s.length&&t.require(s,(function(){if(t.depRs)for(var n=0,r=t.depRs.length;n<r;n++){var i= __get$(t.depRs,n) ;i.absId||(i.absId=P(i.id,e))}p()}))}}function p(){if(ee)te=!0;else{for(var e in ee=!0,G){var t= __get$(G,e) ;t>=z&&(u(e),d(e)),t>=$&&m(e)}ee=!1,te&&(te=!1,p())}}function d(e){var t={};!function e(n){u(n);var r= __get$(U,n) ;if(!r||r.state<F)return!1;switch( __get$(t,n) ){case 1:return!0;case 2:return r.state>=z} __set$(t,n,1) ;for(var i=!0,a=r.depMs,s=0,o=a?a.length:0;s<o;s++)i=e( __get$(a,s) .absId)&&i;if(i){var c=r.depRs;for(s=0,o=c?c.length:0;s<o&&(i=!! __get$(c,s) .absId);s++);}return i&&b(n,z), __set$(t,n,2) ,i}(e)}function f(t){var n,r= __get$(U,t) ;r.invokeFactory=function(){if(!n&&r.state===z){n=1;for(var i=1,a=0,s=r.factoryDeps.length;a<s;a++){var o= __get$(r.factoryDeps,a) .absId;if(!( __get$(W,o) ||(m(o),i=v(o,$))))break}if(i){try{var c=r.factory,h="function"==typeof c?c.apply(e,g(r.factoryDeps,{require:r.require,exports:r.exports,module:r})):c;null!=h&&(r.exports=h),r.invokeFactory=null}catch(e){if(/^\[MODULE_MISS\]"([^"]+)/.test(e.message)){var l= __get$(r.depMkv,RegExp.$1) ;return l&&(l.hard=1),void(n=0)}throw r.hang=1,e}w(t)}}}}function v(e,t){return  __get$(U,e) && __get$(U,e) .state>=t}function m(e){var t= __get$(U,e) ;t&&t.invokeFactory&&t.invokeFactory()}function g(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var a= __get$(e,r) ;"object"==typeof a&&(a=a.absId), __set$(n,r,__get$(t,a)||__get$(U,a).exports) }return n}function y(e,t,n){if(v(e,t))n();else{var r= __get$(__get$(ne,t),e) ;r||(r= __set$(__get$(ne,t),e,[]) ),r.push(n)}}function b(e,t){var n= __get$(U,e) ;if(!(n.state>=t)){n.state=t;var r= __get$(__get$(ne,t),e) ;if(r instanceof Array){ __set$(__get$(ne,t),e,null) ;for(var i=0,a=r.length;i<a;i++) __call$(r,i,[]) }var s= __get$(Y,__get$(ne,t)[":hook"]) ;"function"==typeof s&&s(n.id,n.deps,n.factory);var o=(r= __get$(K,e) )&& __get$(r,t) ;if(o instanceof Array)for(i=0,a=o.length;i<a;i++) __call$(o,i,[n.id,n.deps,n.factory]) }}function w(e){delete G[e],b(e,$)}function x(e){return  __get$(U,e) ? __get$(U,e) .state: __get$(J,e) ?q:H}function _(e){return function(t){ __get$(J,e) || __get$(U,e) ||N(e,t)}}function C(t,n,r){function i(){if("function"==typeof n&&!a){for(var r=1,i=0,s=t.length;i<s;i++){var o= __get$(t,i) ;if(! __get$(W,o) &&!(r=!!v(o,$)))break}r&&(a=1,n.apply(e,g(t,W)))}}for(var a=0,s=0,o=t.length;s<o;s++){var c= __get$(t,s) ;if(!( __get$(W,c) ||v(c,$)||(y(c,$,i), __get$(J,c) || __get$(U,c) ))){for(var h=B,l={id:c,load:_(c),getModuleState:x},u=0,d=X.length;u<d&&void 0===(h= __call$(X,u,[l,p]) );u++);"string"==typeof h?N(c,h):!1!==h&&(c.indexOf("!")>0?S(c,r):N(c))}}i()}function N(t,n){function r(){ __get$(ie,n) ||( __set$(ie,n,[]) ), __get$(ie,n) .push(t),function(e,t,n){function r(){var e=i.readyState;(void 0===e||/^(loaded|complete)$/.test(e))&&(i.onload=i.onreadystatechange=null,i=null,n())}if(! __get$(re,e) ){ __set$(re,e,1) ;var i=document.createElement("script");i.setAttribute("data-src",e),i.src=e,i.async=!0,i.readyState?i.onreadystatechange=r:i.onload=r;var a=Y.onNodeCreated;"function"==typeof a&&a(i,Y,t,e),le=i,ve?fe.insertBefore(i,ve):fe.appendChild(i),le=null}}(n,t,(function(){if(a){var r;if("function"==typeof a.init&&(r=a.init.apply(e,g(s,W))),null==r&&a.exports){r=e;for(var i=a.exports.split("."),h=0,l=i.length;h<l&&(r= __get$(r,__get$(i,h)) );h++);}c(t,s,(function(){return r||{}}))}else o( __get$(ie,n) );p()}))} __set$(J,t,1) ;var i=k(t)||t;n=n||T(i+".js");var a= __get$(Y.shim,t) ;a instanceof Array&&( __set$(Y.shim,t,a={deps:a}) );var s=a&&(a.deps||[]);if(s){for(var h=0,l=s.length;h<l;h++){var u= __get$(s,h) ; __get$(Y.shim,u) ||( __set$(Y.shim,u,{}) )}V(s,r)}else r()}function S(e,t){function n(t){a.exports=t||!0,w(e)}var r=k(e);if(r)N(r);else{var i=R(e),a={id:e,state:F}; __set$(U,e,a) ,n.fromText=function(e,t){new Function(t)(),o([e])},function(r){var a=t? __get$(U,t) .require:V;r.load(i.res,a,n,h.call({id:e}))}(V(i.mod))}}function A(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push({k:r,v: __get$(e,r) ,reg:"*"===r&&t?/^/:L(r)});return n.sort(M),n}function E(){Y.baseUrl= __call$(Y.baseUrl,"replace",[/\/$/,""]) +"/",ae=A(Y.paths);for(var e=(se=A(Y.map,1)).length,t= __get$(se,e-1) ,n=t&&"*"===t.k;e--;){var r= __get$(se,e) ;r.v=A(r.v),n&&r!==t&&(r.v=r.v.concat(t.v))}var i={},a=Y.packages.length;for(de=[];a--;){var s,o= __get$(Y.packages,a) ;switch(typeof o){case"string":s={name:o.split("/")[0],location:o};break;case"object":s={name:o.name,location: __get$(o,"location") ,main:o.main}} __get$(i,s.name) ||( __set$(i,s.name,1) , __set$(s,"location",__get$(s,"location")||s.name) ,s.main= __call$(s.main||"main","replace",[/\.js$/i,""]) ,s.reg=L(s.name),de.push(s))}for(var c in de.sort(M),he=A(Y.urlArgs,1),oe={},ce=[],Y.bundles){var h= __get$(Y.bundles,c) ;if(h instanceof Array)for(var l=0,u=h.length;l<u;l++){var p= __get$(h,l) ;p instanceof RegExp?ce.push([p,c]): __set$(oe,O(p),P(c)) }}}function k(e){var t= __get$(oe,e) ;if(!t&&ce)for(var n=0,r=ce.length;n<r;n++){var i= __get$(ce,n) ;if(i[0].test(e)){t=i[1];break}}return t}function D(e,t,n){if(t)for(var r=0,i=t.length;r<i;r++){var a= __get$(t,r) ;if(a.reg.test(e)){n(a.v,a.k,a);break}}}function T(e,t){var n=/(\.[a-z0-9]+)$/i,r=/(\?[^#]*)$/,i="",a=e,s="";r.test(e)&&(s=RegExp.$1,e= __call$(e,"replace",[r,""]) ),n.test(e)&&(i=RegExp.$1,a= __call$(e,"replace",[n,""]) ),null!=t&&(a=P(a,t));var o,c=a;return D(a,ae,(function(e,t){c= __call$(c,"replace",[t,e]) ,o=1})),o||D(a,de,(function(e,t,n){c= __call$(c,"replace",[n.name,__get$(n,"location")]) })),/^([a-z]{2,10}:\/)?\//i.test(c)||(c=Y.baseUrl+c),c+=i+s,D(a,he,(function(e){c+=(c.indexOf("?")>0?"&":"?")+e})),c}function I(e){function t(t,n){var r=[],a=[];if(t instanceof Array)for(var s=0,o=t.length;s<o;s++){var c=R( __get$(t,s) ),h=P(c.mod,e),l=c.res,u=h;if(l){var p=h+"!"+l;0!==l.indexOf(".")&&k(p)?h=u=p:u=null} __set$(a,s,u) ,i(h,n),r.push(h)}return{mods:r,ids:a}}function n(n,a){if("string"==typeof n){if(! __get$(r,n) ){var s=P(n,e);if(m(s),!v(s,$))throw new Error('[MODULE_MISS]"'+s+'" is not exists!'); __set$(r,n,__get$(U,s).exports) }return  __get$(r,n) }if(n instanceof Array){var o=t(n,$);C(o.mods,(function(){for(var t=0,r=o.ids.length;t<r;t++){var s= __get$(o.ids,t) ;null==s&&i(s= __set$(o.ids,t,P(__get$(n,t),e)) ,$)}C(o.ids,a,e),p()}),e),p()}}var r={};return n.toUrl=function(t){return T(t,e||"")},n.fetch=function(e,n){function r(){++i>=e.length&&n()}for(var i=0,a=t(e,z),s=0,o=a.mods.length;s<o;s++)y( __get$(a.mods,s) ,z,r);C(a.mods),p()},n}function P(e,t){if(!e)return"";t=t||"";var n=R(e);if(!n)return e;var r=n.res,i=function(e,t){if(0!==e.indexOf("."))return e;for(var n=t.split("/").slice(0,-1).concat(e.split("/")),r=[],i=0;i<n.length;i++){var a= __get$(n,i) ;switch(a){case".":break;case"..":r.length&&".."!== __get$(r,r.length-1) ?r.pop():r.push(a);break;default:a&&r.push(a)}}return r.join("/")}(n.mod,t);if(D(t,se,(function(e){D(i,e,(function(e,t){i= __call$(i,"replace",[t,e]) }))})),i=O(i),r){var a=v(i,$)&&V(i);r=a&&a.normalize?a.normalize(r,(function(e){return P(e,t)})):P(r,t),i+="!"+r}return i}function O(e){for(var t=0,n=de.length;t<n;t++){var r= __get$(de,t) ,i=r.name;if(i===e)return i+"/"+r.main}return e}function R(e){var t=e.split("!");if(t[0])return{mod:t[0],res:t[1]}}function L(e){return new RegExp("^"+e+"(/|$)")}function M(e,t){var n=e.k||e.name,r=t.k||t.name;return"*"===r?-1:"*"===n?1:r.length-n.length}var B,j,U={},H=-1,q=0,Q=1,F=2,z=3,$=4,G={},J={},W={require:a,exports:1,module:1},V=I(),Y={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};a.version="2.2.2",a.toUrl=V.toUrl,a.fetch=V.fetch,a.ModuleState={NOT_FOUND:H,LOADING:q,PRE_DEFINED:Q,ANALYZED:F,PREPARED:z,DEFINED:$};var K={};a.listenModuleStateChange=function(e,t,n){if("function"==typeof n&&t>=Q&&t<=$)if(v(e,t)){var r= __get$(U,e) ;n(r.id,r.deps,r.factory)}else{var i= __get$(K,e) ;i||(i= __set$(K,e,{}) ), __set$(i,t,__get$(i,t)||[]) , __get$(i,t) .push(n)}},a.unlistenModuleStateChange=function(e,t,n){var r= __get$(K,e) ;if(r)if(n)for(var i= __get$(r,t) ,a=i&&i.length;a--;) __get$(i,a) ===n&&i.splice(a,1);else  __set$(r,t,null) },a.undef=function(e){delete J[e],delete U[e]};var X=[];a.addLoader=function(e){"function"==typeof e&&X.push(e)},a.removeLoader=function(e){for(var t=X.length;t--;)e=== __get$(X,t) &&X.splice(t,1)};var Z=[];c.amd={};var ee,te,ne={}; __set$(ne,F,{":hook":"onModuleAnalyzed"}) , __set$(ne,$,{":hook":"onModuleDefined"}) , __set$(ne,Q,{":hook":"onModulePreDefined"}) , __set$(ne,z,{":hook":"onModulePrepared"}) ;var re={},ie={};a.config=function(e){if(e){for(var t in e){var n= __get$(e,t) ,r= __get$(Y,t) ;if(0===t.indexOf("on")) __set$(Y,t,n) ;else if("urlArgs"===t&&"string"==typeof n)Y.urlArgs["*"]=n;else if(r instanceof Array)r.push.apply(r,n);else if(null!=r)if("object"==typeof r)for(var i in n) __set$(r,i,__get$(n,i)) ;else  __set$(Y,t,n) }E()}},E();var ae,se,oe,ce,he,le,ue,pe,de=[],fe=document.getElementsByTagName("head")[0],ve=document.getElementsByTagName("base")[0];ve&&(fe=ve.parentNode),t||(t=c,"function"!=typeof n&&(a.config(n),n=a),"function"!=typeof r&&(a.config(r),r=a),"undefined"!=typeof requirejs&&"function"!=typeof requirejs&&a.config(requirejs)),function(){for(var e=document.getElementsByTagName("script"),t=e.length;t--;){var n= __get$(e,t) ;if(pe=n.getAttribute("data-main"))break}}(),pe&&setTimeout((function(){a([pe])}),4)}(i),window.require=n,window.define=t;var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o,c={exports:{}};o=c,function(){var e=1;function t(){}function n(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r= __get$(t,n) ;void 0!==r&&( __set$(e,n,r) )}return e}function r(e,t){var r=e.prototype,i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,n(e.prototype,r)}function i(e,t){if(e&&e.length>0)for(var n=0,r=e.length;n<r&&!1!==t( __get$(e,n) ,n);n++);}function a(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)}function s(e,t,n,r){e.addEventListener?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)}var c={animate:1,animateMotion:1,animateTransform:1,circle:1,ellipse:1,line:1,polygon:1,polyline:1,rect:1,defs:1,g:1,marker:1,mask:1,"missing-glyph":1,pattern:1,svg:1,symbol:1,desc:1,metadata:1,font:1,"font-face":1,linearGradient:1,radialGradient:1,stop:1,image:1,path:1,use:1,glyph:1,textPath:1,text:1,tref:1,tspan:1,clipPath:1,cursor:1,filter:1,foreignObject:1,view:1};function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var l,u=[],p="function"==typeof Promise&&/native code/.test(Promise),d="function"==typeof setImmediate&&/native code/.test(setImmediate);function f(e,t){if(t&&(e=function(e,t){var n=Function.prototype.bind,r=Array.prototype.slice;if(n&&e.bind===n)return n.apply(e,r.call(arguments,1));var i=r.call(arguments,2);return function(){return e.apply(t,i.concat(r.call(arguments)))}}(e,t)),u.push(e),!l)if(l=function(){var e=u.slice(0);u=[],l=null;for(var t=0,n=e.length;t<n;t++) __call$(e,t,[]) },d)setImmediate(l);else if("function"==typeof MessageChannel){var n=new MessageChannel,r=n.port2;n.port1.onmessage=l, __call$(r,"postMessage",[1]) }else p?Promise.resolve().then(l):setTimeout(l,0)}var v="undefined"!=typeof navigator&&navigator.userAgent.match(/(msie|trident)(\s*|\/)([0-9]+)/i),m=v?v[3]-0:0;m&&!/msie/i.test(v[1])&&(m+=4);var g=m&&m<9,y={area:1,base:1,br:1,col:1,embed:1,hr:1,img:1,input:1,link:1,meta:1,param:1,source:1,track:1,wbr:1};function b(e){var n=function(){};return n.isRequired=t,n}var w={array:b(),object:b(),func:b(),string:b(),number:b(),bool:b(),symbol:b(),any:b,arrayOf:b,instanceOf:b,shape:b,oneOf:b,oneOfType:b,objectOf:b,exact:b};function x(e){this.source=e,this.len=this.source.length,this.index=0}function _(e){return  __call$(e,"replace",[/-+(.)/gi,function(e,t){return t.toUpperCase();}]) }x.prototype.nextCode=function(){return this.index++,this.source.charCodeAt(this.index)},x.prototype.goUntil=function(e){for(var t;this.index<this.len&&(t=this.source.charCodeAt(this.index));)switch(t){case 32:case 9:case 13:case 10:this.index++;break;default:return t===e?(this.index++,1):void 0}},x.prototype.match=function(e,t){e.lastIndex=this.index;var n=e.exec(this.source);if(n&&(!t||this.index===n.index))return this.index=e.lastIndex,n};var C={allowpaymentrequest:1,async:1,autofocus:1,autoplay:1,checked:1,controls:1,default:1,defer:1,disabled:1,formnovalidate:1,hidden:1,ismap:1,itemscope:1,loop:1,multiple:1,muted:1,nomodule:1,novalidate:1,open:1,readonly:1,required:1,reversed:1,selected:1,typemustmatch:1};function N(e){return e.match(/\s*([\$0-9a-z_]+)/gi,1)[1]}function S(e){var t=O(e);if(e.goUntil(),63===e.source.charCodeAt(e.index)){e.index++;var n=S(e);if(e.goUntil(),58===e.source.charCodeAt(e.index))return e.index++,{type:10,segs:[t,n,S(e)]}}return t}function A(e){var t=N(e);switch(t){case"true":case"false":return{type:3,value:"true"===t};case"null":return{type:13}}var n={type:4,paths:[{type:1,value:t}]};e:for(;;)switch(e.source.charCodeAt(e.index)){case 46:e.index++,n.paths.push({type:1,value:N(e)});break;case 91:e.index++,n.paths.push(S(e)),e.goUntil(93);break;default:break e}return n}function E(e,t){e.goUntil();var n,r=A(e);if(e.goUntil(40))for(n=[];!e.goUntil(41);)n.push(S(e)),e.goUntil(44);else t&&(n=t);return n&&(r={type:6,name:r,args:n}),r}function k(e){e.goUntil();var t=e.source.charCodeAt(e.index);switch(t){case 33:case 43:case 45:return e.index++,function(e,t){switch(t){case 33:var n;switch(e.type){case 2:case 1:case 3:n=!e.value;break;case 12:case 11:n=!1;break;case 13:n=!0}if(null!=n)return{type:3,value:n};break;case 43:switch(e.type){case 2:case 1:case 3:return{type:2,value:+e.value}}break;case 45:switch(e.type){case 2:case 1:case 3:return{type:2,value:-e.value}}}return{type:9,expr:e,operator:t}}(k(e),t);case 34:case 39:return function(e){var t,n=e.source.charCodeAt(e.index),r="";e:for(;t=e.nextCode();)switch(t){case 92:switch(t=e.nextCode()){case 117:r+=String.fromCharCode(parseInt(e.source.slice(e.index+1,e.index+5),16)),e.index+=4;break;case 120:r+=String.fromCharCode(parseInt(e.source.slice(e.index+1,e.index+3),16)),e.index+=2;break;case 98:r+="\b";break;case 102:r+="\f";break;case 110:r+="\n";break;case 114:r+="\r";break;case 116:r+="\t";break;case 118:r+="\v";break;default:r+=String.fromCharCode(t)}break;case n:e.index++;break e;default:r+=String.fromCharCode(t)}return{type:1,value:r}}(e);case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return{type:2,value:+e.match(/[0-9]+(\.[0-9]+)?/g,1)[0]};case 40:return function(e){e.index++;var t=S(e);return e.goUntil(41),t.parenthesized=!0,t}(e);case 91:e.index++;for(var n=[];!e.goUntil(93);){var r={};n.push(r),46===e.source.charCodeAt(e.index)&&e.match(/\.\.\.\s*/g)&&(r.spread=!0),r.expr=S(e),e.goUntil(44)}return{type:12,items:n};case 123:e.index++;for(var i=[];!e.goUntil(125);)r={},i.push(r),46===e.source.charCodeAt(e.index)&&e.match(/\.\.\.\s*/g)?(r.spread=!0,r.expr=S(e)):(r.name=k(e),e.goUntil(58)?r.expr=S(e):r.expr=r.name,4===r.name.type&&(r.name=r.name.paths[0])),e.goUntil(44);return{type:11,items:i}}return E(e)}function D(e){for(var t=k(e);;){e.goUntil();var n=e.source.charCodeAt(e.index);switch(n){case 37:case 42:case 47:e.index++,t={type:8,operator:n,segs:[t,k(e)]};continue}break}return t}function T(e){for(var t=D(e);;){e.goUntil();var n=e.source.charCodeAt(e.index);switch(n){case 43:case 45:e.index++,t={type:8,operator:n,segs:[t,D(e)]};continue}break}return t}function I(e){var t=T(e);e.goUntil();var n=e.source.charCodeAt(e.index);switch(n){case 60:case 62:return 61===e.nextCode()&&(n+=61,e.index++),{type:8,operator:n,segs:[t,T(e)]}}return t}function P(e){var t=function(e){var t=I(e);e.goUntil();var n=e.source.charCodeAt(e.index);switch(n){case 61:case 33:if(61===e.nextCode())return n+=61,61===e.nextCode()&&(n+=61,e.index++),{type:8,operator:n,segs:[t,I(e)]};e.index--}return t}(e);if(e.goUntil(),38===e.source.charCodeAt(e.index)){if(38===e.nextCode())return e.index++,{type:8,operator:76,segs:[t,P(e)]};e.index--}return t}function O(e){var t=P(e);if(e.goUntil(),124===e.source.charCodeAt(e.index)){if(124===e.nextCode())return e.index++,{type:8,operator:248,segs:[t,O(e)]};e.index--}return t}function R(e){if(e)return"object"==typeof e&&e.type?e:S(new x(e))}function L(e,t){var n=E(new x(e),t);return 6!==n.type&&(n={type:6,name:n,args:t||[]}),n}var M={lt:"<",gt:">",nbsp:" ",quot:'"',emsp:" ",ensp:" ",thinsp:" ",copy:"©",reg:"®",zwnj:"‌",zwj:"‍",amp:"&"};function B(e){return  __call$(__call$(e,"replace",[/&#(x[0-9a-f]+|[0-9]+);/g,function(e,t){return 120===t.charCodeAt(0)?String.fromCharCode(parseInt(t.slice(1),16)):String.fromCharCode(+t);}]),"replace",[/&([a-z]+);/gi,function(e,t){return __get$(M,t)||e;}]) }function j(e,t){t=t||["{{","}}"];var n,r=new x(e),i=0,a=[],s=-1;function o(e){var t= __get$(a,s) ;t&&1===t.type?t.value=t.value+e: __set$(a,++s,{type:1,value:e}) }for(var c=t[0],h=c.length,l=t[1],u=l.length;;){var p,d=r.source.indexOf(c,r.index),f=r.source.indexOf(l,r.index);if(-1===d||f<d)break;(p=r.source.slice(i,d))&&o(B(p)),r.source.indexOf(l,f+1)===f+1&&f++;var v=new x(r.source.slice(d+h,f));if(!v.goUntil(125)&&v.index<v.len){for(var m={type:5,expr:S(v),filters:[]};v.goUntil(124);){var g=E(v,[]);switch(g.name.paths[0].value){case"html":break;case"raw":m.original=1;break;default:m.filters.push(g)}}n=n||m.original, __set$(a,++s,m) }else o(c+v.source+l);i=r.index=f+u}switch((p=r.source.slice(i))&&o(B(p)),a.length){case 0:return{type:1,value:""};case 1:return 5!==a[0].type||0!==a[0].filters.length||a[0].original?a[0]:a[0].expr}return n?{type:7,segs:a,original:1}:{type:7,segs:a}}function U(e,t,n,r){var i,a,s=t.indexOf("-");switch(s>0&&(a=t.slice(0,s),i=t.slice(s+1)),a){case"on":var o,c={name:i,modifier:{}};for(e.events.push(c);(o=n.indexOf(":"))>0;){var h=n.slice(0,o);if(!/^[a-z]+$/i.test(h))break; __set$(c.modifier,h,!0) ,n=n.slice(o+1)}c.expr=L(n,[{type:4,paths:[{type:1,value:"$event"}]}]);break;case"san":case"s":"else-if"===i&&(i="elif");var l=function(e,t,n){switch(e){case"is":case"show":case"html":case"bind":case"if":case"elif":return{value:R( __call$(t,"replace",[/(^\{\{|\}\}$)/g,""]) )};case"else":return{value:{}};case"transition":return{value:L(t)};case"ref":return{value:j(t,n.delimiters)};case"for":var r=new x(t),i=r.match(/^\s*([$0-9a-z_]+)(\s*,\s*([$0-9a-z_]+))?\s+in\s+/gi,1);if(i){var a={item:i[1],value:k(r)};if(i[3]&&(a.index=i[3]),r.match(/\s*trackby\s+/gi,1)){var s=r.index;a.trackBy=A(r),a.trackByRaw=r.source.slice(s,r.index)}return a}}}(i,n,r);l&&( __set$(e.directives,i,l) );break;case"var":e.vars||(e.vars=[]),e.vars.push({name:_(i),expr:R( __call$(n,"replace",[/(^\{\{|\}\}$)/g,""]) )});break;case"attr":e.attrs||(e.attrs=[]),e.attrs.push({name:i,expr:n?j(n,r.delimiters): __get$(C,i) ?{type:3,value:!0}:{type:1,value:""}});break;default:if("prop"===a&&(t=i),n&&0===n.indexOf("{=")&&"=}"===n.slice(-2))return void e.props.push({name:t,expr:R(n.slice(2,-2)),x:1});var u=j(n||"",r.delimiters);if(""===u.value) __get$(C,t) &&(u={type:3,value:!0});else switch(t){case"class":case"style":switch(u.type){case 7:for(var p=0,d=u.segs.length;p<d;p++)5=== __get$(u.segs,p) .type&& __get$(u.segs,p) .filters.push({type:6,name:{type:4,paths:[{type:1,value:"_"+t}]},args:[]});break;case 5:u.filters.push({type:6,name:{type:4,paths:[{type:1,value:"_"+t}]},args:[]});break;default:1!==u.type&&(u={type:5,expr:u,filters:[{type:6,name:{type:4,paths:[{type:1,value:"_"+t}]},args:[]}]})}}e.props.push(null!=n?{name:t,expr:u}:{name:t,expr:u,noValue:1})}}function H(e,t){(t=t||{}).trimWhitespace=t.trimWhitespace||"none";var n={directives:{},props:[],events:[],children:[]};if("string"!=typeof e)return n;var r= new x(e=__call$(e,"replace",[/<!--([\s\S]*?)-->/gm,""])) ;r.goUntil();for(var i,a=/<(\/)?([a-z][a-z0-9-]*)\s*/gi,s=/([-:0-9a-z\[\]_]+)(\s*=\s*(([^'"<>\s]+)|"([^"]*?)"|'([^']*?)'))?\s*/gi,o=n,c=[n],h=0,l=r.index;null!=(i=r.match(a));){var u=r.index-i[0].length,p=i[1],d=i[2];if(p){if(62===r.source.charCodeAt(r.index)){var f=h;for(k(e.slice(l,u));f>0&& __get$(c,f) .tagName!==d;)f--;f>0&&(o= __get$(c,h=f-1) ),r.index++}}else{for(var v={directives:{},props:[],events:[],children:[],tagName:d},m= __get$(y,d) ;;){var g=r.source.charCodeAt(r.index);if(62===g){r.index++;break}if(47===g&&62===r.source.charCodeAt(r.index+1)){r.index+=2,m=1;break}if(!g){k(r.source.slice(l)),v=null;break}var b=r.match(s,1);if(!b){k(r.source.slice(l,r.index)),v=null;break}U(v,b[1],b[2]?b[5]||b[6]||b[4]||"":void 0,t)}if(v){if(k(e.slice(l,u)),v.directives.show){for(var w=null,_=v.props.length;_--;)if("style"=== __get$(v.props,_) .name){w= __get$(v.props,_) ;break}var C={type:10,segs:[v.directives.show.value,{type:1,value:""},{type:1,value:";display:none;"}]};w?7===w.expr.type?w.expr.segs.push(C): __get$(v.props,_) .expr={type:7,segs:[w.expr,C]}:v.props.push({name:"style",expr:C})}if(v.directives.else||v.directives.elif){for(var N=o.children.length,S=null;N--;){var A= __get$(o.children,N) ;if(!A.textExpr){S=A;break}o.children.splice(N,1)}S&&(S.elses=S.elses||[],S.elses.push(v))}else{if("tr"===v.tagName&&"table"===o.tagName){var E={directives:{},props:[],events:[],children:[],tagName:"tbody"};o.children.push(E),o=E, __set$(c,++h,E) }o.children.push(v)}m||(o=v, __set$(c,++h,v) )}}l=r.index}return k( __call$(r.source.slice(l),"replace",[/^\s+$/,""]) ),n;function k(e){switch(t.trimWhitespace){case"blank":/^\s+$/.test(e)&&(e=null);break;case"all":e= __call$(e,"replace",[/(^\s+|\s+$)/g,""]) }if(e){var n=j(e,t.delimiters),r= __get$(o.children,o.children.length-1) ,i=r&&r.textExpr;i?i.segs?i.segs=i.segs.concat(n.segs||n):null!=i.value&&null!=n.value?i.value=i.value+n.value:r.textExpr={type:7,segs:[i].concat(n.segs||n)}:o.children.push({textExpr:n})}}}function q(e,t,n){for(var r=t;r;){if("function"==typeof r.error)return void r.error(e,t,n);r=r.parentComponent}throw e}function Q(e){if("object"==typeof e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+ __get$(e,n) +";");return t}return e}var F={url:encodeURIComponent,_class:function(e){return e instanceof Array?e.join(" "):e},_style:Q,_xclass:function(e,t){return e instanceof Array&&(e=e.join(" ")),e?t?t+" "+e:e:t},_xstyle:function(e,t){return(e=e&&Q(e))?t?t+";"+e:e:t}};function z(e,t,r){if(null!=e.value)return e.value;var i;switch(e.type){case 13:return null;case 9:switch(i=z(e.expr,t,r),e.operator){case 33:i=!i;break;case 43:i=+i;break;case 45:i=0-i}return i;case 8:i=z(e.segs[0],t,r);var a=z(e.segs[1],t,r);switch(e.operator){case 37:i%=a;break;case 43:i+=a;break;case 45:i-=a;break;case 42:i*=a;break;case 47:i/=a;break;case 60:i=i<a;break;case 62:i=i>a;break;case 76:i=i&&a;break;case 94:i=i!=a;break;case 121:i=i<=a;break;case 122:i=i==a;break;case 123:i=i>=a;break;case 155:i=i!==a;break;case 183:i=i===a;break;case 248:i=i||a}return i;case 10:return z( __get$(e.segs,z(e.segs[0],t,r)?1:2) ,t,r);case 12:i=[];for(var s=0,o=e.items.length;s<o;s++){var c=z((h= __get$(e.items,s) ).expr,t,r);h.spread?c&&(i=i.concat(c)):i.push(c)}return i;case 11:for(i={},s=0,o=e.items.length;s<o;s++){var h;c=z((h= __get$(e.items,s) ).expr,t,r),h.spread?c&&n(i,c): __set$(i,z(h.name,t,r),c) }return i;case 4:return t.get(e);case 5:if(i=z(e.expr,t,r),r)for(s=0,o=e.filters.length;s<o;s++){var l= __get$(e.filters,s) ,u=l.name.paths[0].value;switch(u){case"url":case"_class":case"_style":i= __call$(F,u,[i]) ;break;case"_xclass":case"_xstyle":i= __call$(F,u,[i,z(l.args[0],t,r)]) ;break;default:try{i= __get$(r.filters,u) && __get$(r.filters,u) .apply(r,[i].concat($(l.args,t,r)))}catch(e){q(e,r,"filter:"+u)}}}return null==i&&(i=""),i;case 6:if(r&&4===e.name.type){var p=r,d=e.name.paths.length;for(s=0;p&&s<d;s++)p= __get$(p,z(__get$(e.name.paths,s),t,r)) ;p&&(i=p.apply(r,$(e.args,t,r)))}break;case 7:var f="";for(s=0,o=e.segs.length;s<o;s++){var v= __get$(e.segs,s) ;f+=v.value||z(v,t,r)}return f}return i}function $(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(z( __get$(e,i) ,t,n));return r}function G(e,t,n){for(var r=0,i=t.length;r<i;r++)if(J(e, __get$(t,r) ,n))return 1;return 0}function J(e,t,n){switch(t.type){case 4:for(var r=t.paths,i=r.length,a=e.paths,s=a.length,o=1,c=0;c<i;c++){var h= __get$(r,c) ,l=h.value;if(null==l&&J(e,h,n)){o=1;break}o&&c<s&&(l||z(h,n))!= __get$(a,c) .value&&(o=0)}return o&&(o=Math.max(1,s-i+2)),o;case 9:return J(e,t.expr,n)?1:0;case 7:case 8:case 10:return G(e,t.segs,n);case 12:case 11:for(c=0;c<t.items.length;c++)if(J(e, __get$(t.items,c) .expr,n))return 1;break;case 5:if(J(e,t.expr,n))return 1;for(c=0;c<t.filters.length;c++)if(G(e, __get$(t.filters,c) .args,n))return 1;break;case 6:if(G(e,t.name.paths,n)||G(e,t.args,n))return 1}return 0}function W(e){return  __get$(this,e) }var V={start:{is:W},compiled:{is:W,compiled:!0},inited:{is:W,compiled:!0,inited:!0},created:{is:W,compiled:!0,inited:!0,created:!0},attached:{is:W,compiled:!0,inited:!0,created:!0,attached:!0},leaving:{is:W,compiled:!0,inited:!0,created:!0,attached:!0,leaving:!0},detached:{is:W,compiled:!0,inited:!0,created:!0,detached:!0},disposed:{is:W,disposed:!0}};function Y(e,t){var n= __get$(e._pi,t) ;if(null!=n)return  __get$(e.props,n) }var K={readonly:"readOnly",cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder",for:"htmlFor"};function X(e,t,n){var r= __get$(K,n) ||n,i=null!=t;r in e? __set$(e,r,i?t:"") :i&&e.setAttribute(n,t),i||e.removeAttribute(n)}function Z(e,t,n){e.setAttribute(n,t)}function ee(e,t,n){ __set$(e,__get$(K,n)||n,!!t) }function te(e,t,n,r){m>9&&!e.value&&t&&(r.__bkph=!0,f((function(){r.__bkph=!1}))),X(e,t,n)}var ne={id:function(e,t){null!=t?e.id=t:e.id&&e.removeAttribute("id")},style:function(e,t){e.style.cssText=t},class:function(e,t){(m||e.className!==t)&&(e.className=t)},slot:t,draggable:ee},re={checkbox:function(e,t){if(e instanceof Array)for(var n=e.length;n--;)if( __get$(e,n) ===t)return!0},radio:function(e,t){return e===t}},ie={input:{multiple:ee,checked:function(e,t,n,r){var i=t,a=Y(r.aNode,"value"),s=Y(r.aNode,"type");if(a&&s){var o=z(s.expr,r.scope,r.owner);if( __get$(re,o) ){var c=Y(r.aNode,"checked");null==c||c.hintExpr||(c.hintExpr=a.expr),i=!! __call$(re,o,[t,r.data?z(a.expr,r.data,r):z(a.expr,r.scope,r.owner)]) }}ee(e,i,"checked"),m&&m<8&&!r.lifeCycle.attached&&ee(e,i,"defaultChecked")},placeholder:te,readonly:ee,disabled:ee,autofocus:ee,required:ee},option:{value:function(e,t,n,r){X(e,t,n),function(e,t){for(var n=e.parent;n&&"select"!==n.tagName;)n=n.parent;if(n){var r,i,a=null;if((r=Y(n.aNode,"value"))&&(i=r.expr)&&(a=5===n.nodeType?z(i,n.data,n):z(i,n.scope,n.owner)||""),a===t)return 1}}(r,t)&&(e.selected=!0)}},select:{readonly:ee,disabled:ee,autofocus:ee,required:ee},textarea:{placeholder:te,readonly:ee,disabled:ee,autofocus:ee,required:ee},button:{disabled:ee,autofocus:ee,type:function(e,t){null!=t?e.setAttribute("type",t):e.removeAttribute("type")}}};function ae(e,t){if( __get$(c,e) )return Z;var n= __get$(ie,e) ;n||(n= __set$(ie,e,{}) );var r= __get$(n,t) ;return r||(r= __get$(ne,t) ||X, __set$(n,t,r) ),r}function se(e,t,n){var r=e.option.target;return r&&r.node===t&&(!n||r.prop===n)}function oe(e,t,n){for(var r=e,i=0;null!=r&&i<t.paths.length;i++)r= __get$(r,z(__get$(t.paths,i),n)) ;return r}function ce(e,t){this.parent=t,this.raw=e||{},this.listeners=[]}function he(e,t,n,r,i,a){if(n>=r)return i;null==e&&(e={});var s= __get$(t,n) ,o=z(s,a),c=e;if(e instanceof Array){var h=+o;o=isNaN(h)?o:h, __set$(c=e.slice(0),o,he(__get$(e,o),t,n+1,r,i,a)) }else if("object"==typeof e){c={};var l=!0;for(var u in e)e.hasOwnProperty(u)&&(u===o?(l=!1, __set$(c,o,he(__get$(e,o),t,n+1,r,i,a)) ): __set$(c,u,__get$(e,u)) );l&&( __set$(c,o,he(__get$(e,o),t,n+1,r,i,a)) )}return null==s.value&&( __set$(t,n,{type:"string"==typeof o?1:2,value:o}) ),c}function le(e,t,n,r){var i=e.expr.args;return function(a){r||(a=a||window.event);var s=oe(t,e.expr.name,n);if("function"==typeof s&&s.apply(t,i.length?$(i,new ce({$event:a},n),t):[]),e.modifier.prevent)return a.preventDefault&&a.preventDefault(),!1;e.modifier.stop&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}}function ue(e,t){if(t)for(var n=0;n<e.length;n++){var r= __get$(e,n) ;if(!r.overview){var i=r.expr.paths;r.overview=i[0].value,i.length>1&&(r.extOverview=i[0].value+"."+i[1].value,r.wildOverview=i[0].value+".*")}if( __get$(t,r.overview) ||r.wildOverview&& __get$(t,r.wildOverview) ||r.extOverview&& __get$(t,r.extOverview) )return!0}}function pe(e,t,n){t&&(n?t.insertBefore(e,n):t.appendChild(e))}ce.prototype.listen=function(e){"function"==typeof e&&this.listeners.push(e)},ce.prototype.unlisten=function(e){for(var t=this.listeners.length;t--;)e&& __get$(this.listeners,t) !==e||this.listeners.splice(t,1)},ce.prototype.fire=function(e){if(!(e.option.silent||e.option.silence||e.option.quiet))for(var t=0;t<this.listeners.length;t++) __get$(this.listeners,t) .call(this,e)},ce.prototype.get=function(e,t){var n=this.raw;if(!e)return n;"object"!=typeof e&&(e=R(e));var r=e.paths;if(t=t||this,void 0===(n= __get$(n,r[0].value) )&&this.parent)n=this.parent.get(e,t);else for(var i=1,a=r.length;null!=n&&i<a;i++)n= __get$(n,__get$(r,i).value||z(__get$(r,i),t)) ;return n},ce.prototype.set=function(e,t,n){if(n=n||{},e=R(e),this.get(e)!==t||n.force){var r=(e={type:4,paths:e.paths.slice(0)}).paths[0].value; __set$(this.raw,r,he(__get$(this.raw,r),e.paths,1,e.paths.length,t,this)) ,this.fire({type:1,expr:e,value:t,option:n})}},ce.prototype.assign=function(e,t){for(var n in t=t||{},e)this.set({type:4,paths:[{type:1,value:n}]}, __get$(e,n) ,t)},ce.prototype.merge=function(e,t,n){for(var r in n=n||{},e=R(e),t)this.set({type:4,paths:e.paths.concat([{type:1,value:r}])}, __get$(t,r) ,n)},ce.prototype.apply=function(e,t,n){e=R(e);var r=this.get(e);this.set(e,t(r),n)},ce.prototype.splice=function(e,t,n){n=n||{},e={type:4,paths:(e=R(e)).paths.slice(0)};var r=this.get(e),i=[];if(r instanceof Array){var a=t[0],s=r.length;a>s?a=s:a<0&&(a=s+a)<0&&(a=0);var o=r.slice(0);i=o.splice.apply(o,t),this.raw=he(this.raw,e.paths,0,e.paths.length,o,this),this.fire({expr:e,type:2,index:a,deleteCount:i.length,value:i,insertions:t.slice(2),option:n})}return i},ce.prototype.push=function(e,t,n){var r=this.get(e);if(r instanceof Array)return this.splice(e,[r.length,0,t],n),r.length+1},ce.prototype.pop=function(e,t){var n=this.get(e);if(n instanceof Array){var r=n.length;if(r)return this.splice(e,[r-1,1],t)[0]}},ce.prototype.shift=function(e,t){return this.splice(e,[0,1],t)[0]},ce.prototype.unshift=function(e,t,n){var r=this.get(e);if(r instanceof Array)return this.splice(e,[0,0,t],n),r.length+1},ce.prototype.removeAt=function(e,t,n){this.splice(e,[t,1],n)},ce.prototype.remove=function(e,t,n){var r=this.get(e);if(r instanceof Array)for(var i=r.length;i--;)if( __get$(r,i) ===t){this.splice(e,[i,1],n);break}};var de={class:1,style:1};function fe(e,t){if(this.index=0,this.target=e,this.doc=e.ownerDocument,t)this.children=[t,t.nextSibling],this.current=t,this.next=this.children[1];else{this.children=[];for(var n,r=e.firstChild;r;){switch(n=r.nextSibling,r.nodeType){case 3:case 1:case 8:this.children.push(r)}r=n}this.current=this.children[0],this.next=this.children[1]}}function ve(e,t,n,r,i,a){if(this.aNode=e,this.owner=r,this.scope=n,this.parent=t,this.lifeCycle=V.start,this.children=[],this.parentComponent=5===t.nodeType?t:t.parentComponent,this.tagName=i||e.tagName,g&&this.tagName.indexOf("-")>0&&(this.tagName="div"),e._i++,this._sbindData=He(e.directives.bind,this.scope,this.owner),this.lifeCycle=V.inited,a){var s=a.current;if(!s)throw new Error("[SAN HYDRATE ERROR] Element not found. \nPaths: "+Fe(this).join(" > "));if(1!==s.nodeType)throw new Error("[SAN HYDRATE ERROR] Element type not match, expect 1 but "+s.nodeType+".\nPaths: "+Fe(this).join(" > "));if(s.tagName!==this.tagName.toUpperCase()&&s.tagName!==this.tagName)throw new Error("[SAN HYDRATE ERROR] Element tagName not match, expect "+this.tagName+" but meet "+s.tagName+".\nPaths: "+Fe(this).join(" > "));this.el=s,a.goNext(),Ce(this,this.scope,this.owner),this.lifeCycle=V.created,this._attached(),this.lifeCycle=V.attached}}function me(e,t,n,r,i,a){if(e.elem)return new ve(e,t,n,r,a,i);if(e.Clazz)return new e.Clazz(e,t,n,r,i);var s=r.components&& __get$(r.components,a||e.tagName) ;if(s)return"function"==typeof s?new s({source:e,owner:r,scope:n,parent:t,hydrateWalker:i}):new _e({source:e,owner:r,scope:n,parent:t,hydrateWalker:i},s);if(e.directives.is)switch(a){case"fragment":case"template":return new we(e,t,n,r,i)}else e.elem=!0;return new ve(e,t,n,r,a,i)}function ge(e,t,n){for(var r=e&&e.length;r--;) __get$(e,r) .dispose(t,n)}function ye(e,t,n,r,i){if(e.elem)return new ve(e,t,n,r,i);if(e.Clazz)return new e.Clazz(e,t,n,r);var a=r.components&& __get$(r.components,i||e.tagName) ;if(a)return"function"==typeof a?new a({source:e,owner:r,scope:n,parent:t}):new _e({source:e,owner:r,scope:n,parent:t},a);if(e.directives.is)switch(i){case"fragment":case"template":return new we(e,t,n,r)}else e.elem=!0;return new ve(e,t,n,r,i)}function be(e,t){var n=e.ownerDocument;this.sel=n.createComment(this.id),pe(this.sel,e,t);for(var r=0;r<this.aNode.children.length;r++){var i=ye( __get$(this.aNode.children,r) ,this,this.childScope||this.scope,this.childOwner||this.owner);this.children.push(i),i.attach(e,t)}this.el=n.createComment(this.id),pe(this.el,e,t),this.lifeCycle=V.attached}function we(t,n,r,i,a){if(this.aNode=t,this.owner=i,this.scope=r,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=e++,this.lifeCycle=V.start,this.children=[],a){var s;a.current&&8===a.current.nodeType?(this.sel=a.current,s=1,a.goNext()):(this.sel=a.doc.createComment(this.id),pe(this.sel,a.target,a.current));for(var o=this.aNode.children,c=0,h=o.length;c<h;c++)this.children.push(me( __get$(o,c) ,this,this.scope,this.owner,a));s?(this.el=a.current,a.goNext()):(this.el=a.doc.createComment(this.id),pe(this.el,a.target,a.current)),this.lifeCycle=V.attached}}function xe(e){ge(this.children,e,1),e||h(this.el),this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()}function _e(t,n){this.options=t,this.loader=n,this.id=e++,this.children=[];var r=t.hydrateWalker;if(r){var i=this.loader.placeholder;i&&(this.children[0]=new i(t)),this.el=r.doc.createComment(this.id),pe(this.el,r.target,r.current);var a=this;this.loader.start((function(e){a.onload(e)}))}t.hydrateWalker=null}function Ce(e,t,n){if(!e.aNode.directives.html)for(var r=new fe(e.el),i=e.aNode.children,a=0,s=i.length;a<s;a++)e.children.push(me( __get$(i,a) ,e,t,n,r))}function Ne(e,t){var n= __get$(c,e.tagName) &&t.createElementNS?t.createElementNS("http://www.w3.org/2000/svg",e.tagName):t.createElement(e.tagName);e._el=n;for(var r=0,i=e.props.length;r<i;r++){var a= __get$(e.props,r) ;null!=a.expr.value&&a.handler(n,a.expr.value,a.name,e)}return f((function(){e._el=null,e._i=0})),n}function Se(e){var t,n=e.aNode.directives.transition,r=e.owner;if(5===e.nodeType){var i=e.source&&e.source.directives.transition;i?n=i:r=e}if(n&&r&&"function"==typeof(t=oe(r,n.value.name)))try{t=t.apply(r,$(n.value.args,e.scope,r))}catch(e){q(e,r,"transitionCreate")}return t||e.transition}function Ae(){if(!this.lifeCycle.leaving){if(!this.disposeNoTransition){var e=Se(this);if(e&&e.leave){this._toPhase?this._toPhase("leaving"):this.lifeCycle=V.leaving;var t=this;try{return void e.leave(this.el,(function(){t._leave()}))}catch(e){q(e,5===this.nodeType?this.parentComponent:this.owner,"transitionLeave")}}}this._leave()}}function Ee(e,t){this.leaveDispose=1,this.disposeNoDetach=e,this.disposeNoTransition=t,this.detach()}fe.prototype.goNext=function(){this.current= __get$(this.children,++this.index) ,this.next= __get$(this.children,this.index+1) },ve.prototype.nodeType=4,ve.prototype.attach=function(e,t){if(!this.lifeCycle.attached){var n=this.aNode,r=e.ownerDocument;if(!this.el){var i;if(n._ce&&n._i>2?(i=n._dp,this.el=(n._el||Ne(n,r)).cloneNode(!1)):(i=n.props,this.el= __get$(c,this.tagName) &&r.createElementNS?r.createElementNS("http://www.w3.org/2000/svg",this.tagName):r.createElement(this.tagName)),this._sbindData)for(var a in this._sbindData)this._sbindData.hasOwnProperty(a)&&ae(this.tagName,a)(this.el, __get$(this._sbindData,a) ,a,this);for(var s=0,o=i.length;s<o;s++){var h= __get$(i,s) ,l=z(h.expr,this.scope,this.owner);!l&& __get$(de,h.name) ||h.handler(this.el,l,h.name,this)}this.lifeCycle=V.created}if(pe(this.el,e,t),!this._contentReady){var u=n.directives.html;if(u)this.el.innerHTML=z(u.value,this.scope,this.owner);else for(s=0,o=n.children.length;s<o;s++){var p= __get$(n.children,s) ,d=p.Clazz?new p.Clazz(p,this,this.scope,this.owner):ye(p,this,this.scope,this.owner);this.children.push(d),d.attach(this.el)}this._contentReady=1}this._attached(),this.lifeCycle=V.attached}},ve.prototype.detach=Ae,ve.prototype.dispose=Ee,ve.prototype._leave=function(){if(this.leaveDispose&&!this.lifeCycle.disposed){for(var e=this.children.length;e--;) __get$(this.children,e) .dispose(1,1);if(this._elFns){for(e=this._elFns.length;e--;){var t= __get$(this._elFns,e) ;s(this.el,t[0],t[1],t[2])}this._elFns=null}this._inputTimer&&(clearInterval(this._inputTimer),this._inputTimer=null),this.disposeNoDetach&&this.parent||h(this.el),this.lifeCycle=V.detached,this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()}},ve.prototype._update=function(e){var t=this.aNode._d;if(t&&ue(e,t)){var n=this;this._sbindData=Qe(this.aNode.directives.bind,this._sbindData,this.scope,this.owner,e,(function(e,t){e in n.aNode._pi||ae(n.tagName,e)(n.el,t,e,n)}));for(var r=this.aNode._dp,i=0,a=r.length;i<a;i++)for(var s= __get$(r,i) ,o=s.name,c=0,h=e.length;c<h;c++){var l= __get$(e,c) ;if(!se(l,this,o)&&(J(l.expr,s.expr,this.scope)||s.hintExpr&&J(l.expr,s.hintExpr,this.scope))){s.handler(this.el,z(s.expr,this.scope,this.owner),o,this);break}}var u=this.aNode.directives.html;if(u){for(var p=e.length;p--;)if(J( __get$(e,p) .expr,u.value,this.scope)){this.el.innerHTML=z(u.value,this.scope,this.owner);break}}else for(i=0,a=this.children.length;i<a;i++) __get$(this.children,i) ._update(e)}},ve.prototype._attached=Ue,we.prototype.nodeType=7,we.prototype.attach=be,we.prototype.dispose=function(e,t){ge(this.children,e,t),e||(h(this.el),h(this.sel)),this.sel=null,this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()},we.prototype._update=function(e){for(var t=0;t<this.children.length;t++) __get$(this.children,t) ._update(e)},we.prototype._getElAsRootNode=function(){return this.sel},_e.prototype.dispose=xe,_e.prototype.attach=function(e,t){var n=this.loader.placeholder;if(n){var r=new n(this.options);this.children[0]=r,r.attach(e,t)}this.el=e.ownerDocument.createComment(this.id),pe(this.el,e,t);var i=this;this.loader.start((function(e){i.onload(e)}))},_e.prototype._getElAsRootNode=function(){var e=this.children[0];return e&&e.el},_e.prototype.onload=function(e){if(this.el&&e){var t=new e(this.options);t.attach(this.el.parentNode,this.el);var n=this.options.parent;if(n._rootNode===this)n._rootNode=t,t._getElAsRootNode&&(n.el=t._getElAsRootNode());else{var r=n.children;null!=this.parentIndex&& __get$(r,this.parentIndex) ===this||i(r,(function(e,t){e instanceof _e&&(e.parentIndex=t)})), __set$(r,this.parentIndex,t) }}this.dispose()},_e.prototype._update=function(e){this.children[0]&&this.children[0]._update(e)};var ke="undefined"!=typeof window;function De(e,t){var n=e.ownerDocument.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Te(){this.composing&&(this.composing=0,De(this,"input"))}function Ie(){this.composing=1}function Pe(e,t,n){return function(){Me(e,t,n)}}function Oe(e,t,n){return function(){e.__bkph?e.__bkph=!1:this.composing||Me(e,t,n)}}function Re(e,t,n){return function(){e._inputTimer=setInterval((function(){Me(e,t,n)}),16)}}function Le(e){return function(){clearInterval(e._inputTimer),e._inputTimer=null}}function Me(e,t,n){if(e.lifeCycle.created){var r=e.el;if("input"===e.tagName&&"checked"===t.name){var i=Y(e.aNode,"value"),a=Y(e.aNode,"type");if(i&&a)switch(r.type){case"checkbox":return void  __call$(n,r.checked?"push":"remove",[t.expr,z(i.expr,n)]) ;case"radio":return void(r.checked&&n.set(t.expr,z(i.expr,n),{target:{node:e,prop:t.name}}))}}n.set(t.expr, __get$(r,t.name) ,{target:{node:e,prop:t.name}})}}function Be(e,t,n,r){r=!!r,e._elFns=e._elFns||[],e._elFns.push([t,n,r]),a(e.el,t,n,r)}function je(e){a(e,"selectionchange",(function(){var t=e.activeElement;"TEXTAREA"!==t.tagName&&"INPUT"!==t.tagName||De(t,"input")}))}function Ue(){if(!this._rootNode){for(var e=5===this.nodeType,n=e?this.data:this.scope,r=this.aNode._xp,i=0,a=r.length;i<a;i++){var s= __get$(r,i) ;switch(s.name){case"value":switch(this.tagName){case"input":case"textarea":if(9===m){var o=this.el.ownerDocument;o.__sanInputEventCompatible||(o.__sanInputEventCompatible=!0,je(o))}ke&&(Be(this,"change",Te),Be(this,"compositionstart",Ie),Be(this,"compositionend",Te)),"oninput"in this.el?Be(this,"input",Oe(this,s,n)):(Be(this,"focusin",Re(this,s,n)),Be(this,"focusout",Le(this)));break;case"select":Be(this,"change",Pe(this,s,n))}break;case"checked":if("input"===this.tagName)switch(this.el.type){case"checkbox":case"radio":Be(this,"click",Pe(this,s,n))}}}var c=e?this:this.owner;for(i=0,a=this.aNode.events.length;i<a;i++)Be(this,(h= __get$(this.aNode.events,i) ).name,le(h,c,n,h.modifier),h.modifier.capture);if(e&&this.nativeEvents)for(i=0,a=this.nativeEvents.length;i<a;i++){var h;Be(this,(h= __get$(this.nativeEvents,i) ).name,le(h,this.owner,this.scope),h.modifier.capture)}var l=Se(this);if(l&&l.enter)try{l.enter(this.el,t)}catch(t){q(t,e?c.parentComponent:c,"transitionEnter")}}}function He(e,t,n){if(e&&t)return z(e.value,t,n)}function qe(e,t){var n,r=[];for(n in e)e.hasOwnProperty(n)&&r.push(n);for(n in t)t.hasOwnProperty(n)&&! __get$(e,n) &&r.push(n);return r}function Qe(e,t,n,r,i,a){if(e){for(var s=i.length;s--;)if(J( __get$(i,s) .expr,e.value,n)){for(var o=z(e.value,n,r),c=qe(o,t),h=0,l=c.length;h<l;h++){var u= __get$(c,h) ,p= __get$(o,u) ;p!== __get$(t,u) &&a(u,p)}return o}return t}}function Fe(e){for(var t=[],n=e;n;){switch(n.nodeType){case 4:t.unshift(n.tagName);break;case 2:t.unshift("if");break;case 3:t.unshift("for["+n.aNode.directives.for.item+"]");break;case 6:t.unshift("slot["+(n.name||"default")+"]");break;case 7:t.unshift("fragment");break;case 5:t.unshift("component["+(n.source?n.source.tagName:"root")+"]");break;case 1:t.unshift("text")}n=n.parent}return t}function ze(e){for(var t,n=[],r=[],i=[],a=[],s=-1,o=0,c=e.length;o<c;o++){for(var h= __get$(n,s) ,l= __get$(r,s) ,u= __get$(i,s) ,p= __get$(a,s) ;h&&(-3===u&&(u= __set$(i,s,__get$(e,o++)||-1) ),-1===u);)h= __get$(n,--s) ,l= __get$(r,s) ,u= __get$(i,s) ,p= __get$(a,s) ;var d,f= __get$(e,o) ,v=-1,m=!1;switch(f){case 1:d={directives:{},props:[],events:[],children:[]};var g= __get$(e,++o) ;g&&(d.tagName=g),v= __get$(e,++o) ||-1;break;case 3:d={type:1,value: __get$(e,++o) };break;case 4:d={type:2,value: __get$(e,++o) };break;case 5:d={type:3,value:!! __get$(e,++o) };break;case 19:d={type:13};break;case 6:d={type:4,paths:m=[]},v= __get$(e,++o) ||-1;break;case 7:d={type:5,filters:m=[]}, __get$(e,++o) &&(d.original=1),v=-2;break;case 8:d={type:6,args:m=[]},v=-2;break;case 9:d={type:7,segs:m=[]}, __get$(e,++o) &&(d.original=1),v= __get$(e,++o) ||-1;break;case 10:m=[],d={type:8,operator: __get$(e,++o) ,segs:m},v=2;break;case 11:d={type:9,operator: __get$(e,++o) },v=-2;break;case 12:d={type:10,segs:m=[]},v=3;break;case 13:d={type:11,items:m=[]},v= __get$(e,++o) ||-1;break;case 14:case 38:case 39:case 41:case 42:case 43:case 44:case 45:d={},v=-2;break;case 15:d={spread:!0},v=-2;break;case 16:d={type:12,items:m=[]},v= __get$(e,++o) ||-1;break;case 17:case 18:d=18===f?{spread:!0}:{},v=-2;break;case 2:case 33:case 34:d={name: __get$(e,++o) },33===f&&(d.noValue=1),34===f&&(d.x=1),v=-2;break;case 35:d={name: __get$(e,++o) ,modifier:{}},v=-2;break;case 36:case 46:d={name: __get$(e,++o) },v=-2;break;case 37:d={item: __get$(e,++o) };var y= __get$(e,++o) ;y&&(d.index=y);var b= __get$(e,++o) ;b&&(d.trackByRaw=b,d.trackBy=R(b)),v=-2;break;case 40:d={value:{}};break;default:f||(d={},v=-2)}if(t||(t=d),h)switch(l){case 1:if(p)h.elses=h.elses||[],h.elses.push(d),--i[s]||s--;else{switch(f){case 2:case 33:case 34:h.props.push(d);break;case 35:h.events.push(d);break;case 36:h.vars=h.vars||[],h.vars.push(d);break;case 46:h.attrs=h.attrs||[],h.attrs.push(d);break;case 37:h.directives.for=d;break;case 38:h.directives.if=d;break;case 39:h.directives.elif=d;break;case 40:h.directives.else=d;break;case 41:h.directives.ref=d;break;case 42:h.directives.bind=d;break;case 43:h.directives.html=d;break;case 44:h.directives.transition=d;break;case 45:h.directives.is=d;break;default:h.children.push(d)}--i[s]||(h.directives.if?( __set$(a,s,"elses") , __set$(i,s,-3) ):s--)}break;case 7:-2===u?( __set$(i,s,-3) ,h.expr=d):(p.push(d),--i[s]||s--);break;case 8:-2===u?( __set$(i,s,-3) ,h.name=d):(p.push(d),--i[s]||s--);break;case 6:case 9:case 10:case 12:case 13:case 16:p.push(d),--i[s]||s--;break;case 11:case 2:case 33:case 34:case 36:case 46:case 15:case 17:case 18:h.expr=d,s--;break;case 14:-2===u?( __set$(i,s,-4) ,h.name=d):(h.expr=d,s--);break;case 35:-2===u?( __set$(i,s,-3) ,h.expr=d):( __set$(h.modifier,f,!0) ,--i[s]||s--);break;case 37:case 38:case 39:case 41:case 42:case 43:case 44:case 45:h.value=d,s--;break;default:h.textExpr=d,s--}-1!==v&&( __set$(n,++s,d) , __set$(r,s,f) , __set$(i,s,v) , __set$(a,s,m) )}return t}function $e(t){t=t||{},this.lifeCycle=V.start,this.id=e++,"function"==typeof this.construct&&this.construct(t),this.children=[],this.listeners={},this.slotChildren=[],this.implicitChildren=[];var r=this.constructor;this.inheritAttrs=!(!1===this.inheritAttrs||!1===r.inheritAttrs),this.filters=this.filters||r.filters||{},this.computed=this.computed||r.computed||{},this.messages=this.messages||r.messages||{},this.ssr=this.ssr||r.ssr,t.transition&&(this.transition=t.transition),this.owner=t.owner,this.scope=t.scope,this.el=t.el;var i=t.parent;i?(this.parent=i,this.parentComponent=5===i.nodeType?i:i&&i.parentComponent):this.owner&&(this.parentComponent=this.owner,this.scope=this.owner.data),this.sourceSlotNameProps=[],this.sourceSlots={named:{}};var a,s=r.prototype;if(s.hasOwnProperty("_cmptReady")||We(r),!s.hasOwnProperty("aNode")){var o=r.aPack||s.hasOwnProperty("aPack")&&s.aPack;o?(s.aNode=ze(o),r.aPack=s.aPack=null):s.aNode=Ve(r)}if(at(s.aNode,this),this.tagName=s.aNode.tagName,this.source="string"==typeof t.source?H(t.source).children[0]:t.source,at(this.source),s.aNode._i++,this.el){var c=this.el.firstChild;if(c&&3===c.nodeType&&(c=c.nextSibling),c&&8===c.nodeType){var l=c.data.match(/^\s*s-data:([\s\S]+)?$/);if(l){var u=l[1];t.data= new Function("return "+__call$(__call$(u,"replace",[/^[\s\n]*/,""]),"replace",[/"(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.\d+Z"/g,function(e,t,n,r,i,a,s){return"new Date("+ +t+","+ +n+","+ +r+","+ +i+","+ +a+","+ +s+")";}])) (),c.previousSibling&&h(c.previousSibling),h(c)}}}if(this.source){this._initSourceSlots(1);for(var p=0,d=this.source.events.length;p<d;p++){var f= __get$(this.source.events,p) ;f.modifier.native?(this.nativeEvents=this.nativeEvents||[],this.nativeEvents.push(f)):this.on(f.name,le(f,t.owner,this.scope,1),f)}this.tagName=this.tagName||this.source.tagName,this.binds=this.source._b,this.attrs=this.source.attrs,this._srcSbindData=He(this.source.directives.bind,this.scope,this.owner)}this._toPhase("compiled");try{a="function"==typeof this.initData&&this.initData()}catch(e){q(e,this,"initData")}if(a=n(a||{},t.data||this._srcSbindData),this.binds&&this.scope){for(p=0,d=this.binds.length;p<d;p++){var v= __get$(this.binds,p) ;void 0!==(m=z(v.expr,this.scope,this.owner))&&( __set$(a,v.name,m) )}if(this.attrs)for(a.$attrs={},p=0,d=this.attrs.length;p<d;p++){var m,y= __get$(this.attrs,p) ;void 0!==(m=z(y.expr,this.scope,this.owner))&&( __set$(a.$attrs,y.name,m) )}}for(var b in this.data=new ce(a),this.tagName=this.tagName||"div",g&&this.tagName.indexOf("-")>0&&(this.tagName="div"),this.computedDeps={},this.computed)this.computed.hasOwnProperty(b)&&! __get$(this.computedDeps,b) &&this._calcComputed(b);this._initDataChanger(),this._sbindData=He(this.aNode.directives.bind,this.data,this),this._toPhase("inited");var w=t.hydrateWalker,x=this.aNode;if(w)if("client-render"===this.ssr)this.attach(w.target,w.current);else{if(this._toPhase("created"),x.Clazz|| __get$(this.components,x.tagName) )!x.Clazz&&this.attrs&&this.inheritAttrs&&(x=ct(x,this.source)),this._rootNode=me(x,this,this.data,this,w),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode());else{var _=w.current;_&&1===_.nodeType&&(this.el=_,w.goNext()),Ce(this,this.data,this)}this._attached(),this._toPhase("attached")}else this.el&&(this._toPhase("created"),x.Clazz|| __get$(this.components,x.tagName) ?(!x.Clazz&&this.attrs&&this.inheritAttrs&&(x=ct(x,this.source)),w=new fe(this.el.parentNode,this.el),this._rootNode=me(x,this,this.data,this,w),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode())):Ce(this,this.data,this),this._attached(),this._toPhase("attached"))}function Ge(e,t){if("function"==typeof e)return e;function n(e){t.call(this,e)}return t=t||$e,n.prototype=e,r(n,t),n}function Je(e,t,n){this.load=e,this.placeholder=t,this.fallback=n,this.listeners=[]}function We(e){var t=e.prototype;t.components=e.components||t.components||{};var n=t.components;for(var r in n){var i= __get$(n,r) ;"object"!=typeof i||i instanceof Je?"self"===i&&( __set$(n,r,e) ): __set$(n,r,Ge(i)) }t._cmptReady=1}function Ve(e){var t=e.prototype,n=H(e.template||t.template,{trimWhitespace:t.trimWhitespace||e.trimWhitespace,delimiters:t.delimiters||e.delimiters}).children[0];if(n&&n.textExpr&&(n=null),"template"===(n=n||{directives:{},props:[],events:[],children:[]}).tagName&&delete n.tagName,!1!==t.autoFillStyleAndId&&!1!==e.autoFillStyleAndId&&!1!==t.inheritAttrs&&!1!==e.inheritAttrs&&(Ye(n.props),n.elses))for(var r=0,i=n.elses.length;r<i;r++)Ye( __get$(n.elses,r) .props);return n}function Ye(e){for(var t={},n=e.length;n--;){var r= __get$(e,n) ;switch(r.name){case"class":case"style": __set$(t,r.name,!0) ,r.expr={type:5,expr:{type:4,paths:[{type:1,value:r.name}]},filters:[{type:6,args:[r.expr],name:{type:4,paths:[{type:1,value:"_x"+r.name}]}}]};break;case"id": __set$(t,r.name,!0) }}t.class||e.push({name:"class",expr:{type:5,expr:{type:4,paths:[{type:1,value:"class"}]},filters:[{type:6,args:[],name:{type:4,paths:[{type:1,value:"_class"}]}}]}}),t.style||e.push({name:"style",expr:{type:5,expr:{type:4,paths:[{type:1,value:"style"}]},filters:[{type:6,args:[],name:{type:4,paths:[{type:1,value:"_style"}]}}]}}),t.id||e.push({name:"id",expr:{type:4,paths:[{type:1,value:"id"}]}})}$e.prototype._initSourceSlots=function(e){if(this.sourceSlots.named={},this.source&&this.scope)for(var t=this.source.children,n=0,r=t.length;n<r;n++){var i,a= __get$(t,n) ,s=!a.textExpr&&Y(a,"slot");if(s){e&&this.sourceSlotNameProps.push(s);var o=z(s.expr,this.scope,this.owner);(i= __get$(this.sourceSlots.named,o) )||(i= __set$(this.sourceSlots.named,o,[]) ),i.push(a)}else e&&((i=this.sourceSlots.noname)||(i=this.sourceSlots.noname=[]),i.push(a))}},$e.prototype.nodeType=5,$e.prototype.nextTick=f,$e.prototype._ctx=(new Date).getTime().toString(16),$e.prototype._toPhase=function(e){if(! __get$(this.lifeCycle,e) ){if(this.lifeCycle= __get$(V,e) ||this.lifeCycle,"function"==typeof  __get$(this,e) )try{ __call$(this,e,[]) }catch(t){q(t,this,"hook:"+e)}this._afterLife=this.lifeCycle}},$e.prototype.on=function(e,t,n){"function"==typeof t&&( __get$(this.listeners,e) ||( __set$(this.listeners,e,[]) ), __get$(this.listeners,e) .push({fn:t,declaration:n}))},$e.prototype.un=function(e,t){for(var n= __get$(this.listeners,e) ,r=n&&n.length;r--;)t&&t!== __get$(n,r) .fn||n.splice(r,1)},$e.prototype.fire=function(e,t){var n=this;i( __get$(this.listeners,e) ,(function(r){try{r.fn.call(n,t)}catch(t){q(t,n,"event:"+e)}}))},$e.prototype._calcComputed=function(e){var t= __get$(this.computedDeps,e) ;t||(t= __set$(this.computedDeps,e,{}) );var n=this;try{var r= __get$(this.computed,e) .call({data:{get:function(r){return  __get$(t,r) ||( __set$(t,r,1) , __get$(n.computed,r) &&! __get$(n.computedDeps,r) &&n._calcComputed(r),n.watch(r,(function(){n._calcComputed(e)}))),n.data.get(r)}}});this.data.set(e,r)}catch(t){q(t,this,"computed:"+e)}},$e.prototype.dispatch=function(e,t){for(var n=this.parentComponent;n;){var r= __get$(n.messages,e) ||n.messages["*"];if("function"==typeof r){try{r.call(n,{target:this,value:t,name:e})}catch(t){q(t,n,"message:"+(e||"*"))}return}n=n.parentComponent}},$e.prototype.slot=function(e){var t=[],n=this;return function r(a){i(a,(function(i){6===i.nodeType&&i.owner===n?(i.isNamed&&i.name===e||!i.isNamed&&!e)&&t.push(i):r(i.children)}))}(this.children),t},$e.prototype.ref=function(e){var t,n=this;function r(e){if(e)for(var n=0,r=e.length;n<r;n++)if(i( __get$(e,n) ),t)return}function i(i){if(1!==i.nodeType){if(i.owner===n){var a;switch(i.nodeType){case 4:(a=i.aNode.directives.ref)&&z(a.value,i.scope,n)===e&&(t=i.el);break;case 5:(a=i.source.directives.ref)&&z(a.value,i.scope,n)===e&&(t=i)}if(t)return;r(i.slotChildren)}t||r(i.children)}}return this._rootNode?i(this._rootNode):r(this.children),t},$e.prototype._update=function(e){if(!this.lifeCycle.disposed){var t=this,n=!1;if(this._notifyNeedReload=function(){n=!0},e)if(this.source&&(this._srcSbindData=Qe(this.source.directives.bind,this._srcSbindData,this.scope,this.owner,e,(function(e,n){e in t.source._pi||t.data.set(e,n,{target:{node:t.owner}})}))),i(e,(function(e){var r=e.expr;i(t.binds,(function(n){var i,a=n.name,s=n.expr;!se(e,t,a)&&(i=J(r,s,t.scope))&&(i>2&&(a={type:4,paths:[{type:1,value:a}].concat(r.paths.slice(s.paths.length))},s=r),i>=2&&2===e.type?t.data.splice(a,[e.index,e.deleteCount].concat(e.insertions),{target:{node:t.owner}}):t.data.set(a,z(s,t.scope,t.owner),{target:{node:t.owner}}))})),i(t.attrs,(function(e){J(r,e.expr,t.scope)&&t.data.set(e._data,z(e.expr,t.scope,t.owner))})),i(t.sourceSlotNameProps,(function(e){return!(n=n||J(r,e.expr,t.scope))}))})),n)this._initSourceSlots(),this._repaintChildren();else for(var r=this.slotChildren.length;r--;){var a= __get$(this.slotChildren,r) ;a.lifeCycle.disposed?this.slotChildren.splice(r,1):a.isInserted&&a._update(e,1)}var s=this._dataChanges;if(s){this._dataChanges=null,this._sbindData=Qe(this.aNode.directives.bind,this._sbindData,this.data,this,s,(function(e,n){t._rootNode||e in t.aNode._pi||ae(t.tagName,e)(t.el,n,e,t)}));var o=this.aNode.directives.html;if(this._rootNode)this._rootNode._update(s),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode());else if(o){for(var c=s.length;c--;)if(J( __get$(s,c) .expr,o.value,this.data)){this.el.innerHTML=z(o.value,this.data,this);break}}else{for(var h=this.aNode._dp,l=0;l<h.length;l++)for(var u= __get$(h,l) ,p=0;p<s.length;p++){var d= __get$(s,p) ;if(J(d.expr,u.expr,this.data)||u.hintExpr&&J(d.expr,u.hintExpr,this.data)){u.handler(this.el,z(u.expr,this.data,this),u.name,this);break}}if(this.attrs&&this.inheritAttrs){var f=this.data.get("$attrs");for(l=0;l<this.attrs.length;l++){var v= __get$(this.attrs,l) ;if(null== __get$(this.aNode._pi,v.name) )for(p=0;p<s.length;p++){var m= __get$(s,p) .expr.paths;if("$attrs"===m[0].value&&m[1].value===v.name){ae(this.tagName,v.name)(this.el, __get$(f,v.name) ,v.name,this);break}}}}for(l=0;l<this.children.length;l++) __get$(this.children,l) ._update(s)}for(n&&(this._initSourceSlots(),this._repaintChildren()),l=0;l<this.implicitChildren.length;l++) __get$(this.implicitChildren,l) ._update(s);"function"==typeof this.updated&&this.updated(),this.owner&&this._updateBindxOwner(s)&&this.owner._update()}this._notifyNeedReload=null}},$e.prototype._updateBindxOwner=function(e){var t,n=this;return i(e,(function(e){i(n.binds,(function(r){var i=e.expr;if(r.x&&!se(e,n.owner)&&J(i,R(r.name),n.data)){var a=r.expr;i.paths.length>1&&(a={type:4,paths:r.expr.paths.concat(i.paths.slice(1))}),t=1,n.scope.set(a,z(i,n.data,n),{target:{node:n,prop:r.name}})}}))})),t},$e.prototype._repaintChildren=function(){if(this._rootNode){var e=this._rootNode.el.parentNode,t=this._rootNode.el.nextSibling;this._rootNode.dispose(0,1),this.slotChildren=[];var n=this.aNode;!n.Clazz&&this.attrs&&this.inheritAttrs&&(n=ct(n,this.source)),this._rootNode=ye(n,this,this.data,this),this._rootNode.attach(e,t),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode())}else{ge(this.children,0,1),this.children=[],this.slotChildren=[];for(var r=0,i=this.aNode.children.length;r<i;r++){var a=ye( __get$(this.aNode.children,r) ,this,this.data,this);this.children.push(a),a.attach(this.el)}}},$e.prototype._initDataChanger=function(){var e=this;this._dataChanger=function(t){e._afterLife.created?(e._dataChanges||(f(e._update,e),e._dataChanges=[]),e._dataChanges.push(t)):e.lifeCycle.inited&&e.owner&&e._updateBindxOwner([t])},this.data.listen(this._dataChanger)},$e.prototype.watch=function(e,t){var n=R(e),r=z(n,this.data,this),i=this;this.data.listen((function(a){if(J(a.expr,n,i.data)){var s=z(n,i.data,i);if(s!==r){var o=r;r=s;try{t.call(i,s,{oldValue:o,newValue:s,change:a})}catch(t){q(t,i,"watch:"+e)}}}}))},$e.prototype._getElAsRootNode=function(){return this.el},$e.prototype.attach=function(e,t){if(!this.lifeCycle.attached){var n=this.aNode;if(n.Clazz|| __get$(this.components,n.tagName) )!n.Clazz&&this.attrs&&this.inheritAttrs&&(n=ct(n,this.source)),this._rootNode=this._rootNode||ye(n,this,this.data,this),this._rootNode.attach(e,t),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode()),this._toPhase("created");else{if(!this.el){var r,i=e.ownerDocument;if(n._ce&&n._i>2?(r=n._dp,this.el=(n._el||Ne(n,i)).cloneNode(!1)):(r=n.props,this.el= __get$(c,this.tagName) &&i.createElementNS?i.createElementNS("http://www.w3.org/2000/svg",this.tagName):i.createElement(this.tagName)),this._sbindData)for(var a in this._sbindData)this._sbindData.hasOwnProperty(a)&&ae(this.tagName,a)(this.el, __get$(this._sbindData,a) ,a,this);for(var s=0,o=r.length;s<o;s++){var h= __get$(r,s) ,l=z(h.expr,this.data,this);!l&& __get$(de,h.name) ||h.handler(this.el,l,h.name,this)}if(this.attrs&&this.inheritAttrs){var u=this.data.get("$attrs");for(s=0;s<this.attrs.length;s++){var p= __get$(this.attrs,s) ;null== __get$(this.aNode._pi,p.name) &&ae(this.tagName,p.name)(this.el, __get$(u,p.name) ,p.name,this)}}this._toPhase("created")}if(pe(this.el,e,t),!this._contentReady){var d=n.directives.html;if(d)this.el.innerHTML=z(d.value,this.data,this);else for(s=0,o=n.children.length;s<o;s++){var f= __get$(n.children,s) ,v=f.Clazz?new f.Clazz(f,this,this.data,this):ye(f,this,this.data,this);this.children.push(v),v.attach(this.el)}this._contentReady=1}this._attached()}this._toPhase("attached"),this.owner&&!this.parent&&this.owner.implicitChildren.push(this)}},$e.prototype.detach=Ae,$e.prototype.dispose=Ee,$e.prototype._attached=Ue,$e.prototype._leave=function(){if(this.leaveDispose){if(!this.lifeCycle.disposed){this.data.unlisten(),this.dataChanger=null,this._dataChanges=null;for(var e=this.implicitChildren.length;e--;) __get$(this.implicitChildren,e) .dispose(0,1);if(this.implicitChildren=null,this.source=null,this.sourceSlots=null,this.sourceSlotNameProps=null,this.slotChildren=null,this._rootNode)this._rootNode.dispose(this.disposeNoDetach&&this.parent);else{for(e=this.children.length;e--;) __get$(this.children,e) .dispose(1,1);if(this._elFns){for(e=this._elFns.length;e--;){var t= __get$(this._elFns,e) ;s(this.el,t[0],t[1],t[2])}this._elFns=null}this._inputTimer&&(clearInterval(this._inputTimer),this._inputTimer=null),this.disposeNoDetach&&this.parent||h(this.el)}this._toPhase("detached"),this._rootNode=null,this.el=null,this.owner=null,this.scope=null,this.children=null,this._toPhase("disposed"),this._ondisposed&&this._ondisposed()}}else this.lifeCycle.attached&&(this._rootNode?this._rootNode.detach?this._rootNode.detach():(this._rootNode.dispose(),this._rootNode=null):h(this.el),this._toPhase("detached"))},Je.prototype.start=function(e){var t=this;switch(this.state){case 2:f((function(){e(t.Component)}));break;case 1:this.listeners.push(e);break;default:this.listeners.push(e),this.state=1;var n=this.load(),r=function(e){t.done(e)};n&&"function"==typeof n.then&&n.then(r,r)}},Je.prototype.done=function(e){this.state=2,e=e||this.fallback,this.Component=e,i(this.listeners,(function(t){t(e)}))};var Ke={div:1,span:1,img:1,ul:1,ol:1,li:1,dl:1,dt:1,dd:1,a:1,b:1,u:1,hr:1,form:1,input:1,textarea:1,button:1,label:1,select:1,option:1,table:1,tbody:1,th:1,tr:1,td:1,thead:1,main:1,aside:1,header:1,footer:1,nav:1};function Xe(t,n,r,i,a){if(this.aNode=t,this.owner=i,this.scope=r,this.parent=n,a){var s=a.current;if(s)switch(s.nodeType){case 8:if("s-text"===s.data)for(this.id=this.id||e++,this.sel=s,s.data=this.id,a.goNext();;){if(!(s=a.current))throw new Error("[SAN HYDRATE ERROR] Text end flag not found. \nPaths: "+Fe(this).join(" > "));if(c="text",8===(o=s).nodeType&&o.data==="/s-"+c){this.el=s,a.goNext(),s.data=this.id;break}a.goNext()}break;case 3:a.goNext(),this.aNode.textExpr.original||(this.el=s)}else this.el=a.doc.createTextNode(""),pe(this.el,a.target,a.current)}var o,c}Xe.prototype.nodeType=1,Xe.prototype.attach=function(t,n){this.content=z(this.aNode.textExpr,this.scope,this.owner),null==this.content&&(this.content="");var r=t.ownerDocument;if(this.aNode.textExpr.original){this.id=this.id||e++,this.sel=r.createComment(this.id),pe(this.sel,t,n),this.el=r.createComment(this.id),pe(this.el,t,n);var i=r.createElement("script");t.insertBefore(i,this.el),i.insertAdjacentHTML("beforebegin",this.content),t.removeChild(i)}else this.el=r.createTextNode(this.content),pe(this.el,t,n)},Xe.prototype.dispose=function(e){e||(h(this.el),h(this.sel)),this.el=null,this.sel=null};var Ze=m&&m<9?"data":"textContent";function et(t,r,a,s,o){this.owner=s,this.scope=a,this.parent=r,this.parentComponent=5===r.nodeType?r:r.parentComponent,this.id=e++,this.lifeCycle=V.start,this.children=[],this.nameBind=Y(t,"name"),this.nameBind&&(this.isNamed=!0,this.name=z(this.nameBind.expr,this.scope,this.owner));var c,h,l=s.sourceSlots;if(l&&(c=this.isNamed? __get$(l.named,this.name) :l.noname),c&&(this.isInserted=!0),this.aNode={directives:t.directives,props:[],events:[],children:c||t.children.slice(0),vars:t.vars},this._sbindData=He(t.directives.bind,this.scope,this.owner),this._sbindData&&(h=n({},this._sbindData)),t.vars&&(h=h||{},i(t.vars,(function(e){ __set$(h,e.name,z(e.expr,a,s)) }))),this.isInserted&&(this.childOwner=s.owner,this.childScope=s.scope),h&&(this.isScoped=!0,this.childScope=new ce(h,this.childScope||this.scope)),s.slotChildren.push(this),o){var u,p=o.current;p&&8===p.nodeType&&"s-slot"===p.data?(this.sel=o.current,u=1,o.goNext()):(this.sel=o.doc.createComment(this.id),o.current?o.target.insertBefore(this.sel,o.current):o.target.appendChild(this.sel));for(var d=this.aNode.children,f=0,v=d.length;f<v;f++)this.children.push(me( __get$(d,f) ,this,this.childScope||this.scope,this.childOwner||this.owner,o));u?(this.el=o.current,o.goNext()):(this.el=o.doc.createComment(this.id),o.current?o.target.insertBefore(this.el,o.current):o.target.appendChild(this.el)),this.lifeCycle=V.attached}}function tt(e,t,n){this.parent=e.scope,this.raw={},this.listeners=[],this.directive=e.aNode.directives.for,this.indexName=this.directive.index||"$index", __set$(this.raw,this.directive.item,t) , __set$(this.raw,this.indexName,n) }function nt(t,n,r,i,a){if(this.aNode=t,this.owner=i,this.scope=r,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=e++,this.children=[],this.param=t.directives.for,this.itemPaths=[{type:1,value:this.param.item}],this.itemExpr={type:4,paths:this.itemPaths,raw:this.param.item},this.param.index&&(this.indexExpr={type:4,paths:[{type:1,value:""+this.param.index}]}),a){if(this.listData=z(this.param.value,this.scope,this.owner),this.listData instanceof Array)for(var s=0;s<this.listData.length;s++)this.children.push(me(this.aNode.forRinsed,this, new tt(this,__get$(this.listData,s),s) ,this.owner,a));else if(this.listData&&"object"==typeof this.listData)for(var s in this.listData)this.listData.hasOwnProperty(s)&&null!= __get$(this.listData,s) &&this.children.push(me(this.aNode.forRinsed,this, new tt(this,__get$(this.listData,s),s) ,this.owner,a));this.el=a.doc.createComment(this.id),pe(this.el,a.target,a.current)}}function rt(t,n,r,i,a){if(this.aNode=t,this.owner=i,this.scope=r,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=e++,this.children=[],a){if(z(this.aNode.directives.if.value,this.scope,this.owner))this.elseIndex=-1,this.children[0]=me(this.aNode.ifRinsed,this,this.scope,this.owner,a);else{var s=t.elses;if(s)for(var o=0,c=s.length;o<c;o++){var h= __get$(s,o) ,l=h.directives.elif;if(!l||l&&z(l.value,this.scope,this.owner)){this.elseIndex=o,this.children[0]=me(h,this,this.scope,this.owner,a);break}}}this.el=a.doc.createComment(this.id),pe(this.el,a.target,a.current)}}function it(t,n,r,i,a){this.aNode=t,this.owner=i,this.scope=r,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=e++,this.children=[],this.tagName=this.aNode.tagName,a&&(this.cmpt=z(this.aNode.directives.is.value,this.scope)||this.tagName,this.children[0]=me(this.aNode.isRinsed,this,this.scope,this.owner,a,this.cmpt))}function at(e,t){var n;function r(e,t){var r=st(e),i=r.length;if(i)for(var a=0,s=n.length;a<s;a++)if(!t||a!==s-1){var o= __get$(n,a) ._d;o||(o= __get$(n,a) ._d={});for(var c=0;c<i;c++) __set$(o,__get$(r,c),1) }}e&&!e._ht&&(n=[],function e(a){if(!a._ht){if(n.push(a),a.textExpr)a._ht=!0,a.Clazz=Xe,r(a.textExpr);else{a._ht=!0,a._i=0,a._dp=[],a._xp=[],a._pi={},a._b=[],a._ab=[],a._ap=[],a._ce=!a.directives.is&&a.tagName&&a.tagName.indexOf("-")<0&&!/^(template|select|input|option|button|video|audio|canvas|img|embed|object|iframe)$/i.test(a.tagName),i(a.vars,(function(e){r(e.expr)})),i(a.attrs,(function(e,t){e._data={type:4,paths:[{type:1,value:"$attrs"},{type:1,value:e.name}]},r(e.expr)}));for(var s=a.props,o=s.length,c=0;c<o;c++){var h= __get$(s,c) ;a._b.push({name:_(h.name),expr:null!=h.noValue?{type:3,value:!0}:h.expr,x:h.x,noValue:h.noValue}),r(h.expr)}for(var l in a.directives)if(a.directives.hasOwnProperty(l)){var u= __get$(a.directives,l) ;if(r(u.value,!/^(html|bind)$/.test(l)),"for"===l){var p=u.trackBy;p&&4===p.type&&p.paths[0].value===u.item&&(a._gfk=ot(p.paths))}}i(a.elses,(function(t){e(t)})),c=0;for(var d=a.children.length;c<d;c++)e( __get$(a.children,c) );for(c=0;c<o;c++)h= __get$(s,c) , __set$(a._pi,h.name,c) ,h.handler=ae(a.tagName,h.name),null==h.expr.value&&(h.x&&a._xp.push(h),a._dp.push(h));if("option"===a.tagName&&!Y(a,"value")&&a.children[0]){var f={name:"value",expr:a.children[0].textExpr,handler:ae(a.tagName,"value")};a.props.push(f),a._dp.push(f),a._pi.value=s.length-1}switch(a.directives.if&&(a.ifRinsed={children:a.children,props:s,events:a.events,tagName:a.tagName,vars:a.vars,directives:a.directives,_ht:!0,_i:0,_d:a._d,_dp:a._dp,_xp:a._xp,_pi:a._pi,_b:a._b,_ce:a._ce},a.Clazz=rt,a=a.ifRinsed),a.directives.for&&(a.forRinsed={children:a.children,props:s,events:a.events,tagName:a.tagName,vars:a.vars,directives:a.directives,_ht:!0,_i:0,_d:a._d,_dp:a._dp,_xp:a._xp,_pi:a._pi,_b:a._b,_ce:a._ce},a.Clazz=nt,a=a.forRinsed),a.directives.is&&(a.isRinsed={children:a.children,props:s,events:a.events,tagName:a.tagName,vars:a.vars,directives:a.directives,_ht:!0,_i:0,_d:a._d,_dp:a._dp,_xp:a._xp,_pi:a._pi,_b:a._b,_ce:a._ce},a.Clazz=it,a=a.isRinsed),a.tagName){case"slot":a.Clazz=et;break;case"template":case"fragment":a.Clazz=we;break;default:if(!a.directives.is&& __get$(Ke,a.tagName) ){var v=t&&t.components;v&& __get$(v,a.tagName) ||(a.elem=!0)}}}n.pop()}}(e))}function st(e,t){var n,r=[];function a(e,t){for(var i=0,a=e.length;i<a;i++)r=r.concat(st( __get$(e,i) ,t)),n=n|| __get$(e,i) .dynamic}switch(e.type){case 4:n=t;var s=e.paths;r.push(s[0].value),s.length>1&&r.push(s[0].value+"."+(s[1].value||"*")),a(s.slice(1),1);break;case 9:r=st(e.expr,t),n=e.expr.dynamic;break;case 7:case 8:case 10:a(e.segs,t);break;case 5:r=st(e.expr),n=e.expr.dynamic,i(e.filters,(function(e){a(e.name.paths),a(e.args)}));break;case 6:a(e.name.paths),a(e.args);break;case 12:case 11:for(var o=0;o<e.items.length;o++)r=r.concat(st( __get$(e.items,o) .expr)),n=n|| __get$(e.items,o) .expr.dynamic}return n&&(e.dynamic=!0),r}function ot(e){var t=e.length;return function(n){for(var r=1;r<t&&n;r++)n= __get$(n,__get$(e,r).value) ;return n}}function ct(e,t){var n=0,r={directives:e.directives,props:e.props,events:e.events,children:e.children,tagName:e.tagName,attrs:[],vars:e.vars,_ht:e._ht,_i:e._i,_dp:e._dp,_xp:e._xp,_pi:e._pi,_b:e._b,_ce:e._ce},i={};if(e.attrs){n=e.attrs.length;for(var a=0;a<n;a++) __set$(i,(s=__get$(e.attrs,a)).name,a) , __set$(r.attrs,a,s) }for(a=0;a<t.attrs.length;a++){var s;null== __get$(i,(s=__get$(t.attrs,a)).name) &&( __set$(r.attrs,n++,{name:s.name,expr:s._data,_data:s._data}) )}return r}function ht(t){t=t||{},this.lifeCycle=V.start,this.id=e++,this.children=[],this.slotChildren=[],this.implicitChildren=[];var r=this.constructor;this.inheritAttrs=!(!1===this.inheritAttrs||!1===r.inheritAttrs),this.owner=t.owner,this.scope=t.scope;var i=t.parent;i?(this.parent=i,this.parentComponent=5===i.nodeType?i:i&&i.parentComponent):this.owner&&(this.parentComponent=this.owner,this.scope=this.owner.data),this.sourceSlotNameProps=[],this.sourceSlots={named:{}};var a,s=r.prototype;if(!s.hasOwnProperty("aNode")){var o=r.aPack||s.hasOwnProperty("aPack")&&s.aPack;o?(s.aNode=ze(o),r.aPack=s.aPack=null):s.aNode=Ve(r)}if(at(s.aNode,this),this.tagName=s.aNode.tagName,this.source="string"==typeof t.source?H(t.source).children[0]:t.source,at(this.source),s.aNode._i++,this.source){this._initSourceSlots(1);for(var c=0,h=this.source.events.length;c<h;c++){var l= __get$(this.source.events,c) ;l.modifier.native&&(this.nativeEvents=this.nativeEvents||[],this.nativeEvents.push(l))}this.tagName=this.tagName||this.source.tagName,this.binds=this.source._b,this.attrs=this.source.attrs,this._srcSbindData=He(this.source.directives.bind,this.scope,this.owner)}try{a="function"==typeof this.initData&&this.initData()}catch(e){q(e,this,"initData")}if(a=n(a||{},t.data||this._srcSbindData),this.binds&&this.scope){for(c=0,h=this.binds.length;c<h;c++){var u= __get$(this.binds,c) ;void 0!==(p=z(u.expr,this.scope,this.owner))&&( __set$(a,u.name,p) )}if(this.attrs)for(a.$attrs={},c=0,h=this.attrs.length;c<h;c++){var p,d= __get$(this.attrs,c) ;void 0!==(p=z(d.expr,this.scope,this.owner))&&( __set$(a.$attrs,d.name,p) )}}this.data=new ce(a),this.tagName=this.tagName||"div",g&&this.tagName.indexOf("-")>0&&(this.tagName="div"),this._initDataChanger(),this._sbindData=He(this.aNode.directives.bind,this.data,this),this.lifeCycle=V.inited;var f=t.hydrateWalker;f&&(this.aNode.Clazz?(this._rootNode=me(this.aNode,this,this.data,this,f),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode())):(this.el=f.current,f.goNext(),Ce(this,this.data,this)),this.lifeCycle=V.created,this._attached(),this.lifeCycle=V.attached)}Xe.prototype._update=function(e){if(!this.aNode.textExpr.value)for(var t=e.length;t--;)if(J( __get$(e,t) .expr,this.aNode.textExpr,this.scope)){var n=z(this.aNode.textExpr,this.scope,this.owner);if(null==n&&(n=""),n!==this.content)if(this.content=n,this.aNode.textExpr.original){for(var r=this.sel.nextSibling,i=this.el.parentNode;r!==this.el;){var a=r;r=r.nextSibling,h(a)}var s=i.ownerDocument.createElement("script");i.insertBefore(s,this.el),s.insertAdjacentHTML("beforebegin",n),i.removeChild(s)}else  __set$(this.el,Ze,n) ;return}},et.prototype.nodeType=6,et.prototype.dispose=function(e,t){this.childOwner=null,this.childScope=null,ge(this.children,e,t),e||(h(this.el),h(this.sel)),this.sel=null,this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()},et.prototype.attach=be,et.prototype._update=function(e,t){var n=this;if(this.nameBind&&z(this.nameBind.expr,this.scope,this.owner)!==this.name)return this.owner._notifyNeedReload(),!1;if(t){if(this.isInserted)for(var r=0;r<this.children.length;r++) __get$(this.children,r) ._update(e)}else if(this.isScoped){var a={};i(this.aNode.vars,(function(e){ __set$(a,e.name,1) ,n.childScope.set(e.name,z(e.expr,n.scope,n.owner))}));var s=[];for(this._sbindData=Qe(this.aNode.directives.bind,this._sbindData,this.scope,this.owner,e,(function(e,t){ __get$(a,e) ||(n.childScope.set(e,t),s.push({type:1,expr:{type:4,paths:[{type:1,value:e}]},value:t,option:{}}))})),i(e,(function(e){n.isInserted||s.push(e),i(n.aNode.vars,(function(t){var r=t.name,i=J(e.expr,t.expr,n.scope);i<1||(2!==e.type?s.push({type:1,expr:{type:4,paths:[{type:1,value:r}]},value:n.childScope.get(r),option:e.option}):2===i&&s.push({expr:{type:4,paths:[{type:1,value:r}]},type:2,index:e.index,deleteCount:e.deleteCount,value:e.value,insertions:e.insertions,option:e.option}))}))})),r=0;r<this.children.length;r++) __get$(this.children,r) ._update(s)}else if(!this.isInserted)for(r=0;r<this.children.length;r++) __get$(this.children,r) ._update(e)},tt.prototype.exprResolve=function(e){var t=this.directive;4===e.type&&e.paths[0].value===t.item&&(e={type:4,paths:t.value.paths.concat({type:2,value: __get$(this.raw,this.indexName) },e.paths.slice(1))});for(var n=[],r=0,i=e.paths.length;r<i;r++){var a= __get$(e.paths,r) ;if(4===a.type)switch(a.paths[0].value){case t.item:a={type:4,paths:t.value.paths.concat({type:2,value: __get$(this.raw,this.indexName) },a.paths.slice(1))};break;case this.indexName:a={type:2,value: __get$(this.raw,this.indexName) }}n.push(a)}return{type:4,paths:n}},r(tt,ce),i(["set","remove","unshift","shift","push","pop","splice"],(function(e){ __set$(tt.prototype,"_"+e,__get$(ce.prototype,e)) , __set$(tt.prototype,e,function(t){t=this.exprResolve(R(t)),__get$(this.parent,e).apply(this.parent,[t].concat(Array.prototype.slice.call(arguments,1)));}) })),nt.prototype.nodeType=3,nt.prototype.dispose=xe,nt.prototype.attach=function(e,t){this.el=e.ownerDocument.createComment(this.id),pe(this.el,e,t),this.listData=z(this.param.value,this.scope,this.owner),this._createChildren()},nt.prototype._createChildren=function(){var e=this.el.parentNode,t=this.listData;if(t instanceof Array)for(var n=0;n<t.length;n++){var r=(i=this.aNode.forRinsed).Clazz? new i.Clazz(i,this,new tt(this,__get$(t,n),n),this.owner) :ye(i,this, new tt(this,__get$(t,n),n) ,this.owner);this.children.push(r),r.attach(e,this.el)}else if(t&&"object"==typeof t)for(var n in t)if(t.hasOwnProperty(n)&&null!= __get$(t,n) ){var i;r=(i=this.aNode.forRinsed).Clazz? new i.Clazz(i,this,new tt(this,__get$(t,n),n),this.owner) :ye(i,this, new tt(this,__get$(t,n),n) ,this.owner),this.children.push(r),r.attach(e,this.el)}},nt.prototype._update=function(e){var t=z(this.param.value,this.scope,this.owner),n=this.listData instanceof Array,r=t instanceof Array;if(this.children.length)if(!t||r&&0===t.length)this._disposeChildren(),this.listData=t;else if(n===r&&r)this._updateArray(e,t),this.listData=t;else{var i;this.listData=t;for(var a=0;!i&&a<e.length;a++)i=J( __get$(e,a) .expr,this.param.value,this.scope);var s=this.aNode._d;if(i||s&&ue(e,s)){var o=this;this._disposeChildren(null,(function(){o._createChildren()}))}}else this.listData=t,this._createChildren()},nt.prototype._disposeChildren=function(e,t){var n=this.el.parentNode,r=n.firstChild,i=n.lastChild,a=this.children.length,s=!this.aNode.directives.transition&&!e&&a&&r===this.children[0].el&&i===this.el;e||(e=this.children,this.children=[]);var o=0;a=e.length;for(var c=0;c<a;c++){var h= __get$(e,c) ;s?h&&h.dispose(s,s):h?(h._ondisposed=l,h.dispose()):l()}function l(){++o>=a&&t&&t()}s&&(m?n.innerHTML="":n.textContent="",this.el=n.ownerDocument.createComment(this.id),n.appendChild(this.el),t&&t())},nt.prototype.opti="undefined"!=typeof navigator&&/chrome\/[0-9]+/i.test(navigator.userAgent),nt.prototype._updateArray=function(e,t){var n=this.children.length,r=new Array(n),i=4===this.children[0].nodeType;function a(e){for(var t=0,n=r.length;t<n;t++)( __set$(r,t,__get$(r,t)||[]) ).push(e);h=null,c=!1}for(var s,o=[],c=!0,h={},l=t.length,u=this.aNode._gfk,p=0;p<e.length;p++){var d= __get$(e,p) ,f=J(d.expr,this.param.value,this.scope);if(f)if(f>2){var v=d.expr.paths,m=this.param.value.paths.length,g=+z( __get$(v,m) ,this.scope,this.owner);isNaN(g)?a(d):s||(c=!1,h&&( __set$(h,g,1) ), __set$(r,g,__get$(r,g)||[]) ,this.param.index&& __get$(r,g) .push(d),d=1===d.type?{type:d.type,expr:{type:4,paths:this.itemPaths.concat(v.slice(m+1))},value:d.value,option:d.option}:{index:d.index,deleteCount:d.deleteCount,insertions:d.insertions,type:d.type,expr:{type:4,paths:this.itemPaths.concat(v.slice(m+1))},value:d.value,option:d.option}, __get$(r,g) .push(d),1===d.type? __get$(this.children,g) ? __get$(this.children,g) .scope._set(d.expr,d.value,{silent:1}): __set$(this.children,g,0) : __get$(this.children,g) && __get$(this.children,g) .scope._splice(d.expr,[].concat(d.index,d.deleteCount,d.insertions),{silent:1}))}else{if(s)continue;if(2!==f||2!==d.type||"optimized"===this.owner.updateMode&&this.opti&&!this.aNode.directives.transition)if(h=null,c=!1,s=1,u&&l&&n){var y=[],b=[],w={},x=[],_={};for(ee=0;ee<t.length;ee++){var C=u( __get$(t,ee) );y.push(C), __set$(w,C,ee) }for(ee=0;ee<this.listData.length;ee++)C=u( __get$(this.listData,ee) ),b.push(C), __set$(_,C,ee) ,null!= __get$(w,C) ? __set$(x,ee,__get$(w,C)) :( __set$(x,ee,-1) ,o.push( __get$(this.children,ee) ));for(var N=0,S=l,A=0,E=n;N<l&&A<n&& __get$(y,N) === __get$(b,A) ;) __get$(this.listData,A) !== __get$(t,N) &&( __set$(__get$(this.children,A).scope.raw,this.param.item,__get$(t,N)) ,( __set$(r,A,__get$(r,A)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(t,N) })),f<2&&( __set$(r,A,__get$(r,A)||[]) ).push(d),N++,A++;for(Z=this.param.index?{type:1,option:d.option,expr:this.indexExpr}:null;S>N&&E>A&& __get$(y,S-1) === __get$(b,E-1) ;)S--,E--, __get$(this.listData,E) !== __get$(t,S) &&( __set$(__get$(this.children,E).scope.raw,this.param.item,__get$(t,S)) ,( __set$(r,E,__get$(r,E)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(t,S) })),S!==E&&( __set$(__get$(this.children,E).scope.raw,__get$(this.children,E).scope.indexName,S) ,Z&&( __set$(r,E,__get$(r,E)||[]) ).push(Z)),f<2&&( __set$(r,E,__get$(r,E)||[]) ).push(d);var k=[],D=[],T=-1,I=x.slice(A,E),P=E-A,O=new Array(P);for(ee=0;ee<P;ee++){var R= __get$(I,ee) ;if(-1!==R){var L=-1,M=k.length;if(M>0&& __get$(k,M-1) <=R)L=M-1;else for(;M-L>1;){var B=Math.floor((L+M)/2); __get$(k,B) >R?M=B:L=B}-1!==L&&( __set$(O,ee,__get$(D,L)) ),L===T?( __set$(k,++T,R) , __set$(D,T,ee) ):R< __get$(k,L+1) &&( __set$(k,L+1,R) , __set$(D,L+1,ee) )}}for(ee= __get$(D,T) ;T>=0;ee= __get$(O,ee) ,T--) __set$(k,T,ee) ;var j=k.length,U=j? __get$(x,__get$(k,--j)+A) :-1,H=[],q=[],Q=this.el,F=i&&Q.parentNode;for(ee=l-1;ee>=0;ee--)if(ee>=S) __set$(H,ee,__get$(this.children,n-l+ee)) , __set$(q,ee,__get$(r,n-l+ee)) ,i&&(Q= __get$(H,ee) .el);else if(ee<N) __set$(H,ee,__get$(this.children,ee)) , __set$(q,ee,__get$(r,ee)) ;else{var $= __get$(_,__get$(y,ee)) ,G= __get$(this.children,$) ;if(G&&(i||ee===U)){var W=G.scope; __get$(this.listData,$) !== __get$(t,ee) &&( __set$(W.raw,this.param.item,__get$(t,ee)) ,( __set$(r,$,__get$(r,$)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(t,ee) })),Z&&ee!==$&&( __set$(W.raw,W.indexName,ee) ,Z&&( __set$(r,$,__get$(r,$)||[]) ).push(Z)),f<2&&( __set$(r,$,__get$(r,$)||[]) ).push(d), __set$(H,ee,G) , __set$(q,ee,__get$(r,$)) ,ee===U?U=j? __get$(x,__get$(k,--j)+A) :-1:F.insertBefore(G.el,Q),i&&(Q=G.el)}else G&&o.push(G), __set$(H,ee,0) , __set$(q,ee,0) }this.children=H,r=q}else for(n>l&&(o=o.concat(this.children.slice(l)),r=r.slice(0,l),this.children=this.children.slice(0,l)),ee=0;ee<l;ee++)f<2&&( __set$(r,ee,__get$(r,ee)||[]) ).push(d), __get$(this.children,ee) ? __get$(__get$(this.children,ee).scope.raw,this.param.item) !== __get$(t,ee) &&( __set$(__get$(this.children,ee).scope.raw,this.param.item,__get$(t,ee)) ,( __set$(r,ee,__get$(r,ee)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(t,ee) })): __set$(this.children,ee,0) ;else{h=null;var V=d.index,Y=d.deleteCount,K=d.insertions.length,X=K-Y;if(X)for(var Z=this.param.index?{type:1,option:d.option,expr:this.indexExpr}:null,ee=V+Y;ee<this.children.length;ee++){Z&&(c=!1,( __set$(r,ee,__get$(r,ee)||[]) ).push(Z));var te= __get$(this.children,ee) ;te&&( __set$(te.scope.raw,te.scope.indexName,ee-Y+K) )}for(var ne=Y;ne--;)ne<K&&(c=!1,( __set$(r,ee=V+ne,__get$(r,ee)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(d.insertions,ne) }), __get$(this.children,ee) &&( __set$(__get$(this.children,ee).scope.raw,this.param.item,__get$(d.insertions,ne)) ));if(X<0)o=o.concat(this.children.splice(V+K,-X)),r.splice(V+K,-X);else if(X>0){c=!1;var re=[V+Y,0].concat(new Array(X));this.children.splice.apply(this.children,re),r.splice.apply(r,re)}}}else a(d)}if(l!==n&&this.param.value.paths){var ie={type:1,option:{},expr:{type:4,paths:this.param.value.paths.concat({type:1,value:"length"})}};ue([ie],this.aNode._d)&&a(ie)}this._doCreateAndUpdate=se;var ae=this;function se(){if(ae._doCreateAndUpdate=null,!c)for(var e=ae.el,n=e.parentNode,i=-1,a=0;a<l;a++){var s= __get$(ae.children,a) ;if(s)! __get$(r,a) ||h&&! __get$(h,a) ||s._update( __get$(r,a) );else{if(i<a)for(i=a+1,e=null;i<l;){var o= __get$(ae.children,i) ;if(o){e=o.sel||o.el;break}i++} __set$(ae.children,a,ye(ae.aNode.forRinsed,ae,new tt(ae,__get$(t,a),a),ae.owner)) , __get$(ae.children,a) .attach(n,e||ae.el)}}}0===o.length?se():this._disposeChildren(o,(function(){se===ae._doCreateAndUpdate&&se()}))},rt.prototype.nodeType=2,rt.prototype.dispose=xe,rt.prototype.attach=function(e,t){var n,r,i=this.aNode.elses;if(z(this.aNode.directives.if.value,this.scope,this.owner))r=ye(this.aNode.ifRinsed,this,this.scope,this.owner),n=-1;else if(i)for(var a=0,s=i.length;a<s;a++){var o= __get$(i,a) ,c=o.directives.elif;if(!c||c&&z(c.value,this.scope,this.owner)){r=ye(o,this,this.scope,this.owner),n=a;break}}r&&(this.children[0]=r,r.attach(e,t),this.elseIndex=n),this.el=e.ownerDocument.createComment(this.id),pe(this.el,e,t)},rt.prototype._update=function(e){var t,n=this,r=this.aNode.ifRinsed,i=this.aNode.elses;if(z(this.aNode.directives.if.value,this.scope,this.owner))t=-1;else if(i)for(var a=0,s=i.length;a<s;a++){var o= __get$(i,a) ,c=o.directives.elif;if(c&&z(c.value,this.scope,this.owner)||!c){t=a,r=o;break}}var h=this.children[0];function l(){void 0!==t&&(n.children[0]=ye(r,n,n.scope,n.owner)).attach(n.el.parentNode,n.el)}t===this.elseIndex?h&&h._update(e):(this.children=[],h?(h._ondisposed=l,h.dispose()):l(),this.elseIndex=t)},rt.prototype._getElAsRootNode=function(){var e=this.children[0];return e&&e.el||this.el},it.prototype.nodeType=9,it.prototype.dispose=xe,it.prototype.attach=function(e,t){this.cmpt=z(this.aNode.directives.is.value,this.scope)||this.tagName;var n=ye(this.aNode.isRinsed,this,this.scope,this.owner,this.cmpt);this.children[0]=n,n.attach(e,t)},it.prototype._update=function(e){var t=this.children[0],n=z(this.aNode.directives.is.value,this.scope)||this.tagName;if(n===this.cmpt)t._update(e);else{this.cmpt=n;var r=ye(this.aNode.isRinsed,this,this.scope,this.owner,this.cmpt),i=t.el;r.attach(i.parentNode,i),t.dispose(),this.children[0]=r}},it.prototype._getElAsRootNode=function(){return this.children[0].el},ht.prototype._initDataChanger=function(){var e=this;this._dataChanger=function(t){e.lifeCycle.created?(e._dataChanges||(f(e._update,e),e._dataChanges=[]),e._dataChanges.push(t)):e.lifeCycle.inited&&e.owner&&e._updateBindxOwner([t])},this.data.listen(this._dataChanger)},ht.prototype.attach=function(e,t){if(!this.lifeCycle.attached){var n=this.aNode;if(n.Clazz)this._rootNode=this._rootNode||ye(n,this,this.data,this),this._rootNode.attach(e,t),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode()),this.lifeCycle=V.created;else{if(!this.el){var r,i=e.ownerDocument;if(n._ce&&n._i>2?(r=n._dp,this.el=(n._el||Ne(n,i)).cloneNode(!1)):(r=n.props,this.el= __get$(c,this.tagName) &&i.createElementNS?i.createElementNS("http://www.w3.org/2000/svg",this.tagName):i.createElement(this.tagName)),this._sbindData)for(var a in this._sbindData)this._sbindData.hasOwnProperty(a)&&ae(this.tagName,a)(this.el, __get$(this._sbindData,a) ,a,this);for(var s=0,o=r.length;s<o;s++){var h= __get$(r,s) ,l=z(h.expr,this.data,this);!l&& __get$(de,h.name) ||h.handler(this.el,l,h.name,this)}if(this.attrs&&this.inheritAttrs){var u=this.data.get("$attrs");for(s=0;s<this.attrs.length;s++){var p= __get$(this.attrs,s) ;null== __get$(this.aNode._pi,p.name) &&ae(this.tagName,p.name)(this.el, __get$(u,p.name) ,p.name,this)}}this.lifeCycle=V.created}if(pe(this.el,e,t),!this._contentReady){var d=n.directives.html;if(d)this.el.innerHTML=z(d.value,this.data,this);else for(s=0,o=n.children.length;s<o;s++){var f= __get$(n.children,s) ,v=f.Clazz?new f.Clazz(f,this,this.data,this):ye(f,this,this.data,this);this.children.push(v),v.attach(this.el)}this._contentReady=1}this._attached()}this.lifeCycle=V.attached}},ht.prototype.nodeType=5,ht.prototype._getElAsRootNode=function(){return this.el},ht.prototype._update=function(e){if(!this.lifeCycle.disposed){var t=this,n=!1;if(this._notifyNeedReload=function(){n=!0},e)if(this.source&&(this._srcSbindData=Qe(this.source.directives.bind,this._srcSbindData,this.scope,this.owner,e,(function(e,n){e in t.source._pi||t.data.set(e,n,{target:{node:t.owner}})}))),i(e,(function(e){var r=e.expr;i(t.binds,(function(n){var i,a=n.name,s=n.expr;!se(e,t,a)&&(i=J(r,s,t.scope))&&(i>2&&(a={type:4,paths:[{type:1,value:a}].concat(r.paths.slice(s.paths.length))},s=r),i>=2&&2===e.type?t.data.splice(a,[e.index,e.deleteCount].concat(e.insertions),{target:{node:t.owner}}):t.data.set(a,z(s,t.scope,t.owner),{target:{node:t.owner}}))})),i(t.attrs,(function(e){J(r,e.expr,t.scope)&&t.data.set(e._data,z(e.expr,t.scope,t.owner))})),i(t.sourceSlotNameProps,(function(e){return!(n=n||J(r,e.expr,t.scope))}))})),n)this._initSourceSlots(),this._repaintChildren();else for(var r=this.slotChildren.length;r--;){var a= __get$(this.slotChildren,r) ;a.lifeCycle.disposed?this.slotChildren.splice(r,1):a.isInserted&&a._update(e,1)}var s=this._dataChanges;if(s){this._dataChanges=null,this._sbindData=Qe(this.aNode.directives.bind,this._sbindData,this.data,this,s,(function(e,n){t._rootNode||e in t.aNode._pi||ae(t.tagName,e)(t.el,n,e,t)}));var o=this.aNode.directives.html;if(this._rootNode)this._rootNode._update(s),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode());else if(o){for(var c=s.length;c--;)if(J( __get$(s,c) .expr,o.value,this.data)){this.el.innerHTML=z(o.value,this.data,this);break}}else{for(var h=this.aNode._dp,l=0;l<h.length;l++)for(var u= __get$(h,l) ,p=0;p<s.length;p++){var d= __get$(s,p) ;if(J(d.expr,u.expr,this.data)||u.hintExpr&&J(d.expr,u.hintExpr,this.data)){u.handler(this.el,z(u.expr,this.data,this),u.name,this);break}}if(this.attrs&&this.inheritAttrs){var f=this.data.get("$attrs");for(l=0;l<this.attrs.length;l++){var v= __get$(this.attrs,l) ;if(null== __get$(this.aNode._pi,v.name) )for(p=0;p<s.length;p++){var m= __get$(s,p) .expr.paths;if("$attrs"===m[0].value&&m[1].value===v.name){ae(this.tagName,v.name)(this.el, __get$(f,v.name) ,v.name,this);break}}}}for(l=0;l<this.children.length;l++) __get$(this.children,l) ._update(s)}n&&(this._initSourceSlots(),this._repaintChildren()),this.owner&&this._updateBindxOwner(s)&&this.owner._update()}this._notifyNeedReload=null}},ht.prototype._updateBindxOwner=function(e){var t,n=this;return i(e,(function(e){i(n.binds,(function(r){var i=e.expr;if(r.x&&!se(e,n.owner)&&J(i,R(r.name),n.data)){var a=r.expr;i.paths.length>1&&(a={type:4,paths:r.expr.paths.concat(i.paths.slice(1))}),t=1,n.scope.set(a,z(i,n.data,n),{target:{node:n,prop:r.name}})}}))})),t},ht.prototype._initSourceSlots=function(e){if(this.sourceSlots.named={},this.source&&this.scope)for(var t=this.source.children,n=0,r=t.length;n<r;n++){var i,a= __get$(t,n) ,s=!a.textExpr&&Y(a,"slot");if(s){e&&this.sourceSlotNameProps.push(s);var o=z(s.expr,this.scope,this.owner);(i= __get$(this.sourceSlots.named,o) )||(i= __set$(this.sourceSlots.named,o,[]) ),i.push(a)}else e&&((i=this.sourceSlots.noname)||(i=this.sourceSlots.noname=[]),i.push(a))}},ht.prototype._repaintChildren=function(){if(this._rootNode){var e=this._rootNode.el.parentNode,t=this._rootNode.el.nextSibling;this._rootNode.dispose(0,1),this.slotChildren=[],this._rootNode=ye(this.aNode,this,this.data,this),this._rootNode.attach(e,t),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode())}else{ge(this.children,0,1),this.children=[],this.slotChildren=[];for(var n=0,r=this.aNode.children.length;n<r;n++){var i=ye( __get$(this.aNode.children,n) ,this,this.data,this);this.children.push(i),i.attach(this.el)}}},ht.prototype._leave=function(){if(this.leaveDispose){if(!this.lifeCycle.disposed){if(this.data.unlisten(),this.dataChanger=null,this._dataChanges=null,this.source=null,this.sourceSlots=null,this.sourceSlotNameProps=null,this.slotChildren=null,this._rootNode)this._rootNode.dispose(this.disposeNoDetach&&this.parent);else{for(var e=this.children.length;e--;) __get$(this.children,e) .dispose(1,1);this._inputTimer&&(clearInterval(this._inputTimer),this._inputTimer=null),this.disposeNoDetach&&this.parent||h(this.el)}this.lifeCycle=V.detached,this._rootNode=null,this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()}}else this.lifeCycle.attached&&(this._rootNode?this._rootNode.detach?this._rootNode.detach():(this._rootNode.dispose(),this._rootNode=null):h(this.el),this.lifeCycle=V.detached)},ht.prototype.detach=Ae,ht.prototype.dispose=Ee,ht.prototype._attached=Ue;var lt={version:"3.14.1",Component:$e,defineComponent:Ge,defineTemplateComponent:function(e){switch(typeof e){case"function":return e;case"string":e={template:e}}function t(e){ht.call(this,e)}return t.prototype=e,r(t,ht),t},hydrateComponent:function(e,t){var n=t.el;if(!n)return{};if("render-only"!==n.getAttribute("data-sanssr"))return{instance:new e(t)};for(var r=[],i=-1,a=n,s=[];;)if(a)if(1===a.nodeType){a.hasAttribute("data-sanssr-cmpt")&&s.push(a);var o=a.firstChild;o?( __set$(r,++i,a) ,a=o):a=a.nextSibling}else a=a.nextSibling;else{if(i<=0)break;a= __get$(r,i--) .nextSibling}for(var c={},h=0,l=s.length;h<l;h++){for(var u= __get$(s,h) ,p=u.getAttribute("data-sanssr-cmpt"),d=p.split("/"),f=e,v=0,m=d.length;v<m;v++){var g=f.prototype;g.hasOwnProperty("_cmptReady")||We(f),f= __get$(g.components,__get$(d,v)) }var y= __get$(c,p) ;y||(y= __set$(c,p,[]) ),y.push(new f({el:u}))}return{renderOnly:!0,components:c}},createComponentLoader:function(e){var t=e.placeholder,n=e.fallback;return new Je("function"==typeof e?e:e.load,t,n)},parseComponentTemplate:Ve,unpackANode:ze,parseTemplate:H,parseExpr:R,ExprType:{STRING:1,NUMBER:2,BOOL:3,ACCESSOR:4,INTERP:5,CALL:6,TEXT:7,BINARY:8,UNARY:9,TERTIARY:10,OBJECT:11,ARRAY:12,NULL:13},LifeCycle:V,NodeType:{TEXT:1,IF:2,FOR:3,ELEM:4,CMPT:5,SLOT:6,FRAG:7,LOADER:8,IS:9},nextTick:f,Data:ce,evalExpr:z,inherits:r,DataTypes:w};o.exports=lt}();var h=s(c.exports),l=function(){function e(e){void 0===e&&(e={}),this.lastStickyKeyMap={},this.listeners=[],this.serialNumber=0,this.eventConfig=e}return e.prototype.emit=function(e){var t=this.eventConfig;t.filter&&!this.evalFilter(t.filter,e)||(t.sticky&&this.saveStickyEvent(e),this.executeListeners(e))},e.prototype.executeListeners=function(e){var t=this.listeners,n=t.length;if(n)for(var r=0;r<n;r++){var i= __get$(t,r) ;if(!i.when||this.evalFilter(i.when,e)){if((0,i.listener)(e),n>t.length){var a=n-t.length;n=t.length,r-=a}i.once&&(t.splice(r,1),n--,r--)}}},e.prototype.on=function(e,t){void 0===t&&(t={});var n=this.eventConfig,r={listener:e,once:t.once,when:t.when};if(this.listeners.push(r),n.sticky){for(var i=this.lastStickyKeyMap,a=null,s=0,o=Object.keys(i);s<o.length;s++){var c= __get$(o,s) ,h= __get$(i,c) ;t.when&&!this.evalFilter(t.when,h.event)||(!a||h.serialNumber>a.lastStickyEventData.serialNumber)&&(a={lastStickyEventData:h,stickyKey:c})}a&&(e(a.lastStickyEventData.event),t.once&&this.listeners.pop(),!1!==n.removeSticky&&this.removeSticky(a.stickyKey))}},e.prototype.off=function(e){var t=this.listeners;if(t.length)if(e){for(var n=t.length-1;n>=0;n--)if( __get$(t,n) .listener===e){t.splice(n,1);break}}else this.listeners=[]},e.prototype.makeStickyKey=function(e){var t=this.eventConfig.sticky;if(!0===t)return"*";if("string"==typeof t)return"".concat(e&& __get$(e,t) );if("function"==typeof t)return"".concat(t(e));throw new Error("Invalid sticky key ".concat(t,"."))},e.prototype.saveStickyEvent=function(e){var t=this.makeStickyKey(e); __set$(this.lastStickyKeyMap,t,{event:e,serialNumber:++this.serialNumber}) },e.prototype.removeSticky=function(e){var t=this.lastStickyKeyMap;t&&delete t[e]},e.prototype.evalFilter=function(e,t){if("function"==typeof e)return e(t);if("[object Object]"===Object.prototype.toString.call(e)){for(var n=!0,r=0,i=Object.keys(e);r<i.length;r++){var a= __get$(i,r) ;if( __get$(e,a) !==(t&& __get$(t,a) )){n=!1;break}}return n}throw new Error("Invalid filter value ".concat(e,"."))},e}(),u=function(){function e(){this.jsEventEmitterMap={}}return e.prototype.generateEmitMethod=function(e,t,n){var r=this.getJSEventEmitter(e,t,n);return r.emit.bind(r)},e.prototype.generateOnOff=function(e,t,n){var r=this.getJSEventEmitter(e,t,n);return{on:r.on.bind(r),off:r.off.bind(r)}},e.prototype.dispose=function(){this.jsEventEmitterMap={}},e.prototype.getJSEventEmitter=function(e,t,n){return  __get$(this.jsEventEmitterMap,e) && __get$(__get$(this.jsEventEmitterMap,e),t) ||( __get$(this.jsEventEmitterMap,e) ||( __set$(this.jsEventEmitterMap,e,{}) ), __set$(__get$(this.jsEventEmitterMap,e),t,new l(n)) ), __get$(__get$(this.jsEventEmitterMap,e),t) },e}(),p={lite:{"5.24.0.0":{android:"13.2.0.0",ios:"13.2.1.0"},"5.21.0.0":{android:"12.28.0.0",ios:"12.28.2.0"},"5.15.0.0":{android:"12.21.0.0",ios:"12.21.0.0"},"5.6.0.0":{android:"12.13.0.0",ios:"12.13.0.0"},"5.0.0.0":{android:"12.1.0.0",ios:"12.1.0.0"},"4.21.0.0":{android:"11.24.0.0",ios:"11.24.0.0"},"4.17.0.0":{android:"11.22.0.0",ios:"11.22.0.0"}},tomas:{"1.13.0.0":{android:"12.19.0.0",ios:"12.19.0.0"},"1.0.0.0":{android:"12.1.0.0",ios:"12.1.0.0"}},baiduboxvision:{"2.0.0.0":{android:"12.15.0.0",ios:"12.15.0.0"},"1.0.0.0":{android:"11.25.9.10",ios:"11.25.5.15"}},baiduboxsenior:{"1.0.0.0":{android:"12.1.0.0",ios:"12.1.0.0"}},knews:{"2.0.0.0":{android:"12.13.0.0",ios:"12.13.0.0"}}},d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==d?d:"undefined"!=typeof self?self:{},f=null,v=[];function m(e){f=e,v.forEach((function(e){f.apply(void 0,e)})),v=[]}function g(){for(var e=[],t=arguments.length;t--;) __set$(e,t,__get$(arguments,t)) ;f?f.apply(void 0,e):v.push(e)}var y="99999";function b(e,t){if(e===t)return 0;function n(e){if(!(+e>=0))throw new Error("传递了非法版本号:: "+e);return+e}for(var r=(""+e).split(".").map(n),i=(""+t).split(".").map(n),a=0,s=Math.max(r.length,i.length);a<s;a++){if( __get$(r,a) > __get$(i,a) || __get$(r,a) &&! __get$(i,a) && __get$(r,a) >0)return 1;if( __get$(r,a) < __get$(i,a) || __get$(i,a) &&! __get$(r,a) && __get$(i,a) >0)return-1}return 0}var w="undefined"!=typeof window,x=w&&window.navigator.userAgent.toLowerCase();function _(e){var t=e.isBdApp,n=e.isLiteBox,r=e.realBoxVersion;return t||n?function(e){var t=e.boxType,n=e.realBoxVersion,r=e.isIOS,i= __get$(p,t) ||{},a=Object.keys(i);if(0===a.length)return"";a.sort(b).reverse();for(var s=0;s<a.length;s++){var o= __get$(a,s) ;if(b(n,o)>=0)return"string"!=typeof  __get$(i,o) ?r? __get$(i,o) .ios: __get$(i,o) .android: __get$(i,o) }return""}(e):r}function C(e){var t=e&&/iphone|ipad|ipod|ios/.test(e),n=e&&e.indexOf("android")>0,r=e&&/arkweb/.test(e),i=n?"android":t?"ios":r?"harmonyos":"unknown",a={UA:e,isIOS:t,isAndroid:n,isHarmony:r},s=function(e){var t=e.UA,n=e.isIOS,r=e.isAndroid,i=e.isHarmony;if(r){var a=t.match(/(android);?\s+([\d.]+)?/);return a&&a[2]}if(n){var s=t.match(/(ipad|iphone|ipod).*os\s([\d_]+)/);return s&& __call$(s[2],"replace",[/_/g,"."]) }if(i){var o=t.match(/(harmonyos).*\s([\d.]+)/);return o&&o[2]}return 0}(a),o=/ baiduboxapp\//i.test(e)||/ bdapp\//i.test(e),c=/ bdapp\//i.test(e),h=/ bdapp\/\d+[.\d+]*\s\((\w+)[;]?\s?(\w+)?\)/g.exec(e),l=w&&window&&window._na&&window._na.getSchemeHeader,u=l&&window._na.isSupportSwan&&window._na.isSupportSwan(),p=l&&window._na.isSupportSearchSDK&&window._na.isSupportSearchSDK(),f=p||u,v=/searchcraft\/([5-9]|\d{2,})(\.\d+)*/.test(e),m=v&&/ baiduboxapp\//i.test(e),g=v&&!m?"searchcraft":u||p?window._na.getSchemeHeader():h?h[2]||h[1]:"baiduboxapp",y=/ baiduboxapp\//i.test(e)&&!/ (lite|info|pro|mission) baiduboxapp/.test(e)&&(!c||r)&&!v,b=t&&/ info baiduboxapp\//i.test(e)||n&&/ lite baiduboxapp\//i.test(e)||r&&/ baiduboxlite\//i.test(e),x=/ mission baiduboxapp\//i.test(e),C=/ tomas\//i.test(e),N=g||"unknown";y&&(N="main"),x&&(N="mission"),b&&(N="lite"),C&&(N="tomas"),v&&(N=m?"searchcraftInMain":"searchcraft");var S=/imagesearch[\s\S]+main/i.test(e)?"imageseach":/light/i.test(e)?"light":"search"; __call$(Object,"assign",[a,{isBdApp:c,isChatSearch:v,boxType:N,appProtoName:g}]) ;var A=function(e){var t=e.isBdApp,n=e.isChatSearch,r=e.UA,i=e.appProtoName;if(t||n){var a=new RegExp(i+"/([\\d+.]+)").exec(r);if(a&&a[1])return a[1]}var s=/baiduboxapp\/([\d+.]+)/.exec(r);if(s&&s[1])return s[1];if(d.baiduboxapp_version)return d.baiduboxapp_version;var o=/([\d+.]+)_(?:diordna|enohpi)_/.exec(r);return o&&o[1]&&o[1].split(".").reverse().join(".")||0}(a);return  __call$(Object,"assign",[a,{realBoxVersion:A,isLiteBox:b}]) ,{isIOS:t,isAndroid:n,isHarmony:r,OS:i,OSVersion:s,isBoxSeries:o,isBdApp:c,isChatSearch:v,isChatSearchInMain:m,isSupportSwanInBrowser:u,isUseBrowserDesc:f,appProtoName:g,isMainBox:y,isBox:y,isLiteBox:b,isMissionBox:x,isTomas:C,boxType:N,adaptBoxType:"main",boxBrowserType:S,realBoxVersion:A,boxVersion:_(a)}}var N=C(x),S=N.isIOS,A=N.isAndroid,E=N.isHarmony,k=N.OS,D=N.OSVersion,T=N.isBoxSeries,I=N.isBdApp,P=N.isChatSearch,O=N.isSupportSwanInBrowser,R=N.isUseBrowserDesc,L=N.appProtoName,M=N.isMainBox,B=N.isBox,j=N.isLiteBox,U=N.isMissionBox,H=N.isTomas,q=N.boxType,Q=N.adaptBoxType,F=N.boxBrowserType,z=N.realBoxVersion,$=N.boxVersion;function G(e){try{e.boxType=q,e.boxVersion=z}catch(e){}return e}function J(e,t){void 0===t&&(t={isApp:M,isBdBox:I,isLiteApp:j,appType:q,realAppVersion:z});var n=t.isApp,r=t.isBdBox,i=t.isLiteApp,a=t.appType,s=t.realAppVersion;e?n&&b(s,"12.16")<0||r||i?g(a+s+"使用兜底描述表，符合预期"):g(a+s+"使用兜底描述表，！！！不符合预期，请加抽样验证效果！！！"):n?b(s,"12.16")>0?g(a+s+"使用端描述表，符合预期"):g(a+s+"使用端描述表，！！！不符合预期，请去掉抽样使用兜底描述表验证效果！！！"):g("矩阵产品"+a+s+"线上无法命中联动实验，不会使用端描述表，！！！不需要加抽样验证，请去掉抽样使用兜底描述表验证效果！！！")}var W=Object.freeze({__proto__:null,INFINITYVERSION:y,versionCompare:b,inBrowser:w,UA:x,getUAInfo:C,isIOS:S,isAndroid:A,isHarmony:E,OS:k,OSVersion:D,isBoxSeries:T,isBdApp:I,isChatSearch:P,isSupportSwanInBrowser:O,isUseBrowserDesc:R,appProtoName:L,isMainBox:M,isBox:B,isLiteBox:j,isMissionBox:U,isTomas:H,boxType:q,adaptBoxType:Q,boxBrowserType:F,realBoxVersion:z,boxVersion:$,addEnvInfo:G,isHitLocDesc:J}),V=[];function Y(){var e={};return{on:function(t,n){e.hasOwnProperty(t)?-1=== __get$(e,t) .indexOf(n)&& __get$(e,t) .push(n): __set$(e,t,[n]) },off:function(t,n){var r=( __get$(e,t) ||[]).indexOf(n);r>-1&& __get$(e,t) .splice(r,1)},once:function(e,t){var n=this,r=function(){for(var i=[],a=arguments.length;a--;) __set$(i,a,__get$(arguments,a)) ;n.off(e,r),t.apply.apply(t,[n].concat(i))};this.on(e,r)},emit:function(t){for(var n=[],r=arguments.length-1;r-- >0;) __set$(n,r,__get$(arguments,r+1)) ;var i=t.split(":"),a=i.length;if(2!==a||"*"!==i[1]){if(a>1){var s=i[0]+":*";K.apply(void 0,[e,s,t].concat(n))}K.apply(void 0,[e,t].concat(n))}}}}function K(e,t){for(var n=[],r=arguments.length-2;r-- >0;) __set$(n,r,__get$(arguments,r+2)) ;e.hasOwnProperty(t)&& __get$(e,t) .forEach((function(e){e.apply(void 0,n)}))}var X=new Y;function Z(){for(;V.length>0;){var e=V.shift();X.emit(e.name,e.error)}}var ee=new Y,te=[{name:"swan.open",invoke:"iframe.openSwan",args:[{name:"appKey",value:"string"},{name:"path",value:"string="},{name:"query",value:"Object="},{name:"_baiduboxapp",value:{type:{from:"string=",notinhis:"string=",srcAppId:"string=",extraData:"Object=",ext:"Object=",srcAppPage:"string=",ubc:"Object=",navi:"string=",backwardURL:"string="}}},{name:"third_ext",value:"string="},{name:"abtest",value:"string="},{name:"oauthType",value:"string="},{name:"_swaninfo",value:"string="},{name:"downloadUrl",value:"string="},{name:"udid",value:"string="},{name:"host",value:"string="},{name:"cb",value:"string="},{name:"port",value:"string="}],authority:"swan",scheme:window&&window._na&&window._na.getSchemeHeader&&window._na.getSchemeHeader()}],ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{};var re=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){!function(e){function n(e,t){for(var n=0,r=e&&e.length||0;n<r&&!1!==t( __get$(e,n) ,n);n++);}function r(e){return e}function i(e){return"string"==typeof e?JSON.parse(e):e}function a(e,t,r){n(t,(function(t,n){var i,a=s(t.value);switch(o( __get$(e,n) ,a)){case 1:i=" is required.";break;case 2:i=" type error. must be "+JSON.stringify(a.type||"Array");break;case 3:i=" type error, must be oneOf "+JSON.stringify(a.oneOf);break;case 4:i=" type error, must be oneOfType "+JSON.stringify(a.oneOfType);break;case 5:i=" type error, must be arrayOf "+JSON.stringify(a.arrayOf)}if(i){var c=r&&r.options.errorTitle||"jsNative";throw new Error("["+c+" Argument Error]"+t.name+i)}}))}function s(e){if("string"==typeof e){var t={isRequired:!0};return/=$/.test(e)&&(t.isRequired=!1,e=e.slice(0,e.length-1)),/\[\]$/.test(e)?t.arrayOf=e.slice(0,e.length-2):e.indexOf("|")>0?t.oneOfType=e.split("|"):t.type=e,t}return e}function o(e,t){if(t=s(t),null==e)return t.isRequired&&"*"!==t.type?1:0;var r=!1;switch(typeof t.type){case"string":switch(t.type){case"string":case"boolean":case"number":case"function":case"object":r=typeof e===t.type;break;case"Object":r="object"==typeof e;break;case"Array":r=e instanceof Array;break;case"*":r=!0}if(!r)return 2;break;case"object":if(e&&"object"==typeof e)for(var i in r=!0,t.type)if(!(r=!o( __get$(e,i) , __get$(t.type,i) )))break;if(!r)return 2;break;default:if(t.oneOf){if(n(t.oneOf,(function(t){return!(r=t===e)})),!r)return 3}else if(t.oneOfType){if(n(t.oneOfType,(function(t){return!(r=!o(e,t))})),!r)return 4}else if(t.arrayOf){if(!(e instanceof Array))return 2;if(r=!0,n(e,(function(e){return r=!o(e,t.arrayOf)})),!r)return 5}}return 0}function c(e){return n(e,(function(t,n){var r;"function"==typeof t&&( __set$(e,n,(r=t,function(e){r("string"==typeof e?JSON.parse(e):e);})) )})),e}function h(t){return n(t,(function(n,r){var i,a;"function"==typeof n&&( __set$(t,r,(i=n,a=u+l++,__set$(e,a,function(t){delete e[a],i(t);}),a)) )})),t}var l=1,u="__jsna_";function p(e){return n(e,(function(t,n){ __set$(e,n,JSON.stringify(t)) })),e}function d(e,t){var r={};return n(t,(function(t,n){var i= __get$(e,n) ;null!=i&&( __set$(r,t.name,i) )})),r}function f(t){return e.prompt(t)}function v(t){ __set$(__get$(e,"location"),"href",t) }function m(e){var t=document.createElement("iframe");t.src=e,document.body.appendChild(t),document.body.removeChild(t)}function g(e,t){return"function"==typeof e?e(t): __get$(e,t) }var y={method:["ArgCheck","CallMethod"],"method.json":["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","CallMethod","ReturnDecode:JSON"],"prompt.json":["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgAdd:name","ArgCombine:JSONString","CallPrompt","ReturnDecode:JSON"],"prompt.url":["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","ArgCombine:URL","CallPrompt","ReturnDecode:JSON"],location:["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","ArgCombine:URL","CallLocation"],iframe:["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","ArgCombine:URL","CallIframe"],message:["ArgCheck","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgAdd:name","ArgCombine:Object","CallMessage"]},b={method:"CallMethod",prompt:"CallPrompt",location:"CallLocation",iframe:"CallIframe",message:"CallMessage"},w={JSONStringInTurn:["ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON"],JSONString:["ArgFuncArgDecode:JSON","ArgFuncEncode","ArgAdd:name","ArgCombine:JSONString"],JSONObject:["ArgFuncArgDecode:JSON","ArgFuncEncode","ArgAdd:name","ArgCombine:Object"],URL:["ArgFuncArgDecode:JSON","ArgFuncEncode","ArgEncode:JSON","ArgCombine:URL"]},x={name:1,args:1,invoke:1,method:1,scheme:1,authority:1,path:1,handler:1};function _(e,t){for(var n in t)t.hasOwnProperty(n)&&! __get$(x,n) &&( __set$(e,n,__get$(t,n)) );return e}function C(e,t){var n=[];if(e.args instanceof Array)for(var r=0;r<e.args.length;r++){var i= __get$(e.args,r) ;n.push({name:i.name||i.n,value:i.value||i.v})}return(t=t||_)({name:e.name,args:n,invoke:N(e.invoke),method:e.method,scheme:e.scheme||e.schema,authority:e.authority,path:e.path,handler:e.handler},e)}function N(e){if(e instanceof Array)return e;switch(typeof e){case"string":return  __get$(y,e) ;case"object":var t=[];return e.check&&t.push("ArgCheck"),e.before&&(t=t.concat( __get$(w,e.before) )),t.push( __get$(b,e.call) ),"JSON"===e.after&&t.push("ReturnDecode:JSON"),t}}function S(t){var s={ArgCheck:function(e,t,n){return function(t){return a(t,e.args,n),t}},ArgFuncArgDecode:function(e,t){return"JSON"===t?c:r},ArgFuncEncode:function(){return h},ArgEncode:function(e,t){return"JSON"===t?p:r},ArgAdd:function(e,t){var n=e.args.length;e.args.push({name:"_"+t,value:"*"});var r= __get$(e,t) ;return function(e){return  __set$(e,n,r) ,e}},ArgCombine:function(e,t){switch(t){case"URL":var i=e.scheme+"://"+e.authority+e.path;return function(t){var r=[];n(e.args,(function(e,n){var i= __get$(t,n) ;null!=i&&r.push(e.name+"="+encodeURIComponent(i))}));var a=r.join("&");return a?i+"?"+a:i};case"Object":return function(t){return d(t,e.args)};case"JSONString":return function(t){return JSON.stringify(d(t,e.args))}}return r},CallMethod:function(t,n){var r,i;return function(n){switch(function(){if(!r){var n=t.method.split("."),a=n.length-1;i= __get$(n,a) ,r=e;for(var s=0;s<a;s++)r= __get$(r,__get$(n,s)) }}(),t.args.length){case 0:return  __call$(r,i,[]) ;case 1:return  __call$(r,i,[n[0]]) ;case 2:return  __call$(r,i,[n[0],n[1]]) ;case 3:return  __call$(r,i,[n[0],n[1],n[2]]) }return  __get$(r,i) .apply(r,n)}},CallPrompt:function(){return f},CallIframe:function(){return m},CallLocation:function(){return v},CallMessage:function(t){return function(n){ __call$(__get$(e.webkit.messageHandlers,t.handler),"postMessage",[n]) }},ReturnDecode:function(e,t){return"JSON"===t?i:r}},o={options:{errorTitle:"jsNative",namingConflict:"error"},apis:[],apisLen:0,apiIndex:{},config:function(e){return e=e||{},this.options.errorTitle=e.errorTitle||this.options.errorTitle,this.options.namingConflict=e.namingConflict||this.options.namingConflict,this},add:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)this.add( __get$(e,t) );else if("object"==typeof e){var n=e.name;if(null!= __get$(this.apiIndex,n) )switch(this.options.namingConflict){case"override": __set$(this.apis,__get$(this.apiIndex,n),C(e,this.descriptionPropMerger)) ;case"ignore":break;default:throw new Error("["+this.options.errorTitle+"] API exists: "+n)}else{var r=C(e,this.descriptionPropMerger); __set$(this.apiIndex,n,this.apisLen) , __set$(this.apis,this.apisLen++,r) }}return this},fromNative:function(e){return this.add(u(C(e,this.descriptionPropMerger)))},invoke:function(e,t){return u( __get$(this.apis,__get$(this.apiIndex,e)) ,t)},map:function(e){e=e||function(e){return e};for(var t={},n=0;n<this.apis.length;n++){var r= __get$(this.apis,n) ,i=g(e,r.name);if(i&&r.invoke)if(i.indexOf(".")>0){for(var a=i.split("."),s=0,o=t;s<a.length-1;s++){var c= __get$(a,s) ; __set$(o,c,__get$(o,c)||{}) ,o= __get$(o,c) } __set$(o,__get$(a,s),y(r)) }else  __set$(t,i,y(r)) }return t},invokeAPI:function(e,t){return u(C(e,this.descriptionPropMerger),t)},addProcessorCreator:function(e,t){if( __get$(s,e) )throw new Error("["+this.options.errorTitle+"] processorCreators exists: "+e);return  __set$(s,e,t) ,this},setExternalDescriptionProps:function(e){for(var t="",n=0;n<e.length;n++){var r= __get$(e,n) ;t+='target["'+r+'"] = source["'+r+'"];'}this.descriptionPropMerger=new Function("target","source",t+"return target;")}};return o.config(t),o;function l(e){var t=[];if(!e.invoke)throw new Error("["+o.options.errorTitle+"] invoke undefined: "+e.name);return n(e.invoke,(function(n){var r,i=n.indexOf(":");i>0&&(r=n.slice(i+1),n=n.slice(0,i));var a= __call$(s,n,[e,r,o]) ;"function"==typeof a&&t.push(a)})),t}function u(e,t){if(e)return t=t||[],n(l(e),(function(e){t=e(t)})),t}function y(e){var t=l(e);return function(){return r=Array.prototype.slice.call(arguments,0,e.args.length),n(t,(function(e){r=e(r)})),r;var r}}}var A=new S;A.version="1.2.4",A.createContainer=function(e){return new S(e)},e.jsNative=A,t.jsNative=A}("undefined"!=typeof window?window:ne)})),ie=re.jsNative.createContainer().config({errorTitle:"boxx",namingConflict:"override"}),ae={invoke:["ArgFuncArgDecode:JSON","ArgFuncEncode","CallMethod","ReturnDecode:JSON"],name:"na.getAPIs",method:"_na.getAPIs",args:[{name:"fragmentIndex",value:"number="}]},se={"iframe.bdboxURL":["CheckDisabledAPI","ArgCheckWithCallback","RegisterCallbacks","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgCombineWithCallback:Object","ArgJSONString","ArgCombineWithCallback:bdboxURL","CheckURL","CallIframe"],"iframe.url":["CheckDisabledAPI","ArgCheckWithCallback","RegisterCallbacks","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgsEncodeToJSONExceptString","ArgCombineWithCallback:URL","CheckURL","CallIframe"],"method.args-json+callback":["CheckDisabledAPI","ArgCheckWithCallback","RegisterCallbacks","ArgCombineWithCallback:JSONString","CallMethodByUserArgs:callback"],"method.args-json":["CheckDisabledAPI","ArgCheckWithCallback","RegisterCallbacks","ArgCombineWithCallback:JSONString","CallMethodByUserArgs:noCallback"],"method.bdboxURL":["CheckDisabledAPI","ArgCheckWithCallback","RegisterCallbacks","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgCombineWithCallback:Object","ArgJSONString","ArgCombineWithCallback:bdboxURL","CheckURL","CallMethodByUserArgs:callback"],"method.url":["CheckDisabledAPI","ArgCheckWithCallback","RegisterCallbacks","ArgFuncArgDecode:JSON","ArgFuncEncode","ArgsEncodeToJSONExceptString","ArgCombineWithCallback:URL","CheckURL","CallMethodByUserArgs:callback"],"method.openSwan":["CheckDisabledAPI","ArgCheckWithCallback","RegisterCallbacks","ArgsEncodeToJSONExceptString","SwanSchemeCombine","CheckURL","CallMethodByUserArgs:callback"],"iframe.openSwan":["CheckDisabledAPI","ArgCheckWithCallback","RegisterCallbacks","ArgsEncodeToJSONExceptString","SwanSchemeCombine","CheckURL","CallIframe"]};var oe=!1;function ce(){return oe}var he=!1;function le(){return he}function ue(e){if("undefined"==typeof _na||null===_na||!_na.getAPIs)return g("端描述表开关已关闭"),[];g("端描述表开关已打开， 端上会注入描述表， 但如果此时同时引入了兜底描述表， 则会被兜底描述表覆盖，目前矩阵（lite、tomas、青春版）产品属于该种情况");var t,n,r=[],i=[],a={},s=0;do{var o=e.invokeAPI(ae,[s]);if(!o){var c={name:"NoNaDescription",api:"na.getAPIs",message:"_na.getAPIs("+s+") return "+o};c=G(c),V.push({name:"error:no-na-desc",error:c});break}var h=o.totalSlices,l=o.descriptions;a=o.defaults,n=h,s++,r=r.concat(l)}while(s<n);if(r=function(e,t){return 1===e.length?[]:e.map((function(e){for(var n in t)t.hasOwnProperty(n)&&( __set$(e,n,__get$(e,n)||__get$(t,n)) );return e}))}(r,a),oe=0!==r.length,_na&&_na.getAmendAPIs){var u=_na.getAmendAPIs();if(u&&"string"==typeof u)try{i=JSON.parse(u)}catch(e){console.error(e)}else Array.isArray(u)&&(i=u);if(i&&i.length>0){he=!0;var p={};i.forEach((function(e){ __set$(p,e.name,e) }));for(var d=r.length-1;d>=0;d--) __get$(p,__get$(r,d).name) &&r.splice(d,1)}}return function(e){for(var t=e.length-1;t>=0;t--){var n=Object.keys( __get$(e,t) );1===n.length&&"name"===n[0]&&e.splice(t,1)}}(t=r.concat(i)),t}function pe(e){var t={appType:q,adaptAppType:Q,realAppVersion:z,appVersion:$};return e.filter((function(e){return fe(e,t)}))}function de(e,t){return e&& __get$(e,t) && __get$(__get$(e,t),F) }function fe(e,t){void 0===t&&(t={appType:q,adaptAppType:Q,realAppVersion:z,appVersion:$});var n=t.realAppVersion,r=t.appVersion,i=function(e,t){var n=t.appType,r=t.adaptAppType,i=de(e,n);if(i||!1===i)return{isAdapted:!1,startedVersion:i};var a=de(e,r);return a?{isAdapted:!0,startedVersion:a}:{isAdapted:!1,startedVersion:y}}(e.env,t),a=i.isAdapted,s=i.startedVersion;if(!s)return!1;var o=a?r:n;return!!o&&b(o,s)>=0}function ve(e){var t=function(e){var t=S?e.ios:e.android;return t&&t.length>0?pe(t):[]}(e),n=function(e){return pe((S?e.iosCompatibility:e.androidCompatibility)||[])}(e);return t.concat(n)}function me(){return{status:0,message:"success: NA 无返回信息，默认成功"}}var ge={"feed.updateFavorInfo":me,"hybrid.reliabilityLog":me,"feed.showDislike":me,"easyBrowser.open":me,"account.login":function(e){return e.data?{status:"1"===e.data.status?0:1,message:"1"===e.data.status?"login success":"login fail"}:e},"device.getCUID":function(e){if(e&&0===e.result)return{status:0,message:"success",data:{unique_id:e.unique_id}};if(e&&0===e.error)return{status:0,message:"success",data:{unique_id:e.result}};if((A||E)&&(b($,"7.4")>=0||!M)){var t=e&&e.length>0;return{status:t?0:1,message:t?"success":"fail",data:t?{unique_id:e}:{}}}if(A&&b($,"7.4")<0||S&&b($,"8.4")<0){var n=A?document.cookie.match(/BAIDUCUID=(.+?);/):x.match(/baiduboxapp\/.*\/(\w+)\/\d/),r=n?n[1]:"";return{status:r?0:1,message:r?"success":"fail",data:r?{unique_id:r}:{}}}return e},"device.getDeviceInfo":function(e){return e.data&&e.data.netInfo&&e.data.netInfo.network&&("1_0"===e.data.netInfo.network||"Wifi"===e.data.netInfo.network)?e.data.networkType="wifi":e.data.networkType="unknown",e},"feed.getSessionClickID":function(e){return{status:+e.status,message:e.message||"",data:e.data&&e.data.params||e.params||{}}},"easyBrowser.performanceFlowLog":function(e){return A||E?{status:+e.status,message:e.message||""}:e},"easyBrowser.request":function(e){return E?e:(t=e&&e.data&&"1"===e.errno?S?JSON.parse(decodeURIComponent(e.data)):JSON.parse(e.data):e.data,{status:"1"===e.errno?0:"0"===e.errno?1:parseInt(e.errno,10),message:e.message||("1"===e.errno?"success":"fail"),data:t||{}});var t},"easyBrowser.webStorage":function(e){return S&&0===e.result?{status:0,message:e.message||e.errmsg,data:e.data}:e},"device.getCurrentLocation":function(e){if(S)return{status:e.result||e.status,message:e.message||(0===e.result?"success":"fail"),data:e.coords||e.data};if(A||E){var t=e.st,n=e;return delete n.st,{status:t,message:e.message||(0===t?"success":"fail"),data:n}}return e},"feed.isWebPSupported":function(e){return(A||E)&&(e.data=e.result),e}};function ye(e,t){var n;try{n="string"==typeof e?JSON.parse(e):e}catch(t){n=e}switch(Object.keys(ge).indexOf(t)>-1&&(n= __call$(ge,t,[n]) ),typeof n){case"undefined":return{status:1,message:"fail: na 返回值为 undefined"};case"boolean":return{status:n?0:1,message:n?"success":"fail"};case"number":return{status:n,message:0==+n?"success":"fail"};case"string":return{status:0,message:"success",data:n};case"object":if(null===n)return{status:1,message:"fail: NA 返回信息为 null"};var r=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"errno"!==n&&"errmsg"!==n&&"status"!==n&&"message"!==n&&"result"!==n&&( __set$(t,n,__get$(e,n)) );return t}(n);if(null!=n.errno){var i=parseInt(n.errno,10);return{status:1===i?0:0===i?1:i,message:n.errmsg||1===i?"success":"fail",data:n.data||r}}return null!=n.status?{status:+n.status,message:n.message||(0==+n.status?"success":"fail"),data:n.data||r}:null!=n.result?{status:n.result,message:0===n.result?"success":"fail",data:n.data||r}:{status:0,message:"success",data:n}}return n}var be=1,we=function(e,t){ __set$(d,e,t) };function xe(){return"__boxx_"+be++}var _e,Ce=[],Ne="function"==typeof Promise&&/native code/.test(Promise);function Se(e,t){if(Ce.push(e),!_e)if(_e=function(){var e=Ce.slice(0);Ce=[],_e=null;for(var t=0,n=e.length;t<n;t++) __call$(e,t,[]) },"function"==typeof setImmediate)setImmediate(_e);else if("function"==typeof MessageChannel){var n=new MessageChannel,r=n.port2;n.port1.onmessage=_e, __call$(r,"postMessage",[1]) }else Ne?Promise.resolve().then(_e):setTimeout(_e,0)}var Ae=new Set;function Ee(e){for(var t=0;t<e.length;t++)Ae.add( __get$(e,t) )}function ke(e){for(var t=0;t<e.length;t++)Ae.delete( __get$(e,t) )}function De(e){return Ae.has(e)}var Te=!1,Ie=0;function Pe(e){return e}function Oe(e,t){for(var n=0,r=e&&e.length||0;n<r&&!1!==t( __get$(e,n) ,n);n++);}function Re(e,t){return e+t.authority+t.path}function Le(e){var t="";if(e.query){var n=[];for(var r in e.query)e.query.hasOwnProperty(r)&&n.push(r+"="+ __get$(e.query,r) );t=n.join("&")}return t}function Me(e,t){var n=[];if(t.argQueryList){var r=e?JSON.parse(e):[];t.argQueryList.forEach((function(e){if( __get$(r,e) ){var t="string"==typeof  __get$(r,e) ? __get$(r,e) :JSON.stringify( __get$(r,e) );n.push(e+"="+encodeURIComponent(t))}}))}return n.join("&")}function Be(e,t){if(t=je(t),null==e)return t.isRequired&&"*"!==t.type?1:0;var n=!1;switch(typeof t.type){case"string":switch(t.type){case"string":case"boolean":case"number":case"function":case"object":n=typeof e===t.type;break;case"Object":n="object"==typeof e;break;case"Array":n=e instanceof Array;break;case"*":n=!0}if(!n)return 2;break;case"object":if(e&&"object"==typeof e)for(var r in n=!0,t.type)if(!(n=!Be( __get$(e,r) , __get$(t.type,r) )))break;if(!n)return 2;break;default:if(t.oneOf){if(Oe(t.oneOf,(function(t){return!(n=t===e)})),!n)return 3}else if(t.oneOfType){if(Oe(t.oneOfType,(function(t){return!(n=!Be(e,t))})),!n)return 4}else if(t.arrayOf){if(!(e instanceof Array))return 2;if(n=!0,Oe(e,(function(e){return n=!Be(e,t.arrayOf)})),!n)return 5}}return 0}function je(e){if("string"==typeof e){var t={isRequired:!0};return/=$/.test(e)&&(t.isRequired=!1,e=e.slice(0,e.length-1)),/\[\]$/.test(e)?t.arrayOf=e.slice(0,e.length-2):e.indexOf("|")>0?t.oneOfType=e.split("|"):t.type="eventFunction"===e?"function":e,t}return e}function Ue(e,t,n){t=t.concat([{name:"success",value:"function="},{name:"fail",value:"function="}]);var r=e&&e.length,i=r>0? __get$(e,r-1) && __get$(e,r-1) .skipCheckArgs:0;1===i&&e.pop(),r=e&&e.length,1===(Ie=r>0? __get$(e,r-1) && __get$(e,r-1) .useLocationHrefMethod:0)&&e.pop(),Oe(t,(function(t,r){var a="",s=je(t.value);switch(Be( __get$(e,r) ,s)){case 1:a=" is required.";break;case 2:a=" type error. must be "+JSON.stringify(s.type||"Array");break;case 3:a=" type error, must be oneOf "+JSON.stringify(s.oneOf);break;case 4:a=" type error, must be oneOfType "+JSON.stringify(s.oneOfType);break;case 5:a=" type error, must be arrayOf "+JSON.stringify(s.arrayOf)}if(a){var o=n&&n.options.errorTitle||"jsNative",c=new Error("["+o+" Argument Error]"+t.name+a);if(1!==i)throw c;ee.emit("error: argument-error",c)}}))}function He(e,t){var n={};return Oe(t,(function(t,r){var i= __get$(e,r) ;null!=i&&( __set$(n,t.name,i) )})),n}var qe={CheckDisabledAPI:function(e){return function(t){var n=e.name;if(De(n))throw new Error("[boxx Disabled API]"+n+" is disabled.");return t}},ArgCheckWithCallback:function(e,t,n){return function(t){return Ue(t,e.args,n),t}},ArgsEncodeToJSONExceptString:function(){return function(e){return Oe(e,(function(t,n){"object"==typeof t&&( __set$(e,n,JSON.stringify(t)) )})),e}},RegisterCallbacks:function(e){var t=e.name;return function(n){var r=n.pop(),i=n.pop();if(e.nextCallback){var a=function(e,t){var n=t.success,r=t.fail;return function(t){0==+(t=ye(t,e)).status?n&&n(t):r&&r(t)}}(t,{success:i,fail:r}),s=xe();we(s,a),n.push(s)}var o=xe(),c=function(e,t,n){var r=t.success,i=t.fail;return function(t){t=ye(t,e),n||(0==+t.status?r&&r(t):i&&i(t))}}(e.name,{success:i,fail:r},!!e.nextCallback);return we(o,c),n.push(o),n}},ArgCombineWithCallback:function(e,t){var n=L+"://";switch(t){case"bdboxURL":return function(t){var r=t[0],i=t[1],a=Re(n,e),s=Le(e),o=Me(r,e),c=function(e,t){if(e&&Array.isArray(t.argQueryList)){var n=JSON.parse(e);t.argQueryList.forEach((function(e){ __get$(n,e) &&delete n[e]})),e=JSON.stringify(n)}var r=t.paramsName||"params";return e?r+"="+encodeURIComponent(e):""}(r,e),h=a+"?"+[c,s,o,(e.callbackName||e.callback||"callback")+"="+i].filter((function(e){return""!==e})).join("&");return h};case"URL":return function(t){var r=Re(n,e),i=Le(e),a=Me(t,e),s=(e.callbackName||e.callback||"callback")+"="+t.pop(),o=e.nextCallback?e.nextCallback+"="+t.pop():"",c=function(e,t){var n="";if(t.args&&t.args.length>0){var r=[];Oe(t.args,(function(t,n){var i= __get$(e,n) ;null!=i&&r.push(t.name+"="+encodeURIComponent(i))})),n=r.length>=0?r.join("&"):""}return n}(t,e),h=r+"?"+[c,o,i,a,s].filter((function(e){return""!==e})).join("&");return h};case"Object":return function(t){var n=e.args,r=t.pop();return e.nextCallback&&(n=n.concat([{name:e.nextCallback,value:"string"}])),0===n.length?[void 0,r]:[He(t,n),r]};case"JSONString":return function(t){var n=t.pop(),r=e.args;return e.nextCallback&&(r=r.concat([{name:e.nextCallback,value:"string"}])),0===r.length?[void 0,n]:[JSON.stringify(He(t,r)),n]}}return Pe},ArgJSONString:function(){return function(e){var t=e[0],n=e[1];return[JSON.stringify(t),n]}},CallMethodByUserArgs:function(e,t){var n,r;function i(t){!function(){if(!n){var t=e.method.split("."),i=t.length-1;r= __get$(t,i) ,n=d;for(var a=0;a<i;a++)n= __get$(n,__get$(t,a)) }}();var i,a=n&& __get$(n,r) ;if(A&&M&&!a&&b(z,"12.0")<0)return function(e,t){var n=e.method.split("."),r=t||[];e.args&&0!==e.args.length||(r=r.slice(1));var i={obj:n[0],func:n.slice(1).join("."),args:Array.isArray(r)?r:[r]};return g("window.prompt BdboxApp:"+JSON.stringify(i)),window.prompt("BdboxApp:"+JSON.stringify(i))}(e,t);if(!a)return function(){if(!Te){Te=!0;var t=[0,0,0,0];A&&(window.Bdbox_android_common?window.Bdbox_android_common.setQuery||(t[0]=2):t[0]=1,window.Bdbox_android_jsbridge?window.Bdbox_android_jsbridge.dispatch||(t[1]=2):t[1]=1),E&&(window.Bdbox_harmonyos_jsbridge?window.Bdbox_harmonyos_jsbridge.dispatch||(t[1]=2):t[1]=1),window._na?window._na.getAPIs?window._na.getAPIs(0)||(t[2]=3):t[2]=2:t[2]=1,window.chrome&&(t[3]=1);var n="";try{var r=(n=localStorage.getItem("methodInfo")||"")?n.split("|"):[],i=t.join(",");-1===r.indexOf(i)&&(r.push(i),n=r.join("|"),localStorage.setItem("methodInfo",n))}catch(e){}var a={name:"MethodUndefined",message:"Method undefined",method:e.method,info:t,ls:n};ee.emit("error:method-undefined",a)}}(),A&&1===Ie&& __get$Loc(location) &&"string"==typeof t&&( __set$(__get$Loc(location),"href",t) ),"";if(i=t,"[object Array]"!==Object.prototype.toString.call(i))return g(e.method+"("+JSON.stringify(t)+")"), __call$(n,r,[t]) ;switch(void 0===t[0]&&t.shift(),g(e.method+"("+JSON.stringify(t)+")"),t.length){case 0:return  __call$(n,r,[]) ;case 1:return  __call$(n,r,[t[0]]) ;case 2:return  __call$(n,r,[t[0],t[1]]) ;case 3:return  __call$(n,r,[t[0],t[1],t[2]]) ;default:return  __get$(n,r) .apply(n,t)}}switch(t){case"callback":default:return function(e){return i(e)};case"noCallback":return function(e){var t=e.pop(),n=i(e);Se((function(){ __call$(d,t,[n]) }))}}},CheckURL:function(){return function(e){try{g("schema:",e);var t=e.length;t>15360&&ee.emit("error:url-too-long",{name:"URLTooLong",message:"The url is too long",length:t,url:e});var n=/(NaN|null|undefined)/.exec(e);n&&ee.emit("error:url-include-unexpected-keyword",{name:"URLError",message:"The url include an unexpected keyword",keyword:n[0],url:e})}catch(e){}return e}},SwanSchemeCombine:function(e){var t=L+"://";return function(n){var r=n[0],i=n[1]||"";0!==i.indexOf("/")&&(g("xcx_path: "+i+" 必须是/开头"),i="/"===r.substr(r.length-1,1)?i:"/"+i);var a={},s=!0;try{a=n[2]&&JSON.parse(n[2])||{}}catch(e){if(n[2]&&"string"==typeof n[2])s=!1,n[2].split("&").forEach((function(e){var t=e.split("="),n=t[0],r=t[1]; __set$(a,n,r) }));else"[object Object]"===Object.prototype.toString.call(n[2])&&(a=n[2])}n[0]=void 0,n[1]=void 0,n[2]=void 0;var o=(e.callbackName||e.callback||"callback")+"="+n.pop(),c=e.nextCallback?e.nextCallback+"="+n.pop():"",h=t+e.authority+"/"+r+i,l=Le(e),u=function(e,t,n,r){var i=Object.keys(n).map((function(e){return e+"="+(r?encodeURIComponent( __get$(n,e) ): __get$(n,e) )}));return t.args&&t.args.length>0&&Oe(t.args,(function(t,n){var r= __get$(e,n) ;null!=r&&i.push(t.name+"="+encodeURIComponent(r))})),i.length>=0?i.join("&"):""}(n,e,a,s),p=h+"?"+[u,c,l,o].filter((function(e){return""!==e})).join("&");return p}}},Qe=1,Fe="__boxx_event_";function ze(e){var t=Fe+Qe++;return  __set$(d,t,function(t,n){e(t,n);}) ,t}function $e(e,t){return A||E?t.jscallback?e.page===t.page&&e.action===t.action&&e.fn===t.jscallback:e.page===t.page&&e.action===t.action:t.jscallback?e.action===t.action&&e.fn===t.jscallback:e.action===t.action}var Ge=[];function Je(e){return!Ge.some((function(t){return e===t.fn}))}function We(e,t){if("event.on"===e){var n;if("string"==typeof t.jscallback)return t;for(var r,i=!0,a=!0,s=Ge.length;s--;){if($e(r= __get$(Ge,s) ,t)){n=r.fnString,a=!1,i=!1;break}if(r.fn===t.jscallback){n=r.fnString,a=!1,i=!0;break}}a&&(n=ze(t.jscallback)),i&&Ge.push({page:t.page,action:t.action,fn:t.jscallback,fnString:n});var o={page:t.page,action:t.action,jscallback:n,rnmsg:t.rnmsg,allowDuplicate:t.allowDuplicate};return t.useGlobalBoxEvent&&(o.useGlobalBoxEvent=!0),t.success&&(o.success=t.success),t.fail&&(o.fail=t.fail),o}if("event.off"===e){var c=t.jscallback;if(!c||"string"==typeof c)return t;for(var h=!1,l=Ge.length;l--;){var u= __get$(Ge,l) ;if($e(u,t)){Ge.splice(l,1),Je(u.fn)&&delete d[u.fnString];var p={page:t.page,action:t.action,rnmsg:t.rnmsg,jscallback:u.fnString};return t.success&&(p.success=t.success),t.fail&&(p.fail=t.fail),h=!0,p}}if(!h)return console.error("error：尝试移除一个未被注册的事件函数"),Se((function(){t.fail&&t.fail({status:1,message:"removes a function that has not be registered"})})),delete t.jscallback,t}return t}var Ve={},Ye={fire:function(e,t){var n= __get$(Ve,e) ,r=0;if(n){var i=[].slice.call(arguments,0);i=i.length>2?i.splice(2,i.length-1):[],i=[e,t].concat(i),r=n.length;for(var a=0;a<r;a++){var s= __get$(n,a) ;s&&s.callback&&(i=i.concat(s.args),s.callback.apply(s.scope,i))}}return this},on:function(e,t,n){e=e||[];var r=[].slice.call(arguments);"string"==typeof e&&(e=e.split(","));var i=e.length;if(0===i)return this;r=r.length>3?r.splice(3,r.length-1):[];for(var a=0;a<i;a++){var s= __get$(e,a) ; __set$(Ve,s,__get$(Ve,s)||[]) , __get$(Ve,s) .push({callback:t,scope:n,args:r})}return this},off:function(e,t,n){var r= __get$(Ve,e) ;if(!r)return this;if(t){for(var i=r.length,a=[],s=0;s<i;s++){var o= __get$(r,s) ;o.callback===t&&o.scope===n||a.push(o)} __set$(Ve,e,a) }else r.length=0;return this},removeAll:function(){return Ve={},this}},Ke={"search.setQuery":function(e,t){var n= __get$(ie.apis,__get$(ie.apiIndex,t)) .authority;return(E||A)&&"searchframe"===n?(e.history=Boolean(e.history),e={searchType:JSON.stringify(e)}):S&&(e.history=Number(e.history)),e},"account.openLoginDialog":function(e){return e.third_login=e.showThirdLogin,e.login_type=e.loginType,e},"app.feedback":function(e){return(A||E)&&(e.type=e.type||"2"),e},"easyBrowser.request":function(e){return e.header=e.header||{},e.data=e.data||{},A||E?(e.header=JSON.stringify(e.header),e.data=JSON.stringify(e.data),e):e},"commonUI.showToastOld":function(e){return(e=e||{}).string=e.message,e},"easyBrowser.onPerformanceFlowEvent":function(e){return A&&(e.min_v="16789504"),e},"easyBrowser.openHybrid":function(e){return(e=e||{}).type="Hybrid",e.backup&&e.backup.url&&(e.backup.url=encodeURIComponent(e.backup.url)),e},"easyBrowser.openHybridOld":function(e){if(e=e||{},A){var t=e.backup&&e.backup.url||"",n=e.style&&e.style.toolbaricons&&e.style.toolbaricons.tids||"";return{intent:"intent:#Intent;"+["S.backup="+JSON.stringify({url:encodeURIComponent(t)}),"component=com.baidu.searchbox/.home.feed.FeedDetailActivity","S.toolbaricons="+encodeURIComponent(JSON.stringify({toolids:n})),"S.menumode="+(e.menumode||"")].join(";")+";end",min_v:e.min_v||"16783629",mode:"0"}}if(S){var r=e.style&&e.style.toolbaricons&&e.style.toolbaricons.tids||"";if(e.toolbar=JSON.stringify({toolids:r}),e.type="Hybrid",e.openurl=encodeURIComponent(e.url),e.isla=e.isla,e.minver="5.3.0.0",e.opentype=1,e.append=0,e.rbtnstyle=2,e.style&&"object"==typeof e.style){var i=e.style;for(var a in i)i.hasOwnProperty(a)&&( __set$(e,a,__get$(i,a)) );delete e.style}return e}return e},"device.getDeviceInfo":function(e){return e.keys=e.keys||["netInfo","screenInfo"],e},"event.on":function(e){return"globalSettingChange"===(e=We("event.on",e)).action||e.useGlobalBoxEvent?(window._Box_||(window._Box_={}),window._Box_.event||(window._Box_.event={}),window._Box_.event.broadcast||(window._Box_.event.broadcast=Ye),void Ye.on(e.action,e.jscallback? __get$(window,e.jscallback) :function(){})):e},"event.off":function(e){if("globalSettingChange"!==e.action&&!e.useGlobalBoxEvent)return e=We("event.off",e);Ye.off(e.action)}};function Xe(e,t,n,r,i,a){function s(e,n){if(n.api=t,!n.stack){var r=new Error(n.message||"[Invoke Error]");n.stack=r.stack}G(n),n.needDelayEmit?n.delayEmitCallback=function(){delete n.needDelayEmit,delete n.delayEmitCallback,i.emit(e,n)}:i.emit(e,n)}try{i.emit("invoke:start",G({api:t,args:n}));var o=function(e,t){return Object.keys(Ke).indexOf(t)>-1? __call$(Ke,t,[e,t]) :e}(n,t),c=function(e,t){var n=[],r=t.concat([{name:"success",value:"function="},{name:"fail",value:"function="}]);return e&&r.length>0&&(n=r.map((function(t){return  __get$(e,t.name) }))),e&&1===e.useLocationHrefMethod&&n.push({useLocationHrefMethod:1}),e&&1===e.skipCheckArgs&&n.push({skipCheckArgs:1}),n}(o,r);if(["event.on","event.off"].includes(t)&&n.useGlobalBoxEvent)return;ee.on("error:*",s),e.invoke(t,c),ee.off("error:*",s)}catch(e){ee.off("error:*",s);var h=e,l="unknown",u=e.message||"";if(/^\[.+? Argument Error\]/.test(u)){l="arg-invalid";var p=u.split("]")[1].split(" ")[0];h={name:"ArgInvalidError",message:u,stack:e.stack,arg:p}}try{h.api=t}catch(e){}if(G(h),i.emit("error:"+l,h),a)throw e}}var Ze=function(e,t){return function(n,r){g("搜索禁止使用 call 方法调用端能力，请先判断canIuse之后使用语义化 api 调用");var i= __get$(e.apiIndex,n) ;if(void 0!==i){var a= __get$(e.apis,i) ;Xe(e,n,r,a.args,t,!1)}else{var s="暂不支持 API: ["+n+"]",o=new Error(s);t.emit("error:api-missed",G({name:"APIMissedError",api:n,message:s,stack:o.stack}))}}},et=function(e,t,n){return function(r){Xe(e,t.name,r,t.args,n,!0)}};function tt(e,t,n,r,i){if(n.indexOf(".")>0){for(var a=n.split("."),s=e,o=0,c=a.length-1;o<c;o++){var h= __get$(a,o) ; __set$(s,h,__get$(s,h)||{}) ,s= __get$(s,h) } __set$(s,__get$(a,o),et(t,r,i)) }else  __set$(e,n,et(t,r,i)) }var nt=function(e,t,n){for(var r=t.apis,i=0,a=r.length;i<a;i++){var s= __get$(r,i) ;s.name&&tt(e,t,s.name,s,n)}};var rt={"account.login":"account.openLoginDialog","album.image.open":"album.image.openOld","commonUI.closeLoading":"commonUI.closeLoadingOld","commonUI.showToast":"commonUI.showToastOld","easyBrowser.openHybrid":"easyBrowser.openHybridOld","easyBrowser.performanceFlowLog":"easyBrowser.onPerformanceFlowEvent","device.getNetworkType":"device.getDeviceInfo"};function it(e,t){if(t.indexOf(".")>0){for(var n=t.split("."),r=e,i=0,a=n.length-1;i<a;i++){var s= __get$(n,i) ; __set$(r,s,__get$(r,s)||{}) ,r= __get$(r,s) }return{methodOwner:r,methodName: __get$(n,i) }}return{methodOwner:e,methodName:t}}function at(e,t){!function(e){e.invoke= __get$(se,e.invoke) ||e.invoke,e.path=e.path||""}(t),t.invoke?e.add(t):console.warn("[boxx] must specify right invoke type in description")}function st(e,t,n){for(var r=0;r<t.length;r++)n&&!fe( __get$(t,r) )||at(e, __get$(t,r) )}function ot(e){if(e&&Object.keys(e).length>0){var t=ve(e);st(ie,t,!0),this.hasDefaultDescription=!0}nt(this,ie,X),function(e){for(var t in rt)if(rt.hasOwnProperty(t))if(!e.canIUse(t)&&e.canIUse( __get$(rt,t) )){var n=it(e,t),r=it(e, __get$(rt,t) ); __set$(n.methodOwner,n.methodName,__get$(r.methodOwner,r.methodName)) ,delete r.methodOwner[r.methodName]}else if(e.canIUse(t)&&e.canIUse( __get$(rt,t) )){var i=it(e, __get$(rt,t) );delete i.methodOwner[i.methodName]}}(this)}function ct(e){!e&&ie.apis.length>0||(ht(),this.hasNADescription=ce(),this.hasAmendDescription=le())}function ht(){var e=ue(ie);st(ie,e)}function lt(e){this.hasDefaultDescription&&!e||ut(this)}function ut(e){var t={};try{t=document&&document.querySelectorAll("[data-for=boxx-description]")&&document.querySelectorAll("[data-for=boxx-description]")[0]&&document.querySelectorAll("[data-for=boxx-description]")[0].innerHTML&&JSON.parse(document.querySelectorAll("[data-for=boxx-description]")[0].innerHTML)||{},Object.keys(t).length>0?J(!0):J(!1)}catch(e){t={},console.error(e)}e.setDefaultDescription(t)}function pt(){var e={};return e.env=W,e.canIUse=function(e){return function(t,n){return!(2===arguments.length&&!n||De(t))&& __get$(e.apiIndex,t) >-1}}(ie),e.call=Ze(ie,X),e.hasDefaultDescription=!1,e.refreshDefaultDescriptions=lt.bind(e),e.setDefaultDescription=ot.bind(e),e.on=X.on,e.off=X.off,e.once=X.once,e.triggerCachedEvent=Z,e.hasNADescription=!1,e.hasAmendDescription=!1,e.setDebug=m,e.refreshNaDescriptions=ct.bind(e),e.disableAPIs=Ee,e.enableAPIs=ke,e}var dt=function(e){void 0===e&&(e=ie),function(e){for(var t in qe)if(qe.hasOwnProperty(t))try{e.addProcessorCreator(t, __get$(qe,t) )}catch(e){}}(e),R&&st(ie,te),ht();var t=pt();return t.hasNADescription=ce(),t.hasAmendDescription=le(),ut(t),t}();function ft(e){return function(){for(var t=[],n=0;n<arguments.length;n++) __set$(t,n,__get$(arguments,n)) ;try{return e.apply(void 0,t)}catch(e){if(t[0]&&t[0].fail&&"function"==typeof t[0].fail)return void(t[0]&&t[0].fail&&t[0].fail(e));console.error(e)}}}var vt=function(){function e(e){this.localDescription=e,this.APIDescriptionMap={},this.APIContainer={canIUse:this.generateCanIUse()},this.generateAPIs(this.localDescription)}return e.prototype.generateSingleAPI=function(e){var t=e.boxxName,n=e.method;if(t&&!dt.canIUse(t))return null;if(!t&&!n)return console.warn("Warning: No method found for ".concat(t," in boxx.")),null;if(n)return ft(n);for(var r=t.split("."),i=r.length,a=dt,s=0;s<i;s++)a= __get$(a,__get$(r,s)) ;return ft(a)},e.prototype.mountAPI=function(e,t){var n=e.name;if(!n||!t)return!1;for(var r=n.split("."),i=this.APIContainer,a=this.APIDescriptionMap,s=0;s<r.length-1;s++) __get$(i,__get$(r,s)) ||( __set$(i,__get$(r,s),{}) , __set$(a,__get$(r,s),{}) ),i= __get$(i,__get$(r,s)) ,a= __get$(a,__get$(r,s)) ;return  __set$(i,__get$(r,r.length-1),t) , __set$(a,__get$(r,r.length-1),e) ,!0},e.prototype.generateAPIs=function(e){var t=this;return e.forEach((function(e){t.mountAPI(e,t.generateSingleAPI(e))})),this.APIContainer},e.prototype.extendAPIs=function(e){var t=this;e.forEach((function(e){if(!t.mountAPI(e,t.generateSingleAPI(e)))throw new Error("Error: ".concat(e.name," can't be extended."))}))},e.prototype.generateCanIUse=function(){return function(e){for(var t=e.split("."),n=this.APIDescriptionMap,r=0,i=t;r<i.length;r++){var a= __get$(i,r) ;if(! __get$(n,a) )return!1;n= __get$(n,a) }return!0}.bind(this)},e}();var mt=+"".concat(Date.now()).slice(-3);function gt(){return"__search_base_api_cb__".concat(mt++)}var yt="//api.map.baidu.com/api?v=1.0&type=webgl&ak=SmruYyth2u3wkDxBb3eIMuHGOwq9V8hx",bt=!0;function wt(e,t){if(! __get$(e,t) ||"function"!=typeof  __get$(e,t) )throw new Error("Param ".concat(t," is required and must be of type 'function'"));var n=gt();return  __set$(window,n,__get$(e,t)) ,n}var xt,_t,Ct,Nt=[{name:"previewImage",method:function(e){if(void 0===e||null==e)throw Error("params urls is required");if(!dt.canIUse("album.image.open"))throw Error("album.image.open is not available in this environment.");var t=[];t=Array.isArray(e.images)?e.images:e.urls.map((function(e){return{url:e}}));var n="0";if(e.current){var r=e.urls.indexOf(e.current);-1!==r&&(n=r.toString())}var i={url:e.urls,images:t,index:n,type:"0",source:e.source||"ai-search-fe",success:e.success,fail:e.fail};return dt.album.image.open(i)},boxxName:"album.image.open"},{name:"saveImage",boxxName:"easyBrowser.image.save"},{name:"openWebview",boxxName:"easyBrowser.open"},{name:"openHalfScreenWebview",boxxName:"aiSearch.openH5HalfPage"},{name:"closeHalfScreenWebview",boxxName:"aiSearch.closeH5HalfPage"},{name:"getBMapGL",method:function(e){bt? new Promise(function(e){var t=window.define.amd;window.define.amd=void 0;var n=gt();__set$(window,n,function(){delete window[n],window.define.amd=t,e(window.BMapGL);});var r=document.createElement("script");r.setAttribute("src","".concat(yt,"&callback=").concat(n)),document.body.appendChild(r);}) .then((function(t){bt=!1,e&&e.success&&e.success({BMapGL:t})})).catch((function(){e&&e.fail&&e.fail({message:"BDMap load failed"})})):e&&e.success&&e.success({BMapGL:window.BMapGL})}},{name:"createElement",method:function(e){return document.createElement(e)}},{name:"openSmartProgram",boxxName:"swan.open"},{name:"novel.openNovelTab",boxxName:"novel.openNovelTab"},{name:"skin.setSkinData",boxxName:"skin.setSkinData"},{name:"device.getGlobalSettings",boxxName:"device.getGlobalSettings"},{name:"account.setPortrait",method:function(e){var t=wt(e,"portraitCallback"),n= __call$(Object,"assign",[{},e,{portraitCallback:t}]) ;dt.account.setPortrait(n)},boxxName:"account.setPortrait"},{name:"uCenter.setFontSize",boxxName:"uCenter.setFontSize"},{name:"uCenter.getClearCacheSize",boxxName:"uCenter.getClearCacheSize"},{name:"downloadCenter.getAutoBackupStatus",boxxName:"downloadCenter.getAutoBackupStatus"},{name:"uCenter.setBackupStatus",boxxName:"uCenter.setBackupStatus"},{name:"system.getNightMode",boxxName:"system.getNightMode"},{name:"uCenter.nightMode",boxxName:"uCenter.nightMode"},{name:"uCenter.getDarkMode",boxxName:"uCenter.getDarkMode"},{name:"system.setTheme",boxxName:"system.setTheme"},{name:"uCenter.getIncognitoMode",boxxName:"uCenter.getIncognitoMode"},{name:"uCenter.incognitoMode",boxxName:"uCenter.incognitoMode"},{name:"downloadCenter.getRecommendVideo",method:function(e){var t=wt(e,"resultCallback"),n= __call$(Object,"assign",[{},e,{resultCallback:t}]) ;dt.downloadCenter.getRecommendVideo(n)},boxxName:"downloadCenter.getRecommendVideo"},{name:"uCenter.getSmoothVideoInfo",boxxName:"uCenter.getSmoothVideoInfo"},{name:"uCenter.getDefaultHome",boxxName:"uCenter.getDefaultHome"},{name:"uCenter.setDefaultHome",boxxName:"uCenter.setDefaultHome"},{name:"uCenter.smartBotOpenPage",boxxName:"uCenter.smartBotOpenPage"},{name:"uCenter.getUserInfo",boxxName:"uCenter.getUserInfo"},{name:"uCenter.getUserInfo",boxxName:"uCenter.getUserInfo"},{name:"system.getTheme",boxxName:"system.getTheme"},{name:"downloadCenter.playDownloadVideo",boxxName:"downloadCenter.playDownloadVideo"},{name:"getEcharts",method:function(e){try{window.require(["https://psstatic.cdn.bcebos.com/basics/aichat/echarts_1695891551000"],(function(t){e&&e.success&&e.success({echarts:t})}))}catch(t){e&&e.fail&&e.fail({message:"Echarts load failed"})}}}],St=new vt(Nt),At={boxx:dt,extendAPIFactory:St.extendAPIs.bind(St),botAPI:St.APIContainer},Et=function(){function e(e,t){var n=this;this.eventInfoList=[],this.eventName=e.name,this.action=t,this.listener=function(e,t){var r="string"==typeof t?n.safetyAnalysis(t).data||{}:n.safetyAnalysis(JSON.stringify(t.data))||{};n.eventInfoList.forEach((function(e){n.eventName===r.name&&e.jsEmitter.emit( __call$(Object,"assign",[{},r]) )}))}}return e.prototype.naEventEmit=function(e){At.boxx.canIUse("event.emit")&&At.boxx.event.emit({action:this.action,data:JSON.stringify(this.combineFormatProtocol(e))})},e.prototype.naEventOn=function(){At.boxx.canIUse("event.on")&&At.boxx.event.on({action:this.action,jscallback:this.listener})},e.prototype.naEventOff=function(){At.boxx.canIUse("event.off")&&At.boxx.event.off({action:this.action})},e.prototype.addEventInfo=function(e,t){this.eventInfoList.push({naEventName:e,jsEmitter:t})},e.prototype.combineFormatProtocol=function(e){return{status:0,message:"success",data:{name:this.eventName,params:e}}},e.prototype.pureText=function(e){return  __call$(__call$(__call$(e,"replace",[/\n/g,"\\n"]),"replace",[/\r/g,"\\r"]),"replace",[/\t|\v/g,""]) },e.prototype.parseText=function(e,t){var n='"('.concat(t,')":\\"(.*?)\\"(.*?)(').concat(',"conversationLogId|,"inputType|,"sa|,"searchTimeStamp|,"name|,"selected|,"location|,"direction|,"endIndex|,"startIndex|,"chars|,"selected|,"point|\\},|}]',")"),r= __call$(e,"replace",[new RegExp(n,"g"),function(e,t,n,r,i){var a=e.slice(t.length+3,-1*i.length),s=a.lastIndexOf('"'),o=__call$(a.slice(1,s),"replace",[/"/g,'\\"']);return'"'.concat(t,'":"').concat(o,'"').concat(a.slice(s+1)).concat(i);}]) ;return JSON.parse(r)},e.prototype.safetyAnalysis=function(e){var t=this.pureText(e);try{return t&&JSON.parse(t)||{}}catch(e){return this.parseText(t,"query|words|selectedChars|char")}},e}(),kt={main:{na:"com.baidu.searchbox.aisearch",result:"com.baidu.searchbox.chatsearch"},searchcraft:{na:"com.baidu.searchbox.chatsearch"},bdhonorbrowser:{na:"com.baidu.searchbox.chatsearch"},searchcraftInMain:{na:"com.baidu.searchbox.chatsearch"},baiduboxapp:{na:"com.baidu.searchbox.aisearch"},lite:{na:"com.baidu.searchbox.aisearch",result:"com.baidu.searchbox.chatsearch"}},Dt=function(){function e(e){this.naEventListenerMap={},this.eventEmitterMap={},this.envType=e}return e.prototype.generateEmitMethod=function(e,t,n){var r=this.getNAEventName(n,t),i=this.getNAEventEmitter(e,r,n);return i.naEventEmit.bind(i)},e.prototype.generateOnOff=function(e,t,n){var r=this.getNAEventName(n,t),i=new l(n),a=this.getNAEventEmitter(e,t,n);return this.makeNAEventListenerMap(r,i,a),{on:i.on.bind(i),off:i.off.bind(i)}},e.prototype.listenNAEvent=function(){var e=this;Object.keys(this.naEventListenerMap).forEach((function(t){ __get$(e.naEventListenerMap,t) .naEventOn()}))},e.prototype.dispose=function(){var e=this;Object.keys(this.naEventListenerMap).forEach((function(t){ __get$(e.naEventListenerMap,t) .naEventOff()})),this.naEventListenerMap={},this.eventEmitterMap={}},e.prototype.getNAEventEmitter=function(e,t,n){if( __get$(this.eventEmitterMap,e) && __get$(__get$(this.eventEmitterMap,e),t) )return  __get$(__get$(this.eventEmitterMap,e),t) ; __get$(this.eventEmitterMap,e) ||( __set$(this.eventEmitterMap,e,{}) );var r=n.eventType.type,i=At.boxx.env.boxType,a= __get$(kt,i) ;if(!a)throw new Error("[EventBus] PLATFORM_NA_EVENT_PREFIX not exist");var s=this.envType.actionPrefix|| __get$(a,this.envType.pageType||"") || __get$(a,this.envType.platform) ,o="".concat(s,".").concat(e,".").concat(r).concat(this.envType.channelId?"."+this.envType.channelId:"");return  __set$(__get$(this.eventEmitterMap,e),t,new Et(n,o)) , __get$(__get$(this.eventEmitterMap,e),t) },e.prototype.makeNAEventListenerMap=function(e,t,n){ __get$(this.naEventListenerMap,e) ||( __set$(this.naEventListenerMap,e,n) ), __get$(this.naEventListenerMap,e) .addEventInfo(e,t)},e.prototype.getNAEventName=function(e,t){return e.name||t},e}(),Tt=function(){function e(e,t){this.platformEventMap={},this.env=e||{},this.eventConfig=t||{},this.intraThreadChannel=new u,this.interThreadChannel=new Dt(this.env),this.generateFieldEventEmitter(),this.interThreadChannel.listenNAEvent()}return e.prototype.get=function(){return this.platformEventMap},e.prototype.dispose=function(){this.intraThreadChannel.dispose(),this.interThreadChannel.dispose(),this.intraThreadChannel=null,this.interThreadChannel=null,this.env=null,this.eventConfig=null,this.platformEventMap={}},e.prototype.isSelf=function(e){return"na"!==this.env.platform||(!e||this.env.type===e)},e.prototype.generateFieldEventEmitter=function(){var e=this;Object.entries(this.eventConfig).forEach((function(t){var n=t[0],r=t[1]; __set$(e.platformEventMap,n,{}) ,Object.entries(r).forEach((function(t){var r=t[0],i=t[1],a=(i= __call$(Object,"assign",[{},i]) ).from,s=i.to,o=e.chooseEventBusChannel(s).generateEmitMethod(n,r,i),c=e.chooseEventBusChannel(a).generateOnOff(n,r,i),h=c.on,l=c.off; __set$(__get$(e.platformEventMap,n),r,{emit:e.isSelf(a)||s?o:null,on:h,off:l}) }))}))},e.prototype.chooseEventBusChannel=function(e){return this.isSelf(e)?this.intraThreadChannel:this.interThreadChannel},e}();function It(e,t,n,r){return new(n||(n=Promise))((function(t,i){function a(e){try{o(r.next(e))}catch(e){i(e)}}function s(e){try{o(r.throw(e))}catch(e){i(e)}}function o(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,s)}o((r=r.apply(e,[])).next())}))}function Pt(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&( __set$(a,Symbol.iterator,function(){return this;}) ),a;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&& __get$(i,i.length-1) )||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}"function"==typeof SuppressedError&&SuppressedError,function(e){ __set$(e,e.SUCCESS=0,"SUCCESS") , __set$(e,e.FAIL=1,"FAIL") }(xt||(xt={})),function(e){e.LINK="external",e.INLINE="inline",e.JSON="json",e.CLASS="class"}(_t||(_t={})),function(e){e.SCRIPT="script",e.STYLE="style"}(Ct||(Ct={}));var Ot=0,Rt=function(){function e(e,t){this.cardResourceLoaded=!1,this.loadedResourceMap=new Map,this.resourceLoadedStatus=new Map,this.resourceLoadedQueue={},this.eslInstance=e,this.configMap=t}return e.prototype.csrRender=function(e,t,n,r,i){return It(this,0,void 0,(function(){var a,s,o,c,h,l;return Pt(this,(function(u){switch(u.label){case 0:return a=t.js,s=t.moduleId,o=t.css,this.resourceLoaded(a)||this.addESLConfig(s,a),!o||this.resourceLoaded(o)?[3,2]:[4,this.loadRendererCssResource(o)];case 1:if((c=u.sent()).status===xt.FAIL)return[2,{promise:new Promise((function(e,t){t(c)}))}];u.label=2;case 2:return"assistant"===e?(h=this.configMap.get("rendererMethod"),i&&(h=h.concat(i)),l="renderer_".concat(Ot++),[2,{promise:this.csrComponentRender(s,a,{data:n,rendererMethods:h,rendererId:l},r),rendererId:l}]):[2]}}))}))},e.prototype.ssrRender=function(e,t,n){return It(this,0,void 0,(function(){var r,i,a,s,o,c;return Pt(this,(function(h){switch(h.label){case 0:return r=t.url,i=t.wiseEnv,a=this.getCardStaticResourceUrl(i),s="","card"!==e?[3,8]:(s="".concat(r,"&sa=chat_ala&data_type=json"),o={},c={},this.cardResourceLoaded?[3,5]:[4,this.loadStaticResource(a)]);case 1:return(o=h.sent()).status!==xt.SUCCESS?[3,3]:[4,this.ssrCardRender(s,n)];case 2:return c=h.sent(),[3,4];case 3:return[2,Promise.reject(o)];case 4:return[3,7];case 5:return[4,this.ssrCardRender(s,n)];case 6:c=h.sent(),h.label=7;case 7:return c.status===xt.SUCCESS?[2,Promise.resolve(c)]:[2,Promise.reject(c)];case 8:return[2]}}))}))},e.prototype.preloadCardStaticResource=function(e){return It(this,0,void 0,(function(){var t;return Pt(this,(function(n){switch(n.label){case 0:return t=this.getCardStaticResourceUrl(e),[4,this.loadStaticResource(t)];case 1:return n.sent().status===xt.SUCCESS?[2,Promise.resolve({status:xt.SUCCESS,message:"卡片资源预加载成功"})]:[2,Promise.reject({status:xt.FAIL,message:"卡片资源预加载失败"})]}}))}))},e.prototype.preloadStaticResource=function(e){return It(this,0,void 0,(function(){var t,n,r,i,a,s,o=this;return Pt(this,(function(c){return t=e.moduleId,n=e.js,r=e.css,i=[],r&&!this.resourceLoaded(r)&&(a= new Promise(function(e,t){return It(o,0,void 0,function(){return Pt(this,function(n){switch(n.label){case 0:return __set$(this.resourceLoadedQueue,r,__get$(this.resourceLoadedQueue,r)||[]),__get$(this.resourceLoadedQueue,r).push({resolve:e,reject:t}),"pending"===this.resourceLoadedStatus.get(r)?[3,2]:[4,this.loadRendererCssResource(r)];case 1:n.sent(),n.label=2;case 2:return[2];}});});}) ,i.push(a)),this.resourceLoaded(n)||(s= new Promise(function(e,t){__set$(o.resourceLoadedQueue,n,__get$(o.resourceLoadedQueue,n)||[]),__get$(o.resourceLoadedQueue,n).push({resolve:e,reject:t});}) ,"pending"!==this.resourceLoadedStatus.get(n)&&this.loadRendererJsResource(t,n),i.push(s)),[2,Promise.all(i).then((function(){return{status:xt.SUCCESS}}))]}))}))},e.prototype.loadRendererJsResource=function(e,t){var n=this;this.addESLConfig(e,t),this.resourceLoadedStatus.set(t,"pending"),this.eslInstance.loadPath(e,(function(){n.loadedResourceMap.set(t,t),n.resourceLoadedStatus.set(t,"fulfilled"), __get$(n.resourceLoadedQueue,t) .forEach((function(e){(0,e.resolve)({status:xt.SUCCESS})})), __set$(n.resourceLoadedQueue,t,[]) }))},e.prototype.loadRendererCssResource=function(e){return It(this,0,void 0,(function(){var t,n,r;return Pt(this,(function(i){switch(i.label){case 0:this.resourceLoadedStatus.set(e,"pending"),t={type:_t.LINK,attr:{href:e,rel:"stylesheet",type:"text/css"}},n={},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.loadResource(t,Ct.STYLE)];case 2:return n=i.sent(),[3,4];case 3:return r=i.sent(),n=r,[3,4];case 4:return n.status===xt.SUCCESS?(this.loadedResourceMap.set(e,e),this.resourceLoadedStatus.set(e,"fulfilled"), __get$(this.resourceLoadedQueue,e) .forEach((function(e){(0,e.resolve)({status:xt.SUCCESS})})), __set$(this.resourceLoadedQueue,e,[]) ):(console.warn("style 资源加载失败"),this.resourceLoadedStatus.set(e,"rejected"), __get$(this.resourceLoadedQueue,e) .forEach((function(e){(0,e.reject)({status:xt.FAIL})})), __set$(this.resourceLoadedQueue,e,[]) ),[2,n]}}))}))},e.prototype.loadStaticResource=function(e){return It(this,0,void 0,(function(){var t,n,r,i,a,s,o,c,h,l,u,p,d=this;return Pt(this,(function(f){switch(f.label){case 0:t={},f.label=1;case 1:return f.trys.push([1,7,,8]),[4,fetch(e)];case 2:return 200!==(t=f.sent()).status?[3,6]:[4,t.json()];case 3:return n=f.sent(),r=n.scripts,i=n.moleculeScripts,a=n.styles,s=r.filter((function(e){var t;return null===(t=e.attr)||void 0===t?void 0:t.isDependency})),o=r.filter((function(e){var t;return!(null===(t=e.attr)||void 0===t?void 0:t.isDependency)})),c=o.concat(i),h=[],s.forEach((function(e){h.push(d.loadResource(e,Ct.SCRIPT))})),[4,Promise.all(h)];case 4:return l=f.sent(),l.find((function(e){return e.status===xt.FAIL}))?[2,{status:xt.FAIL,message:"卡片资源加载失败"}]:(u=[],c.forEach((function(e){u.push(d.loadResource(e,Ct.SCRIPT))})),a.forEach((function(e){"cosmicStyle"!==e.name&&u.push(d.loadResource(e,Ct.STYLE))})),[4,Promise.all(u)]);case 5:return p=f.sent(),p.find((function(e){return e.status===xt.FAIL}))?[2,{status:xt.FAIL,message:"卡片资源加载失败"}]:(this.setCardResourceState(!0),[2,{status:xt.SUCCESS,message:"卡片资源加载成功"}]);case 6:return[2,{status:xt.FAIL,message:"卡片资源请求失败"}];case 7:return f.sent().message,[2,{status:xt.FAIL,message:"卡片资源请求失败"}];case 8:return[2]}}))}))},e.prototype.setCardResourceState=function(e){this.cardResourceLoaded=e},e.prototype.resourceLoaded=function(e){return this.loadedResourceMap.has(e)},e.prototype.loadResource=function(e,t){return It(this,0,void 0,(function(){var n,r,i,a;return Pt(this,(function(s){return n=e.attr||{},r=t===Ct.SCRIPT?"script":e.type===_t.LINK?"link":"style",i=document.createElement(r),a=t===Ct.SCRIPT?e.name:"stylesheet",[2, new Promise(function(r,s){var o;switch(e.type){case _t.LINK:i.addEventListener("load",function(){"load ".concat(a," ").concat(t),r({name:a,status:xt.SUCCESS});}),i.addEventListener("error",function(){"load ".concat(a," ").concat(t),s({name:a,status:xt.FAIL});});break;case _t.INLINE:case _t.JSON:i.innerHTML=e.code,"load ".concat(a," ").concat(t),r({name:a,status:xt.SUCCESS});break;case _t.CLASS:var c=null===(o=n.class)||void 0===o?void 0:o.trim();c&&document.body.classList.add(c),r({name:a,status:xt.SUCCESS});}e.type!==_t.CLASS&&Object.keys(n).forEach(function(t){i.setAttribute(t,__get$(e.attr,t));});document.head.appendChild(i);}) ]}))}))},e.prototype.csrComponentRender=function(e,t,n,r){var i=this;return new Promise((function(a){i.eslInstance.loadPath(e,(function(e){!i.resourceLoaded(t)&&i.loadedResourceMap.set(t,t);var s=new(e=i.injectRendererMethods(e))(n);s.attach(r),a(s)}))}))},e.prototype.ssrCardRender=function(e,t){return It(this,0,void 0,(function(){var n,r,i;return Pt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,fetch(e,{mode:"cors",credentials:"include"})];case 1:return[4,a.sent().json()];case 2:return(null==(n=a.sent())?void 0:n.singCardContent)?(r=document.createRange(),i=r.createContextualFragment(n.singCardContent),t.append(i),[2,{status:xt.SUCCESS,message:"卡片渲染成功",singCardContent:n.singCardContent}]):[2,{status:xt.FAIL,message:"卡片渲染失败"}];case 3:return a.sent(),[2,{status:xt.FAIL,message:"卡片模板请求失败"}];case 4:return[2]}}))}))},e.prototype.injectRendererMethods=function(e){if(!e.initedConstruct){var t=e.prototype.construct;e.prototype.construct=function(e){if(t&&t(e),e.rendererMethods)for(var n=0,r=e.rendererMethods;n<r.length;n++){var i= __get$(r,n) ,a=i.name,s=i.method; __set$(this,a,s) }e.rendererId&&(this.__rendererId__=e.rendererId)},e.initedConstruct=!0}return e},e.prototype.addESLConfig=function(e,t){var n;this.eslInstance.addEslPath(( __set$(n={},e,t) ,n))},e.prototype.getCardStaticResourceUrl=function(e){var t="//m.baidu.com/searchframe?sa=chat_ala&data_type=json&source_type=list";return e&&(t="".concat(e,"/searchframe?sa=chat_ala&data_type=json&source_type=list")),t},e}(),Lt=Rt;function Mt(e){return"object"===(t=e,Object.prototype.toString.call(t).slice(8,-1).toLowerCase());var t}var Bt=function(){function e(e){this.initEslConfig(e)}return e.prototype.initEslConfig=function(e){void 0===e&&(e="//ms.bdstatic.com"),window.require.config({baseUrl:e,waitSeconds:10})},e.prototype.addEslConfig=function(e){Mt(e)&&window.require.config(e)},e.prototype.addEslPath=function(e){Mt(e)&&window.require.config({paths:e})},e.prototype.loadPath=function(e,t){window.require(["".concat(e)],(function(e){t(e)}))},e.prototype.defineResource=function(e,t){window.define(e,t)},e}(),jt=function(){function e(e){this.config=new Map,e&&(this.eslInstance=new Bt(e),this.eslInstance.defineResource("san",h),this.eslInstance.defineResource("@baidu/boxx",At.boxx))}return e.prototype.initEsl=function(e){return this.eslInstance=this.eslInstance||new Bt(e),this.eslInstance},e.prototype.initEventBus=function(e,t){return new Tt(e,t)},e.prototype.initRenderer=function(){return new Lt(this.eslInstance,this.config)},e.prototype.initAPI=function(e,t){At.extendAPIFactory(e),this.api=At.botAPI,t&&! __get$(window,t) &&( __set$(window,t,this.api) )},e.prototype.initRendererMethod=function(e){this.rendererMethod=e,this.config.set("rendererMethod",e)},e.prototype.getESLInstance=function(){return this.eslInstance},e}(),Ut=jt;At.boxx;var Ht,qt,Qt={exports:{}},Ft={exports:{}},zt={exports:{}};function $t(){return Ht||(Ht=1,function(e){!function(){var t=1;function n(){}function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r= __get$(t,n) ;void 0!==r&&( __set$(e,n,r) )}return e}function i(e,t){var n=e.prototype,i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,r(e.prototype,n)}function a(e,t){if(e&&e.length>0)for(var n=0,r=e.length;n<r&&!1!==t( __get$(e,n) ,n);n++);}function s(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)}function o(e,t,n,r){e.addEventListener?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)}var c={animate:1,animateMotion:1,animateTransform:1,circle:1,ellipse:1,line:1,polygon:1,polyline:1,rect:1,defs:1,g:1,marker:1,mask:1,"missing-glyph":1,pattern:1,svg:1,symbol:1,desc:1,metadata:1,font:1,"font-face":1,linearGradient:1,radialGradient:1,stop:1,image:1,path:1,use:1,glyph:1,textPath:1,text:1,tref:1,tspan:1,clipPath:1,cursor:1,filter:1,foreignObject:1,view:1};function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var l,u=[],p="function"==typeof Promise&&/native code/.test(Promise),d="function"==typeof setImmediate&&/native code/.test(setImmediate);function f(e,t){if(t&&(e=function(e,t){var n=Function.prototype.bind,r=Array.prototype.slice;if(n&&e.bind===n)return n.apply(e,r.call(arguments,1));var i=r.call(arguments,2);return function(){return e.apply(t,i.concat(r.call(arguments)))}}(e,t)),u.push(e),!l)if(l=function(){var e=u.slice(0);u=[],l=null;for(var t=0,n=e.length;t<n;t++) __call$(e,t,[]) },d)setImmediate(l);else if("function"==typeof MessageChannel){var n=new MessageChannel,r=n.port2;n.port1.onmessage=l, __call$(r,"postMessage",[1]) }else p?Promise.resolve().then(l):setTimeout(l,0)}var v="undefined"!=typeof navigator&&navigator.userAgent.match(/(msie|trident)(\s*|\/)([0-9]+)/i),m=v?v[3]-0:0;m&&!/msie/i.test(v[1])&&(m+=4);var g=m&&m<9,y={area:1,base:1,br:1,col:1,embed:1,hr:1,img:1,input:1,link:1,meta:1,param:1,source:1,track:1,wbr:1};function b(e){var t=function(){};return t.isRequired=n,t}var w={array:b(),object:b(),func:b(),string:b(),number:b(),bool:b(),symbol:b(),any:b,arrayOf:b,instanceOf:b,shape:b,oneOf:b,oneOfType:b,objectOf:b,exact:b};function x(e){this.source=e,this.len=this.source.length,this.index=0}x.prototype.nextCode=function(){return this.index++,this.source.charCodeAt(this.index)},x.prototype.goUntil=function(e){for(var t;this.index<this.len&&(t=this.source.charCodeAt(this.index));)switch(t){case 32:case 9:case 13:case 10:this.index++;break;default:return t===e?(this.index++,1):void 0}},x.prototype.match=function(e,t){e.lastIndex=this.index;var n=e.exec(this.source);if(n&&(!t||this.index===n.index))return this.index=e.lastIndex,n};function _(e){return  __call$(e,"replace",[/-+(.)/gi,function(e,t){return t.toUpperCase();}]) }var C={allowpaymentrequest:1,async:1,autofocus:1,autoplay:1,checked:1,controls:1,default:1,defer:1,disabled:1,formnovalidate:1,hidden:1,ismap:1,itemscope:1,loop:1,multiple:1,muted:1,nomodule:1,novalidate:1,open:1,readonly:1,required:1,reversed:1,selected:1,typemustmatch:1};function N(e){return e.match(/\s*([\$0-9a-z_]+)/gi,1)[1]}function S(e){var t=O(e);if(e.goUntil(),63===e.source.charCodeAt(e.index)){e.index++;var n=S(e);if(e.goUntil(),58===e.source.charCodeAt(e.index))return e.index++,{type:10,segs:[t,n,S(e)]}}return t}function A(e){var t=N(e);switch(t){case"true":case"false":return{type:3,value:"true"===t};case"null":return{type:13}}var n={type:4,paths:[{type:1,value:t}]};e:for(;;)switch(e.source.charCodeAt(e.index)){case 46:e.index++,n.paths.push({type:1,value:N(e)});break;case 91:e.index++,n.paths.push(S(e)),e.goUntil(93);break;default:break e}return n}function E(e,t){e.goUntil();var n,r=A(e);if(e.goUntil(40))for(n=[];!e.goUntil(41);)n.push(S(e)),e.goUntil(44);else t&&(n=t);return n&&(r={type:6,name:r,args:n}),r}function k(e){e.goUntil();var t=e.source.charCodeAt(e.index);switch(t){case 33:case 43:case 45:return e.index++,function(e,t){switch(t){case 33:var n;switch(e.type){case 2:case 1:case 3:n=!e.value;break;case 12:case 11:n=!1;break;case 13:n=!0}if(null!=n)return{type:3,value:n};break;case 43:switch(e.type){case 2:case 1:case 3:return{type:2,value:+e.value}}break;case 45:switch(e.type){case 2:case 1:case 3:return{type:2,value:-e.value}}}return{type:9,expr:e,operator:t}}(k(e),t);case 34:case 39:return function(e){var t,n=e.source.charCodeAt(e.index),r="";e:for(;t=e.nextCode();)switch(t){case 92:switch(t=e.nextCode()){case 117:r+=String.fromCharCode(parseInt(e.source.slice(e.index+1,e.index+5),16)),e.index+=4;break;case 120:r+=String.fromCharCode(parseInt(e.source.slice(e.index+1,e.index+3),16)),e.index+=2;break;case 98:r+="\b";break;case 102:r+="\f";break;case 110:r+="\n";break;case 114:r+="\r";break;case 116:r+="\t";break;case 118:r+="\v";break;default:r+=String.fromCharCode(t)}break;case n:e.index++;break e;default:r+=String.fromCharCode(t)}return{type:1,value:r}}(e);case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return{type:2,value:+e.match(/[0-9]+(\.[0-9]+)?/g,1)[0]};case 40:return function(e){e.index++;var t=S(e);return e.goUntil(41),t.parenthesized=!0,t}(e);case 91:e.index++;for(var n=[];!e.goUntil(93);){var r={};n.push(r),46===e.source.charCodeAt(e.index)&&e.match(/\.\.\.\s*/g)&&(r.spread=!0),r.expr=S(e),e.goUntil(44)}return{type:12,items:n};case 123:e.index++;for(var i=[];!e.goUntil(125);){r={};i.push(r),46===e.source.charCodeAt(e.index)&&e.match(/\.\.\.\s*/g)?(r.spread=!0,r.expr=S(e)):(r.name=k(e),e.goUntil(58)?r.expr=S(e):r.expr=r.name,4===r.name.type&&(r.name=r.name.paths[0])),e.goUntil(44)}return{type:11,items:i}}return E(e)}function D(e){for(var t=k(e);;){e.goUntil();var n=e.source.charCodeAt(e.index);switch(n){case 37:case 42:case 47:e.index++,t={type:8,operator:n,segs:[t,k(e)]};continue}break}return t}function T(e){for(var t=D(e);;){e.goUntil();var n=e.source.charCodeAt(e.index);switch(n){case 43:case 45:e.index++,t={type:8,operator:n,segs:[t,D(e)]};continue}break}return t}function I(e){var t=T(e);e.goUntil();var n=e.source.charCodeAt(e.index);switch(n){case 60:case 62:return 61===e.nextCode()&&(n+=61,e.index++),{type:8,operator:n,segs:[t,T(e)]}}return t}function P(e){var t=function(e){var t=I(e);e.goUntil();var n=e.source.charCodeAt(e.index);switch(n){case 61:case 33:if(61===e.nextCode())return n+=61,61===e.nextCode()&&(n+=61,e.index++),{type:8,operator:n,segs:[t,I(e)]};e.index--}return t}(e);if(e.goUntil(),38===e.source.charCodeAt(e.index)){if(38===e.nextCode())return e.index++,{type:8,operator:76,segs:[t,P(e)]};e.index--}return t}function O(e){var t=P(e);if(e.goUntil(),124===e.source.charCodeAt(e.index)){if(124===e.nextCode())return e.index++,{type:8,operator:248,segs:[t,O(e)]};e.index--}return t}function R(e){if(e)return"object"==typeof e&&e.type?e:S(new x(e))}function L(e,t){var n=E(new x(e),t);return 6!==n.type&&(n={type:6,name:n,args:t||[]}),n}var M={lt:"<",gt:">",nbsp:" ",quot:'"',emsp:" ",ensp:" ",thinsp:" ",copy:"©",reg:"®",zwnj:"‌",zwj:"‍",amp:"&"};function B(e){return  __call$(__call$(e,"replace",[/&#(x[0-9a-f]+|[0-9]+);/g,function(e,t){return 120===t.charCodeAt(0)?String.fromCharCode(parseInt(t.slice(1),16)):String.fromCharCode(+t);}]),"replace",[/&([a-z]+);/gi,function(e,t){return __get$(M,t)||e;}]) }function j(e,t){t=t||["{{","}}"];var n,r=new x(e),i=0,a=[],s=-1;function o(e){var t= __get$(a,s) ;t&&1===t.type?t.value=t.value+e: __set$(a,++s,{type:1,value:e}) }for(var c=t[0],h=c.length,l=t[1],u=l.length;;){var p,d=r.source.indexOf(c,r.index),f=r.source.indexOf(l,r.index);if(-1===d||f<d)break;(p=r.source.slice(i,d))&&o(B(p)),r.source.indexOf(l,f+1)===f+1&&f++;var v=new x(r.source.slice(d+h,f));if(!v.goUntil(125)&&v.index<v.len){for(var m={type:5,expr:S(v),filters:[]};v.goUntil(124);){var g=E(v,[]);switch(g.name.paths[0].value){case"html":break;case"raw":m.original=1;break;default:m.filters.push(g)}}n=n||m.original, __set$(a,++s,m) }else o(c+v.source+l);i=r.index=f+u}switch((p=r.source.slice(i))&&o(B(p)),a.length){case 0:return{type:1,value:""};case 1:return 5!==a[0].type||0!==a[0].filters.length||a[0].original?a[0]:a[0].expr}return n?{type:7,segs:a,original:1}:{type:7,segs:a}}function U(e,t,n,r){var i,a,s=t.indexOf("-");switch(s>0&&(a=t.slice(0,s),i=t.slice(s+1)),a){case"on":var o,c={name:i,modifier:{}};for(e.events.push(c);(o=n.indexOf(":"))>0;){var h=n.slice(0,o);if(!/^[a-z]+$/i.test(h))break; __set$(c.modifier,h,!0) ,n=n.slice(o+1)}c.expr=L(n,[{type:4,paths:[{type:1,value:"$event"}]}]);break;case"san":case"s":"else-if"===i&&(i="elif");var l=function(e,t,n){switch(e){case"is":case"show":case"html":case"bind":case"if":case"elif":return{value:R( __call$(t,"replace",[/(^\{\{|\}\}$)/g,""]) )};case"else":return{value:{}};case"transition":return{value:L(t)};case"ref":return{value:j(t,n.delimiters)};case"for":var r=new x(t),i=r.match(/^\s*([$0-9a-z_]+)(\s*,\s*([$0-9a-z_]+))?\s+in\s+/gi,1);if(i){var a={item:i[1],value:k(r)};if(i[3]&&(a.index=i[3]),r.match(/\s*trackby\s+/gi,1)){var s=r.index;a.trackBy=A(r),a.trackByRaw=r.source.slice(s,r.index)}return a}}}(i,n,r);l&&( __set$(e.directives,i,l) );break;case"var":e.vars||(e.vars=[]),e.vars.push({name:_(i),expr:R( __call$(n,"replace",[/(^\{\{|\}\}$)/g,""]) )});break;case"attr":e.attrs||(e.attrs=[]),e.attrs.push({name:i,expr:n?j(n,r.delimiters): __get$(C,i) ?{type:3,value:!0}:{type:1,value:""}});break;default:if("prop"===a&&(t=i),n&&0===n.indexOf("{=")&&"=}"===n.slice(-2))return void e.props.push({name:t,expr:R(n.slice(2,-2)),x:1});var u=j(n||"",r.delimiters);if(""===u.value) __get$(C,t) &&(u={type:3,value:!0});else switch(t){case"class":case"style":switch(u.type){case 7:for(var p=0,d=u.segs.length;p<d;p++)5=== __get$(u.segs,p) .type&& __get$(u.segs,p) .filters.push({type:6,name:{type:4,paths:[{type:1,value:"_"+t}]},args:[]});break;case 5:u.filters.push({type:6,name:{type:4,paths:[{type:1,value:"_"+t}]},args:[]});break;default:1!==u.type&&(u={type:5,expr:u,filters:[{type:6,name:{type:4,paths:[{type:1,value:"_"+t}]},args:[]}]})}}e.props.push(null!=n?{name:t,expr:u}:{name:t,expr:u,noValue:1})}}function H(e,t){(t=t||{}).trimWhitespace=t.trimWhitespace||"none";var n={directives:{},props:[],events:[],children:[]};if("string"!=typeof e)return n;var r= new x(e=__call$(e,"replace",[/<!--([\s\S]*?)-->/gm,""])) ;r.goUntil();for(var i,a=/<(\/)?([a-z][a-z0-9-]*)\s*/gi,s=/([-:0-9a-z\[\]_]+)(\s*=\s*(([^'"<>\s]+)|"([^"]*?)"|'([^']*?)'))?\s*/gi,o=n,c=[n],h=0,l=r.index;null!=(i=r.match(a));){var u=r.index-i[0].length,p=i[1],d=i[2];if(p){if(62===r.source.charCodeAt(r.index)){var f=h;for(k(e.slice(l,u));f>0&& __get$(c,f) .tagName!==d;)f--;f>0&&(o= __get$(c,h=f-1) ),r.index++}}else{for(var v={directives:{},props:[],events:[],children:[],tagName:d},m= __get$(y,d) ;;){var g=r.source.charCodeAt(r.index);if(62===g){r.index++;break}if(47===g&&62===r.source.charCodeAt(r.index+1)){r.index+=2,m=1;break}if(!g){k(r.source.slice(l)),v=null;break}var b=r.match(s,1);if(!b){k(r.source.slice(l,r.index)),v=null;break}U(v,b[1],b[2]?b[5]||b[6]||b[4]||"":void 0,t)}if(v){if(k(e.slice(l,u)),v.directives.show){for(var w=null,_=v.props.length;_--;)if("style"=== __get$(v.props,_) .name){w= __get$(v.props,_) ;break}var C={type:10,segs:[v.directives.show.value,{type:1,value:""},{type:1,value:";display:none;"}]};w?7===w.expr.type?w.expr.segs.push(C): __get$(v.props,_) .expr={type:7,segs:[w.expr,C]}:v.props.push({name:"style",expr:C})}if(v.directives.else||v.directives.elif){for(var N=o.children.length,S=null;N--;){var A= __get$(o.children,N) ;if(!A.textExpr){S=A;break}o.children.splice(N,1)}S&&(S.elses=S.elses||[],S.elses.push(v))}else{if("tr"===v.tagName&&"table"===o.tagName){var E={directives:{},props:[],events:[],children:[],tagName:"tbody"};o.children.push(E),o=E, __set$(c,++h,E) }o.children.push(v)}m||(o=v, __set$(c,++h,v) )}}l=r.index}return k( __call$(r.source.slice(l),"replace",[/^\s+$/,""]) ),n;function k(e){switch(t.trimWhitespace){case"blank":/^\s+$/.test(e)&&(e=null);break;case"all":e= __call$(e,"replace",[/(^\s+|\s+$)/g,""]) }if(e){var n=j(e,t.delimiters),r= __get$(o.children,o.children.length-1) ,i=r&&r.textExpr;i?i.segs?i.segs=i.segs.concat(n.segs||n):null!=i.value&&null!=n.value?i.value=i.value+n.value:r.textExpr={type:7,segs:[i].concat(n.segs||n)}:o.children.push({textExpr:n})}}}function q(e,t,n){for(var r=t;r;){if("function"==typeof r.error)return void r.error(e,t,n);r=r.parentComponent}throw e}function Q(e){if("object"==typeof e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+ __get$(e,n) +";");return t}return e}var F={url:encodeURIComponent,_class:function(e){return e instanceof Array?e.join(" "):e},_style:Q,_xclass:function(e,t){return e instanceof Array&&(e=e.join(" ")),e?t?t+" "+e:e:t},_xstyle:function(e,t){return(e=e&&Q(e))?t?t+";"+e:e:t}};function z(e,t,n){if(null!=e.value)return e.value;var i;switch(e.type){case 13:return null;case 9:switch(i=z(e.expr,t,n),e.operator){case 33:i=!i;break;case 43:i=+i;break;case 45:i=0-i}return i;case 8:i=z(e.segs[0],t,n);var a=z(e.segs[1],t,n);switch(e.operator){case 37:i%=a;break;case 43:i+=a;break;case 45:i-=a;break;case 42:i*=a;break;case 47:i/=a;break;case 60:i=i<a;break;case 62:i=i>a;break;case 76:i=i&&a;break;case 94:i=i!=a;break;case 121:i=i<=a;break;case 122:i=i==a;break;case 123:i=i>=a;break;case 155:i=i!==a;break;case 183:i=i===a;break;case 248:i=i||a}return i;case 10:return z( __get$(e.segs,z(e.segs[0],t,n)?1:2) ,t,n);case 12:i=[];for(var s=0,o=e.items.length;s<o;s++){var c=z((h= __get$(e.items,s) ).expr,t,n);h.spread?c&&(i=i.concat(c)):i.push(c)}return i;case 11:i={};for(s=0,o=e.items.length;s<o;s++){var h;c=z((h= __get$(e.items,s) ).expr,t,n);h.spread?c&&r(i,c): __set$(i,z(h.name,t,n),c) }return i;case 4:return t.get(e);case 5:if(i=z(e.expr,t,n),n)for(s=0,o=e.filters.length;s<o;s++){var l= __get$(e.filters,s) ,u=l.name.paths[0].value;switch(u){case"url":case"_class":case"_style":i= __call$(F,u,[i]) ;break;case"_xclass":case"_xstyle":i= __call$(F,u,[i,z(l.args[0],t,n)]) ;break;default:try{i= __get$(n.filters,u) && __get$(n.filters,u) .apply(n,[i].concat($(l.args,t,n)))}catch(e){q(e,n,"filter:"+u)}}}return null==i&&(i=""),i;case 6:if(n&&4===e.name.type){var p=n,d=e.name.paths.length;for(s=0;p&&s<d;s++)p= __get$(p,z(__get$(e.name.paths,s),t,n)) ;p&&(i=p.apply(n,$(e.args,t,n)))}break;case 7:var f="";for(s=0,o=e.segs.length;s<o;s++){var v= __get$(e.segs,s) ;f+=v.value||z(v,t,n)}return f}return i}function $(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(z( __get$(e,i) ,t,n));return r}function G(e,t,n){for(var r=0,i=t.length;r<i;r++)if(J(e, __get$(t,r) ,n))return 1;return 0}function J(e,t,n){switch(t.type){case 4:for(var r=t.paths,i=r.length,a=e.paths,s=a.length,o=1,c=0;c<i;c++){var h= __get$(r,c) ,l=h.value;if(null==l&&J(e,h,n)){o=1;break}o&&c<s&&(l||z(h,n))!= __get$(a,c) .value&&(o=0)}return o&&(o=Math.max(1,s-i+2)),o;case 9:return J(e,t.expr,n)?1:0;case 7:case 8:case 10:return G(e,t.segs,n);case 12:case 11:for(c=0;c<t.items.length;c++)if(J(e, __get$(t.items,c) .expr,n))return 1;break;case 5:if(J(e,t.expr,n))return 1;for(c=0;c<t.filters.length;c++)if(G(e, __get$(t.filters,c) .args,n))return 1;break;case 6:if(G(e,t.name.paths,n)||G(e,t.args,n))return 1}return 0}function W(e){return  __get$(this,e) }var V={start:{is:W},compiled:{is:W,compiled:!0},inited:{is:W,compiled:!0,inited:!0},created:{is:W,compiled:!0,inited:!0,created:!0},attached:{is:W,compiled:!0,inited:!0,created:!0,attached:!0},leaving:{is:W,compiled:!0,inited:!0,created:!0,attached:!0,leaving:!0},detached:{is:W,compiled:!0,inited:!0,created:!0,detached:!0},disposed:{is:W,disposed:!0}};function Y(e,t){var n= __get$(e._pi,t) ;if(null!=n)return  __get$(e.props,n) }var K={readonly:"readOnly",cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder",for:"htmlFor"};function X(e,t,n){var r= __get$(K,n) ||n,i=null!=t;r in e? __set$(e,r,i?t:"") :i&&e.setAttribute(n,t),i||e.removeAttribute(n)}function Z(e,t,n){e.setAttribute(n,t)}function ee(e,t,n){ __set$(e,__get$(K,n)||n,!!t) }function te(e,t,n,r){m>9&&!e.value&&t&&(r.__bkph=!0,f((function(){r.__bkph=!1}))),X(e,t,n)}var ne={id:function(e,t){null!=t?e.id=t:e.id&&e.removeAttribute("id")},style:function(e,t){e.style.cssText=t},class:function(e,t){(m||e.className!==t)&&(e.className=t)},slot:n,draggable:ee},re={checkbox:function(e,t){if(e instanceof Array)for(var n=e.length;n--;)if( __get$(e,n) ===t)return!0},radio:function(e,t){return e===t}},ie={input:{multiple:ee,checked:function(e,t,n,r){var i=t,a=Y(r.aNode,"value"),s=Y(r.aNode,"type");if(a&&s){var o=z(s.expr,r.scope,r.owner);if( __get$(re,o) ){var c=Y(r.aNode,"checked");null==c||c.hintExpr||(c.hintExpr=a.expr),i=!! __call$(re,o,[t,r.data?z(a.expr,r.data,r):z(a.expr,r.scope,r.owner)]) }}ee(e,i,"checked"),m&&m<8&&!r.lifeCycle.attached&&ee(e,i,"defaultChecked")},placeholder:te,readonly:ee,disabled:ee,autofocus:ee,required:ee},option:{value:function(e,t,n,r){X(e,t,n),function(e,t){var n=e.parent;for(;n&&"select"!==n.tagName;)n=n.parent;if(n){var r,i,a=null;if((r=Y(n.aNode,"value"))&&(i=r.expr)&&(a=5===n.nodeType?z(i,n.data,n):z(i,n.scope,n.owner)||""),a===t)return 1}}(r,t)&&(e.selected=!0)}},select:{readonly:ee,disabled:ee,autofocus:ee,required:ee},textarea:{placeholder:te,readonly:ee,disabled:ee,autofocus:ee,required:ee},button:{disabled:ee,autofocus:ee,type:function(e,t){null!=t?e.setAttribute("type",t):e.removeAttribute("type")}}};function ae(e,t){if( __get$(c,e) )return Z;var n= __get$(ie,e) ;n||(n= __set$(ie,e,{}) );var r= __get$(n,t) ;return r||(r= __get$(ne,t) ||X, __set$(n,t,r) ),r}function se(e,t,n){var r=e.option.target;return r&&r.node===t&&(!n||r.prop===n)}function oe(e,t,n){for(var r=e,i=0;null!=r&&i<t.paths.length;i++)r= __get$(r,z(__get$(t.paths,i),n)) ;return r}function ce(e,t){this.parent=t,this.raw=e||{},this.listeners=[]}function he(e,t,n,r,i,a){if(n>=r)return i;null==e&&(e={});var s= __get$(t,n) ,o=z(s,a),c=e;if(e instanceof Array){var h=+o;o=isNaN(h)?o:h, __set$(c=e.slice(0),o,he(__get$(e,o),t,n+1,r,i,a)) }else if("object"==typeof e){c={};var l=!0;for(var u in e)e.hasOwnProperty(u)&&(u===o?(l=!1, __set$(c,o,he(__get$(e,o),t,n+1,r,i,a)) ): __set$(c,u,__get$(e,u)) );l&&( __set$(c,o,he(__get$(e,o),t,n+1,r,i,a)) )}return null==s.value&&( __set$(t,n,{type:"string"==typeof o?1:2,value:o}) ),c}function le(e,t,n,r){var i=e.expr.args;return function(a){r||(a=a||window.event);var s=oe(t,e.expr.name,n);if("function"==typeof s&&s.apply(t,i.length?$(i,new ce({$event:a},n),t):[]),e.modifier.prevent)return a.preventDefault&&a.preventDefault(),!1;e.modifier.stop&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}}function ue(e,t){if(t)for(var n=0;n<e.length;n++){var r= __get$(e,n) ;if(!r.overview){var i=r.expr.paths;r.overview=i[0].value,i.length>1&&(r.extOverview=i[0].value+"."+i[1].value,r.wildOverview=i[0].value+".*")}if( __get$(t,r.overview) ||r.wildOverview&& __get$(t,r.wildOverview) ||r.extOverview&& __get$(t,r.extOverview) )return!0}}function pe(e,t,n){t&&(n?t.insertBefore(e,n):t.appendChild(e))}ce.prototype.listen=function(e){"function"==typeof e&&this.listeners.push(e)},ce.prototype.unlisten=function(e){for(var t=this.listeners.length;t--;)e&& __get$(this.listeners,t) !==e||this.listeners.splice(t,1)},ce.prototype.fire=function(e){for(var t=0;t<this.listeners.length;t++) __get$(this.listeners,t) .call(this,e)},ce.prototype.get=function(e,t){var n=this.raw;if(!e)return n;"object"!=typeof e&&(e=R(e));var r=e.paths;if(t=t||this,void 0===(n= __get$(n,r[0].value) )&&this.parent)n=this.parent.get(e,t);else for(var i=1,a=r.length;null!=n&&i<a;i++)n= __get$(n,__get$(r,i).value||z(__get$(r,i),t)) ;return n},ce.prototype.set=function(e,t,n){if(n=n||{},e=R(e),this.get(e)!==t||n.force){var r=(e={type:4,paths:e.paths.slice(0)}).paths[0].value; __set$(this.raw,r,he(__get$(this.raw,r),e.paths,1,e.paths.length,t,this)) ,n.silent||n.silence||n.quiet||this.fire({type:1,expr:e,value:t,option:n})}},ce.prototype.assign=function(e,t){for(var n in t=t||{},e)this.set({type:4,paths:[{type:1,value:n}]}, __get$(e,n) ,t)},ce.prototype.merge=function(e,t,n){for(var r in n=n||{},e=R(e),t)this.set({type:4,paths:e.paths.concat([{type:1,value:r}])}, __get$(t,r) ,n)},ce.prototype.apply=function(e,t,n){e=R(e);var r=this.get(e);this.set(e,t(r),n)},ce.prototype.splice=function(e,t,n){n=n||{},e={type:4,paths:(e=R(e)).paths.slice(0)};var r=this.get(e),i=[];if(r instanceof Array){var a=t[0],s=r.length;a>s?a=s:a<0&&(a=s+a)<0&&(a=0);var o=r.slice(0);i=o.splice.apply(o,t);var c=e.paths[0].value; __set$(this.raw,c,he(__get$(this.raw,c),e.paths,1,e.paths.length,o,this)) ,n.silent||n.silence||n.quiet||this.fire({expr:e,type:2,index:a,deleteCount:i.length,value:i,insertions:t.slice(2),option:n})}return i},ce.prototype.push=function(e,t,n){var r=this.get(e);if(r instanceof Array)return this.splice(e,[r.length,0,t],n),r.length+1},ce.prototype.pop=function(e,t){var n=this.get(e);if(n instanceof Array){var r=n.length;if(r)return this.splice(e,[r-1,1],t)[0]}},ce.prototype.shift=function(e,t){return this.splice(e,[0,1],t)[0]},ce.prototype.unshift=function(e,t,n){var r=this.get(e);if(r instanceof Array)return this.splice(e,[0,0,t],n),r.length+1},ce.prototype.removeAt=function(e,t,n){this.splice(e,[t,1],n)},ce.prototype.remove=function(e,t,n){var r=this.get(e);if(r instanceof Array)for(var i=r.length;i--;)if( __get$(r,i) ===t){this.splice(e,[i,1],n);break}};var de={class:1,style:1};function fe(e,t){if(this.index=0,this.target=e,this.doc=e.ownerDocument,t)this.children=[t,t.nextSibling],this.current=t,this.next=this.children[1];else{this.children=[];for(var n,r=e.firstChild;r;){switch(n=r.nextSibling,r.nodeType){case 3:case 1:case 8:this.children.push(r)}r=n}this.current=this.children[0],this.next=this.children[1]}}function ve(e,t,n,r,i,a){if(this.aNode=e,this.owner=r,this.scope=n,this.parent=t,this.lifeCycle=V.start,this.children=[],this.parentComponent=5===t.nodeType?t:t.parentComponent,this.tagName=i||e.tagName,g&&this.tagName.indexOf("-")>0&&(this.tagName="div"),e._i++,this._sbindData=He(e.directives.bind,this.scope,this.owner),this.lifeCycle=V.inited,a){var s=a.current;if(!s)throw new Error("[SAN HYDRATE ERROR] Element not found. \nPaths: "+Fe(this).join(" > "));if(1!==s.nodeType)throw new Error("[SAN HYDRATE ERROR] Element type not match, expect 1 but "+s.nodeType+".\nPaths: "+Fe(this).join(" > "));if(s.tagName!==this.tagName.toUpperCase()&&s.tagName!==this.tagName)throw new Error("[SAN HYDRATE ERROR] Element tagName not match, expect "+this.tagName+" but meet "+s.tagName+".\nPaths: "+Fe(this).join(" > "));this.el=s,a.goNext(),Ce(this,this.scope,this.owner),this.lifeCycle=V.created,this._attached(),this.lifeCycle=V.attached}}function me(e,t,n,r,i,a){if(e.elem)return new ve(e,t,n,r,a,i);if(e.Clazz)return new e.Clazz(e,t,n,r,i);var s=r.components&& __get$(r.components,a||e.tagName) ;if(s)return"function"==typeof s?new s({source:e,owner:r,scope:n,parent:t,hydrateWalker:i}):new _e({source:e,owner:r,scope:n,parent:t,hydrateWalker:i},s);if(e.directives.is)switch(a){case"fragment":case"template":return new we(e,t,n,r,i)}else e.elem=!0;return new ve(e,t,n,r,a,i)}function ge(e,t,n){for(var r=e&&e.length;r--;) __get$(e,r) .dispose(t,n)}function ye(e,t,n,r,i){if(e.elem)return new ve(e,t,n,r,i);if(e.Clazz)return new e.Clazz(e,t,n,r);var a=r.components&& __get$(r.components,i||e.tagName) ;if(a)return"function"==typeof a?new a({source:e,owner:r,scope:n,parent:t}):new _e({source:e,owner:r,scope:n,parent:t},a);if(e.directives.is)switch(i){case"fragment":case"template":return new we(e,t,n,r)}else e.elem=!0;return new ve(e,t,n,r,i)}function be(e,t){var n=e.ownerDocument;this.sel=n.createComment(this.id),pe(this.sel,e,t);for(var r=0;r<this.aNode.children.length;r++){var i=ye( __get$(this.aNode.children,r) ,this,this.childScope||this.scope,this.childOwner||this.owner);this.children.push(i),i.attach(e,t)}this.el=n.createComment(this.id),pe(this.el,e,t),this.lifeCycle=V.attached}function we(e,n,r,i,a){if(this.aNode=e,this.owner=i,this.scope=r,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=t++,this.lifeCycle=V.start,this.children=[],a){var s;a.current&&8===a.current.nodeType?(this.sel=a.current,s=1,a.goNext()):(this.sel=a.doc.createComment(this.id),pe(this.sel,a.target,a.current));for(var o=this.aNode.children,c=0,h=o.length;c<h;c++)this.children.push(me( __get$(o,c) ,this,this.scope,this.owner,a));s?(this.el=a.current,a.goNext()):(this.el=a.doc.createComment(this.id),pe(this.el,a.target,a.current)),this.lifeCycle=V.attached}}function xe(e){ge(this.children,e,1),e||h(this.el),this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()}function _e(e,n){this.options=e,this.loader=n,this.id=t++,this.children=[];var r=e.hydrateWalker;if(r){var i=this.loader.placeholder;i&&(this.children[0]=new i(e)),this.el=r.doc.createComment(this.id),pe(this.el,r.target,r.current);var a=this;this.loader.start((function(e){a.onload(e)}))}e.hydrateWalker=null}function Ce(e,t,n){if(!e.aNode.directives.html)for(var r=new fe(e.el),i=e.aNode.children,a=0,s=i.length;a<s;a++)e.children.push(me( __get$(i,a) ,e,t,n,r))}function Ne(e,t){var n= __get$(c,e.tagName) &&t.createElementNS?t.createElementNS("http://www.w3.org/2000/svg",e.tagName):t.createElement(e.tagName);e._el=n;for(var r=0,i=e.props.length;r<i;r++){var a= __get$(e.props,r) ;null!=a.expr.value&&a.handler(n,a.expr.value,a.name,e)}return f((function(){e._el=null,e._i=0})),n}function Se(e){var t,n=e.aNode.directives.transition,r=e.owner;if(5===e.nodeType){var i=e.source&&e.source.directives.transition;i?n=i:r=e}if(n&&r&&"function"==typeof(t=oe(r,n.value.name)))try{t=t.apply(r,$(n.value.args,e.scope,r))}catch(e){q(e,r,"transitionCreate")}return t||e.transition}function Ae(){if(!this.lifeCycle.leaving){if(!this.disposeNoTransition){var e=Se(this);if(e&&e.leave){this._toPhase?this._toPhase("leaving"):this.lifeCycle=V.leaving;var t=this;try{return void e.leave(this.el,(function(){t._leave()}))}catch(e){q(e,5===this.nodeType?this.parentComponent:this.owner,"transitionLeave")}}}this._leave()}}function Ee(e,t){this.leaveDispose=1,this.disposeNoDetach=e,this.disposeNoTransition=t,this.detach()}fe.prototype.goNext=function(){this.current= __get$(this.children,++this.index) ,this.next= __get$(this.children,this.index+1) },ve.prototype.nodeType=4,ve.prototype.attach=function(e,t){if(!this.lifeCycle.attached){var n=this.aNode,r=e.ownerDocument;if(!this.el){var i;if(n._ce&&n._i>2?(i=n._dp,this.el=(n._el||Ne(n,r)).cloneNode(!1)):(i=n.props,this.el= __get$(c,this.tagName) &&r.createElementNS?r.createElementNS("http://www.w3.org/2000/svg",this.tagName):r.createElement(this.tagName)),this._sbindData)for(var a in this._sbindData)this._sbindData.hasOwnProperty(a)&&ae(this.tagName,a)(this.el, __get$(this._sbindData,a) ,a,this);for(var s=0,o=i.length;s<o;s++){var h= __get$(i,s) ,l=z(h.expr,this.scope,this.owner);!l&& __get$(de,h.name) ||h.handler(this.el,l,h.name,this)}this.lifeCycle=V.created}if(pe(this.el,e,t),!this._contentReady){var u=n.directives.html;if(u)this.el.innerHTML=z(u.value,this.scope,this.owner);else for(s=0,o=n.children.length;s<o;s++){var p= __get$(n.children,s) ,d=p.Clazz?new p.Clazz(p,this,this.scope,this.owner):ye(p,this,this.scope,this.owner);this.children.push(d),d.attach(this.el)}this._contentReady=1}this._attached(),this.lifeCycle=V.attached}},ve.prototype.detach=Ae,ve.prototype.dispose=Ee,ve.prototype._leave=function(){if(this.leaveDispose&&!this.lifeCycle.disposed){for(var e=this.children.length;e--;) __get$(this.children,e) .dispose(1,1);if(this._elFns){for(e=this._elFns.length;e--;){var t= __get$(this._elFns,e) ;o(this.el,t[0],t[1],t[2])}this._elFns=null}this._inputTimer&&(clearInterval(this._inputTimer),this._inputTimer=null),this.disposeNoDetach&&this.parent||h(this.el),this.lifeCycle=V.detached,this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()}},ve.prototype._update=function(e){var t=this.aNode._d;if(t&&ue(e,t)){var n=this;this._sbindData=Qe(this.aNode.directives.bind,this._sbindData,this.scope,this.owner,e,(function(e,t){e in n.aNode._pi||ae(n.tagName,e)(n.el,t,e,n)}));for(var r=this.aNode._dp,i=0,a=r.length;i<a;i++)for(var s= __get$(r,i) ,o=s.name,c=0,h=e.length;c<h;c++){var l= __get$(e,c) ;if(!se(l,this,o)&&(J(l.expr,s.expr,this.scope)||s.hintExpr&&J(l.expr,s.hintExpr,this.scope))){s.handler(this.el,z(s.expr,this.scope,this.owner),o,this);break}}var u=this.aNode.directives.html;if(u){for(var p=e.length;p--;)if(J( __get$(e,p) .expr,u.value,this.scope)){this.el.innerHTML=z(u.value,this.scope,this.owner);break}}else for(i=0,a=this.children.length;i<a;i++) __get$(this.children,i) ._update(e)}},ve.prototype._attached=Ue,we.prototype.nodeType=7,we.prototype.attach=be,we.prototype.dispose=function(e,t){ge(this.children,e,t),e||(h(this.el),h(this.sel)),this.sel=null,this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()},we.prototype._update=function(e){for(var t=0;t<this.children.length;t++) __get$(this.children,t) ._update(e)},we.prototype._getElAsRootNode=function(){return this.sel},_e.prototype.dispose=xe,_e.prototype.attach=function(e,t){var n=this.loader.placeholder;if(n){var r=new n(this.options);this.children[0]=r,r.attach(e,t)}this.el=e.ownerDocument.createComment(this.id),pe(this.el,e,t);var i=this;this.loader.start((function(e){i.onload(e)}))},_e.prototype._getElAsRootNode=function(){var e=this.children[0];return e&&e.el},_e.prototype.onload=function(e){if(this.el&&e){var t=new e(this.options);t.attach(this.el.parentNode,this.el);var n=this.options.parent;if(n._rootNode===this)n._rootNode=t,t._getElAsRootNode&&(n.el=t._getElAsRootNode());else{var r=n.children;null!=this.parentIndex&& __get$(r,this.parentIndex) ===this||a(r,(function(e,t){e instanceof _e&&(e.parentIndex=t)})), __set$(r,this.parentIndex,t) }}this.dispose()},_e.prototype._update=function(e){this.children[0]&&this.children[0]._update(e)};var ke="undefined"!=typeof window;function De(e,t){var n=e.ownerDocument.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Te(){this.composing&&(this.composing=0,De(this,"input"))}function Ie(){this.composing=1}function Pe(e,t,n){return function(){Me(e,t,n)}}function Oe(e,t,n){return function(){e.__bkph?e.__bkph=!1:this.composing||Me(e,t,n)}}function Re(e,t,n){return function(){e._inputTimer=setInterval((function(){Me(e,t,n)}),16)}}function Le(e){return function(){clearInterval(e._inputTimer),e._inputTimer=null}}function Me(e,t,n){if(e.lifeCycle.created){var r=e.el;if("input"===e.tagName&&"checked"===t.name){var i=Y(e.aNode,"value"),a=Y(e.aNode,"type");if(i&&a)switch(r.type){case"checkbox":return void  __call$(n,r.checked?"push":"remove",[t.expr,z(i.expr,n)]) ;case"radio":return void(r.checked&&n.set(t.expr,z(i.expr,n),{target:{node:e,prop:t.name}}))}}n.set(t.expr, __get$(r,t.name) ,{target:{node:e,prop:t.name}})}}function Be(e,t,n,r){r=!!r,e._elFns=e._elFns||[],e._elFns.push([t,n,r]),s(e.el,t,n,r)}function je(e){s(e,"selectionchange",(function(){var t=e.activeElement;"TEXTAREA"!==t.tagName&&"INPUT"!==t.tagName||De(t,"input")}))}function Ue(){if(!this._rootNode){for(var e=5===this.nodeType,t=e?this.data:this.scope,r=this.aNode._xp,i=0,a=r.length;i<a;i++){var s= __get$(r,i) ;switch(s.name){case"value":switch(this.tagName){case"input":case"textarea":if(9===m){var o=this.el.ownerDocument;o.__sanInputEventCompatible||(o.__sanInputEventCompatible=!0,je(o))}ke&&(Be(this,"change",Te),Be(this,"compositionstart",Ie),Be(this,"compositionend",Te)),"oninput"in this.el?Be(this,"input",Oe(this,s,t)):(Be(this,"focusin",Re(this,s,t)),Be(this,"focusout",Le(this)));break;case"select":Be(this,"change",Pe(this,s,t))}break;case"checked":if("input"===this.tagName)switch(this.el.type){case"checkbox":case"radio":Be(this,"click",Pe(this,s,t))}}}var c=e?this:this.owner;for(i=0,a=this.aNode.events.length;i<a;i++){Be(this,(h= __get$(this.aNode.events,i) ).name,le(h,c,t,h.modifier),h.modifier.capture)}if(e&&this.nativeEvents)for(i=0,a=this.nativeEvents.length;i<a;i++){var h;Be(this,(h= __get$(this.nativeEvents,i) ).name,le(h,this.owner,this.scope),h.modifier.capture)}var l=Se(this);if(l&&l.enter)try{l.enter(this.el,n)}catch(t){q(t,e?c.parentComponent:c,"transitionEnter")}}}function He(e,t,n){if(e&&t)return z(e.value,t,n)}function qe(e,t){var n,r=[];for(n in e)e.hasOwnProperty(n)&&r.push(n);for(n in t)t.hasOwnProperty(n)&&! __get$(e,n) &&r.push(n);return r}function Qe(e,t,n,r,i,a){if(e){for(var s=i.length;s--;)if(J( __get$(i,s) .expr,e.value,n)){for(var o=z(e.value,n,r),c=qe(o,t),h=0,l=c.length;h<l;h++){var u= __get$(c,h) ,p= __get$(o,u) ;p!== __get$(t,u) &&a(u,p)}return o}return t}}function Fe(e){for(var t=[],n=e;n;){switch(n.nodeType){case 4:t.unshift(n.tagName);break;case 2:t.unshift("if");break;case 3:t.unshift("for["+n.aNode.directives.for.item+"]");break;case 6:t.unshift("slot["+(n.name||"default")+"]");break;case 7:t.unshift("fragment");break;case 5:t.unshift("component["+(n.source?n.source.tagName:"root")+"]");break;case 1:t.unshift("text")}n=n.parent}return t}function ze(e){for(var t,n=[],r=[],i=[],a=[],s=-1,o=0,c=e.length;o<c;o++){for(var h= __get$(n,s) ,l= __get$(r,s) ,u= __get$(i,s) ,p= __get$(a,s) ;h&&(-3===u&&(u= __set$(i,s,__get$(e,o++)||-1) ),-1===u);)h= __get$(n,--s) ,l= __get$(r,s) ,u= __get$(i,s) ,p= __get$(a,s) ;var d,f= __get$(e,o) ,v=-1,m=!1;switch(f){case 1:d={directives:{},props:[],events:[],children:[]};var g= __get$(e,++o) ;g&&(d.tagName=g),v= __get$(e,++o) ||-1;break;case 3:d={type:1,value: __get$(e,++o) };break;case 4:d={type:2,value: __get$(e,++o) };break;case 5:d={type:3,value:!! __get$(e,++o) };break;case 19:d={type:13};break;case 6:d={type:4,paths:m=[]},v= __get$(e,++o) ||-1;break;case 7:d={type:5,filters:m=[]}, __get$(e,++o) &&(d.original=1),v=-2;break;case 8:d={type:6,args:m=[]},v=-2;break;case 9:d={type:7,segs:m=[]}, __get$(e,++o) &&(d.original=1),v= __get$(e,++o) ||-1;break;case 10:m=[],d={type:8,operator: __get$(e,++o) ,segs:m},v=2;break;case 11:d={type:9,operator: __get$(e,++o) },v=-2;break;case 12:d={type:10,segs:m=[]},v=3;break;case 13:d={type:11,items:m=[]},v= __get$(e,++o) ||-1;break;case 14:case 38:case 39:case 41:case 42:case 43:case 44:case 45:d={},v=-2;break;case 15:d={spread:!0},v=-2;break;case 16:d={type:12,items:m=[]},v= __get$(e,++o) ||-1;break;case 17:case 18:d=18===f?{spread:!0}:{},v=-2;break;case 2:case 33:case 34:d={name: __get$(e,++o) },33===f&&(d.noValue=1),34===f&&(d.x=1),v=-2;break;case 35:d={name: __get$(e,++o) ,modifier:{}},v=-2;break;case 36:case 46:d={name: __get$(e,++o) },v=-2;break;case 37:d={item: __get$(e,++o) };var y= __get$(e,++o) ;y&&(d.index=y);var b= __get$(e,++o) ;b&&(d.trackByRaw=b,d.trackBy=R(b)),v=-2;break;case 40:d={value:{}};break;default:f||(d={},v=-2)}if(t||(t=d),h)switch(l){case 1:if(p)h.elses=h.elses||[],h.elses.push(d),--i[s]||s--;else{switch(f){case 2:case 33:case 34:h.props.push(d);break;case 35:h.events.push(d);break;case 36:h.vars=h.vars||[],h.vars.push(d);break;case 46:h.attrs=h.attrs||[],h.attrs.push(d);break;case 37:h.directives.for=d;break;case 38:h.directives.if=d;break;case 39:h.directives.elif=d;break;case 40:h.directives.else=d;break;case 41:h.directives.ref=d;break;case 42:h.directives.bind=d;break;case 43:h.directives.html=d;break;case 44:h.directives.transition=d;break;case 45:h.directives.is=d;break;default:h.children.push(d)}--i[s]||(h.directives.if?( __set$(a,s,"elses") , __set$(i,s,-3) ):s--)}break;case 7:-2===u?( __set$(i,s,-3) ,h.expr=d):(p.push(d),--i[s]||s--);break;case 8:-2===u?( __set$(i,s,-3) ,h.name=d):(p.push(d),--i[s]||s--);break;case 6:case 9:case 10:case 12:case 13:case 16:p.push(d),--i[s]||s--;break;case 11:case 2:case 33:case 34:case 36:case 46:case 15:case 17:case 18:h.expr=d,s--;break;case 14:-2===u?( __set$(i,s,-4) ,h.name=d):(h.expr=d,s--);break;case 35:-2===u?( __set$(i,s,-3) ,h.expr=d):( __set$(h.modifier,f,!0) ,--i[s]||s--);break;case 37:case 38:case 39:case 41:case 42:case 43:case 44:case 45:h.value=d,s--;break;default:h.textExpr=d,s--}-1!==v&&( __set$(n,++s,d) , __set$(r,s,f) , __set$(i,s,v) , __set$(a,s,m) )}return t}var $e="undefined"!=typeof Proxy;function Ge(e){e=e||{},this.lifeCycle=V.start,this.id=t++,"function"==typeof this.construct&&this.construct(e),this.children=[],this.listeners={},this.slotChildren=[],this.implicitChildren=[];var n=this.constructor;this.inheritAttrs=!(!1===this.inheritAttrs||!1===n.inheritAttrs),this.filters=this.filters||n.filters||{},this.computed=this.computed||n.computed||{},this.messages=this.messages||n.messages||{},this.ssr=this.ssr||n.ssr,e.transition&&(this.transition=e.transition),this.owner=e.owner,this.scope=e.scope,this.el=e.el;var i=e.parent;i?(this.parent=i,this.parentComponent=5===i.nodeType?i:i&&i.parentComponent):this.owner&&(this.parentComponent=this.owner,this.scope=this.owner.data),this.sourceSlotNameProps=[],this.sourceSlots={named:{}};var a,s,o,c=n.prototype;if(c.hasOwnProperty("_cmptReady")||Ye(n),!c.hasOwnProperty("aNode")){var l=n.aPack||c.hasOwnProperty("aPack")&&c.aPack;l?(c.aNode=ze(l),n.aPack=c.aPack=null):c.aNode=Ke(n)}if(ot(c.aNode,this),this.tagName=c.aNode.tagName,this.source="string"==typeof e.source?H(e.source).children[0]:e.source,ot(this.source),c.aNode._i++,this.el){var u=this.el.firstChild;if(u&&3===u.nodeType&&(u=u.nextSibling),u&&8===u.nodeType){var p=u.data.match(/^\s*s-data:([\s\S]+)?$/);if(p){var d=p[1];e.data= new Function("return "+__call$(__call$(d,"replace",[/^[\s\n]*/,""]),"replace",[/"(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.\d+Z"/g,function(e,t,n,r,i,a,s){return"new Date("+ +t+","+ +n+","+ +r+","+ +i+","+ +a+","+ +s+")";}])) (),u.previousSibling&&h(u.previousSibling),h(u)}}}if(this.source){this._initSourceSlots(1);for(var f=0,v=this.source.events.length;f<v;f++){var m= __get$(this.source.events,f) ;m.modifier.native?(this.nativeEvents=this.nativeEvents||[],this.nativeEvents.push(m)):this.on(m.name,le(m,e.owner,this.scope,1),m)}this.tagName=this.tagName||this.source.tagName,this.binds=this.source._b,this.attrs=this.source.attrs,this._srcSbindData=He(this.source.directives.bind,this.scope,this.owner)}this.tagName=this.tagName||"div",g&&this.tagName.indexOf("-")>0&&(this.tagName="div"),this._toPhase("compiled");try{a="function"==typeof this.initData&&this.initData()}catch(e){q(e,this,"initData")}if(a=r(a||{},e.data||this._srcSbindData),this.binds&&this.scope){for(f=0,v=this.binds.length;f<v;f++){var y= __get$(this.binds,f) ;void 0!==(b=z(y.expr,this.scope,this.owner))&&( __set$(a,y.name,b) )}if(this.attrs){a.$attrs={};for(f=0,v=this.attrs.length;f<v;f++){var b,w= __get$(this.attrs,f) ;void 0!==(b=z(w.expr,this.scope,this.owner))&&( __set$(a.$attrs,w.name,b) )}}}for(var x in this.data=new ce(a),$e&&(this.d=(s=this.data,o={items:{}},function e(t,n,r,i){var a,s=o;if(n){for(var c=0;c<r.length;c++)s= __get$(s.items,__get$(r,c).value) ;if( __get$(s.items,i) ||( __set$(s.items,i,{items:{}}) ),null!=(s= __get$(s.items,i) ).proxy)return s.proxy;a=r.concat({type:1,value:i})}else n=t.raw,a=[],t.listen((function(e){ __set$(o.items,e.expr.paths[0].value,null) }));var h={set:function(e,n,r){var i={type:4,paths:a.concat({type:1,value:n})};t.set(i,r)},get:n instanceof Array?function(n,r){switch(r){case"push":return function(){var e=n.length,r=arguments.length;return t.splice({type:4,paths:a},1===r?[e,0,arguments[0]]:[e,0].concat(Array.prototype.slice.call(arguments))),e+r};case"pop":return function(){var e=n.length;if(e)return t.splice({type:4,paths:a},[e-1,1])[0]};case"shift":return function(){return t.splice({type:4,paths:a},[0,1])[0]};case"unshift":return function(){var e=n.length,r=arguments.length;return t.splice({type:4,paths:a},1===r?[0,0,arguments[0]]:[0,0].concat(Array.prototype.slice.call(arguments))),e+r};case"splice":return function(){return t.splice({type:4,paths:a},Array.prototype.slice.call(arguments))};case"length":return n.length}var i= __get$(n,r) ;return i&&"object"==typeof i?e(t,i,a,r):i}:function(n,r){var i= __get$(n,r) ;return i&&"object"==typeof i?e(t,i,a,r):i}};return s.proxy=new Proxy(n,h),s.proxy}(s))),this._computedDeps={},this._computedDepsIndex={},this.computed)this.computed.hasOwnProperty(x)&&! __get$(this._computedDeps,x) &&this._calcComputed(x);this._initDataChanger(),this._sbindData=He(this.aNode.directives.bind,this.data,this),this._toPhase("inited");var _=e.hydrateWalker,C=this.aNode;if(_)if("client-render"===this.ssr)this.attach(_.target,_.current);else{if(this._toPhase("created"),C.Clazz|| __get$(this.components,C.tagName) )!C.Clazz&&this.attrs&&this.inheritAttrs&&(C=lt(C,this.source)),this._rootNode=me(C,this,this.data,this,_),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode());else{var N=_.current;N&&1===N.nodeType&&(this.el=N,_.goNext()),Ce(this,this.data,this)}this._attached(),this._toPhase("attached")}else this.el&&(this._toPhase("created"),C.Clazz|| __get$(this.components,C.tagName) ?(!C.Clazz&&this.attrs&&this.inheritAttrs&&(C=lt(C,this.source)),_=new fe(this.el.parentNode,this.el),this._rootNode=me(C,this,this.data,this,_),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode())):Ce(this,this.data,this),this._attached(),this._toPhase("attached"))}Ge.prototype._initSourceSlots=function(e){if(this.sourceSlots.named={},this.source&&this.scope)for(var t=this.source.children,n=0,r=t.length;n<r;n++){var i,a= __get$(t,n) ,s=!a.textExpr&&Y(a,"slot");if(s){e&&this.sourceSlotNameProps.push(s);var o=z(s.expr,this.scope,this.owner);(i= __get$(this.sourceSlots.named,o) )||(i= __set$(this.sourceSlots.named,o,[]) ),i.push(a)}else e&&((i=this.sourceSlots.noname)||(i=this.sourceSlots.noname=[]),i.push(a))}},Ge.prototype.nodeType=5,Ge.prototype.nextTick=f,Ge.prototype._ctx=(new Date).getTime().toString(16),Ge.prototype._toPhase=function(e){if(! __get$(this.lifeCycle,e) ){if(this.lifeCycle= __get$(V,e) ||this.lifeCycle,"function"==typeof  __get$(this,e) )try{ __call$(this,e,[]) }catch(t){q(t,this,"hook:"+e)}this._afterLife=this.lifeCycle}},Ge.prototype.on=function(e,t,n){"function"==typeof t&&( __get$(this.listeners,e) ||( __set$(this.listeners,e,[]) ), __get$(this.listeners,e) .push({fn:t,declaration:n}))},Ge.prototype.un=function(e,t){for(var n= __get$(this.listeners,e) ,r=n&&n.length;r--;)t&&t!== __get$(n,r) .fn||n.splice(r,1)},Ge.prototype.fire=function(e,t){var n=this;a( __get$(this.listeners,e) ,(function(r){try{r.fn.call(n,t)}catch(t){q(t,n,"event:"+e)}}))};var Je={get:function(e,t){var n= __get$(e,t) ;return n&&"object"==typeof n?new Proxy(n,Je):n},set:n};function We(e,t){if("function"==typeof e)return e;function n(e){t.call(this,e)}return t=t||Ge,n.prototype=e,i(n,t),n}function Ve(e,t,n){this.load=e,this.placeholder=t,this.fallback=n,this.listeners=[]}function Ye(e){var t=e.prototype;t.components=e.components||t.components||{};var n=t.components;for(var r in n){var i= __get$(n,r) ;"object"!=typeof i||i instanceof Ve?"self"===i&&( __set$(n,r,e) ): __set$(n,r,We(i)) }t._cmptReady=1}function Ke(e){var t=e.prototype,n=H(e.template||t.template,{trimWhitespace:t.trimWhitespace||e.trimWhitespace,delimiters:t.delimiters||e.delimiters}).children[0];if(n&&n.textExpr&&(n=null),"template"===(n=n||{directives:{},props:[],events:[],children:[]}).tagName&&delete n.tagName,!1!==t.autoFillStyleAndId&&!1!==e.autoFillStyleAndId&&!1!==t.inheritAttrs&&!1!==e.inheritAttrs&&(Xe(n.props),n.elses))for(var r=0,i=n.elses.length;r<i;r++)Xe( __get$(n.elses,r) .props);return n}function Xe(e){for(var t={},n=e.length;n--;){var r= __get$(e,n) ;switch(r.name){case"class":case"style": __set$(t,r.name,!0) ,r.expr={type:5,expr:{type:4,paths:[{type:1,value:r.name}]},filters:[{type:6,args:[r.expr],name:{type:4,paths:[{type:1,value:"_x"+r.name}]}}]};break;case"id": __set$(t,r.name,!0) }}t.class||e.push({name:"class",expr:{type:5,expr:{type:4,paths:[{type:1,value:"class"}]},filters:[{type:6,args:[],name:{type:4,paths:[{type:1,value:"_class"}]}}]}}),t.style||e.push({name:"style",expr:{type:5,expr:{type:4,paths:[{type:1,value:"style"}]},filters:[{type:6,args:[],name:{type:4,paths:[{type:1,value:"_style"}]}}]}}),t.id||e.push({name:"id",expr:{type:4,paths:[{type:1,value:"id"}]}})}Ge.prototype._calcComputed=function(e){var t= __get$(this._computedDeps,e) ,r=!1;t||(r=!0,t= __set$(this._computedDeps,e,{}) );var i=this,a={data:{get:function(n){var r=R(n),a=r.paths[0].value;return  __get$(t,a) ||( __set$(t,a,1) , __get$(i._computedDepsIndex,a) ||( __set$(i._computedDepsIndex,a,[]) ), __get$(i._computedDepsIndex,a) .push(e), __get$(i.computed,a) &&! __get$(i._computedDeps,a) &&i._calcComputed(a)),i.data.get(r)}}};$e&&(a.d= new Proxy(i.data.raw,{set:n,get:function(n,r){__get$(t,r)||(__set$(t,r,1),__get$(i._computedDepsIndex,r)||__set$(i._computedDepsIndex,r,[]),__get$(i._computedDepsIndex,r).push(e),(__get$(i.computed,r)&&!__get$(i._computedDeps,r))&&i._calcComputed(r));var a=__get$(n,r);return a&&"object"==typeof a?new Proxy(a,Je):a;}}) );try{this.data.set({type:4,paths:[{type:1,value:e}]}, __get$(this.computed,e) .call(a),{silent:r})}catch(t){q(t,this,"computed:"+e)}},Ge.prototype.dispatch=function(e,t){for(var n=this.parentComponent;n;){var r= __get$(n.messages,e) ||n.messages["*"];if("function"==typeof r){try{r.call(n,{target:this,value:t,name:e})}catch(t){q(t,n,"message:"+(e||"*"))}return}n=n.parentComponent}},Ge.prototype.slot=function(e){var t=[],n=this;return function r(i){a(i,(function(i){6===i.nodeType&&i.owner===n?(i.isNamed&&i.name===e||!i.isNamed&&!e)&&t.push(i):r(i.children)}))}(this.children),t},Ge.prototype.ref=function(e){var t,n=this;function r(e){if(e)for(var n=0,r=e.length;n<r;n++)if(i( __get$(e,n) ),t)return}function i(i){if(1!==i.nodeType){if(i.owner===n){var a;switch(i.nodeType){case 4:(a=i.aNode.directives.ref)&&z(a.value,i.scope,n)===e&&(t=i.el);break;case 5:(a=i.source.directives.ref)&&z(a.value,i.scope,n)===e&&(t=i)}if(t)return;r(i.slotChildren)}t||r(i.children)}}return this._rootNode?i(this._rootNode):r(this.children),t},Ge.prototype._update=function(e){if(!this.lifeCycle.disposed){var t=this,n=!1;if(this._notifyNeedReload=function(){n=!0},e)if(this.source&&(this._srcSbindData=Qe(this.source.directives.bind,this._srcSbindData,this.scope,this.owner,e,(function(e,n){e in t.source._pi||t.data.set(e,n,{target:{node:t.owner}})}))),a(e,(function(e){var r=e.expr;a(t.binds,(function(n){var i,a=n.name,s=n.expr;!se(e,t,a)&&(i=J(r,s,t.scope))&&(i>2&&(a={type:4,paths:[{type:1,value:a}].concat(r.paths.slice(s.paths.length))},s=r),i>=2&&2===e.type?t.data.splice(a,[e.index,e.deleteCount].concat(e.insertions),{target:{node:t.owner}}):t.data.set(a,z(s,t.scope,t.owner),{target:{node:t.owner}}))})),a(t.attrs,(function(e){J(r,e.expr,t.scope)&&t.data.set(e._data,z(e.expr,t.scope,t.owner))})),a(t.sourceSlotNameProps,(function(e){return!(n=n||J(r,e.expr,t.scope))}))})),n)this._initSourceSlots(),this._repaintChildren();else for(var r=this.slotChildren.length;r--;){var i= __get$(this.slotChildren,r) ;i.lifeCycle.disposed?this.slotChildren.splice(r,1):i.isInserted&&i._update(e,1)}var s=this._dataChanges;if(s){this._dataChanges=null,this._sbindData=Qe(this.aNode.directives.bind,this._sbindData,this.data,this,s,(function(e,n){t._rootNode||e in t.aNode._pi||ae(t.tagName,e)(t.el,n,e,t)}));var o=this.aNode.directives.html;if(this._rootNode)this._rootNode._update(s),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode());else if(o){for(var c=s.length;c--;)if(J( __get$(s,c) .expr,o.value,this.data)){this.el.innerHTML=z(o.value,this.data,this);break}}else{for(var h=this.aNode._dp,l=0;l<h.length;l++)for(var u= __get$(h,l) ,p=0;p<s.length;p++){var d= __get$(s,p) ;if(J(d.expr,u.expr,this.data)||u.hintExpr&&J(d.expr,u.hintExpr,this.data)){u.handler(this.el,z(u.expr,this.data,this),u.name,this);break}}if(this.attrs&&this.inheritAttrs){var f=this.data.get("$attrs");for(l=0;l<this.attrs.length;l++){var v= __get$(this.attrs,l) ;if(null== __get$(this.aNode._pi,v.name) )for(p=0;p<s.length;p++){var m= __get$(s,p) .expr.paths;if("$attrs"===m[0].value&&m[1].value===v.name){ae(this.tagName,v.name)(this.el, __get$(f,v.name) ,v.name,this);break}}}}for(l=0;l<this.children.length;l++) __get$(this.children,l) ._update(s)}n&&(this._initSourceSlots(),this._repaintChildren());for(l=0;l<this.implicitChildren.length;l++) __get$(this.implicitChildren,l) ._update(s);"function"==typeof this.updated&&this.updated(),this.owner&&this._updateBindxOwner(s)&&this.owner._update()}this._notifyNeedReload=null}},Ge.prototype._updateBindxOwner=function(e){var t,n=this;return a(e,(function(e){a(n.binds,(function(r){var i=e.expr;if(r.x&&!se(e,n.owner)&&J(i,R(r.name),n.data)){var a=r.expr;i.paths.length>1&&(a={type:4,paths:r.expr.paths.concat(i.paths.slice(1))}),t=1,n.scope.set(a,z(i,n.data,n),{target:{node:n,prop:r.name}})}}))})),t},Ge.prototype._repaintChildren=function(){if(this._rootNode){var e=this._rootNode.el.parentNode,t=this._rootNode.el.nextSibling;this._rootNode.dispose(0,1),this.slotChildren=[];var n=this.aNode;!n.Clazz&&this.attrs&&this.inheritAttrs&&(n=lt(n,this.source)),this._rootNode=ye(n,this,this.data,this),this._rootNode.attach(e,t),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode())}else{ge(this.children,0,1),this.children=[],this.slotChildren=[];for(var r=0,i=this.aNode.children.length;r<i;r++){var a=ye( __get$(this.aNode.children,r) ,this,this.data,this);this.children.push(a),a.attach(this.el)}}},Ge.prototype._initDataChanger=function(){var e=this;this._dataChanger=function(t){e._afterLife.created?(e._dataChanges||(f(e._update,e),e._dataChanges=[]),e._dataChanges.push(t)):e.lifeCycle.inited&&e.owner&&e._updateBindxOwner([t]);var n=t.expr.paths[0].value,r= __get$(e._computedDepsIndex,n) ;if(r)for(var i=0;i<r.length;i++)e._calcComputed( __get$(r,i) )},this.data.listen(this._dataChanger)},Ge.prototype.watch=function(e,t){var n=R(e),r=z(n,this.data,this),i=this;this.data.listen((function(a){if(J(a.expr,n,i.data)){var s=z(n,i.data,i);if(s!==r){var o=r;r=s;try{t.call(i,s,{oldValue:o,newValue:s,change:a})}catch(t){q(t,i,"watch:"+e)}}}}))},Ge.prototype._getElAsRootNode=function(){return this.el},Ge.prototype.attach=function(e,t){if(!this.lifeCycle.attached){var n=this.aNode;if(n.Clazz|| __get$(this.components,n.tagName) )!n.Clazz&&this.attrs&&this.inheritAttrs&&(n=lt(n,this.source)),this._rootNode=this._rootNode||ye(n,this,this.data,this),this._rootNode.attach(e,t),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode()),this._toPhase("created");else{if(!this.el){var r,i=e.ownerDocument;if(n._ce&&n._i>2?(r=n._dp,this.el=(n._el||Ne(n,i)).cloneNode(!1)):(r=n.props,this.el= __get$(c,this.tagName) &&i.createElementNS?i.createElementNS("http://www.w3.org/2000/svg",this.tagName):i.createElement(this.tagName)),this._sbindData)for(var a in this._sbindData)this._sbindData.hasOwnProperty(a)&&ae(this.tagName,a)(this.el, __get$(this._sbindData,a) ,a,this);for(var s=0,o=r.length;s<o;s++){var h= __get$(r,s) ,l=z(h.expr,this.data,this);!l&& __get$(de,h.name) ||h.handler(this.el,l,h.name,this)}if(this.attrs&&this.inheritAttrs){var u=this.data.get("$attrs");for(s=0;s<this.attrs.length;s++){var p= __get$(this.attrs,s) ;null== __get$(this.aNode._pi,p.name) &&ae(this.tagName,p.name)(this.el, __get$(u,p.name) ,p.name,this)}}this._toPhase("created")}if(pe(this.el,e,t),!this._contentReady){var d=n.directives.html;if(d)this.el.innerHTML=z(d.value,this.data,this);else for(s=0,o=n.children.length;s<o;s++){var f= __get$(n.children,s) ,v=f.Clazz?new f.Clazz(f,this,this.data,this):ye(f,this,this.data,this);this.children.push(v),v.attach(this.el)}this._contentReady=1}this._attached()}this._toPhase("attached"),this.owner&&!this.parent&&this.owner.implicitChildren.push(this)}},Ge.prototype.detach=Ae,Ge.prototype.dispose=Ee,Ge.prototype._attached=Ue,Ge.prototype._leave=function(){if(this.leaveDispose){if(!this.lifeCycle.disposed){this.data.unlisten(),this.dataChanger=null,this._dataChanges=null;for(var e=this.implicitChildren.length;e--;) __get$(this.implicitChildren,e) .dispose(0,1);if(this.implicitChildren=null,this.source=null,this.sourceSlots=null,this.sourceSlotNameProps=null,this.slotChildren=null,this._rootNode)this._rootNode.dispose(this.disposeNoDetach&&this.parent);else{for(e=this.children.length;e--;) __get$(this.children,e) .dispose(1,1);if(this._elFns){for(e=this._elFns.length;e--;){var t= __get$(this._elFns,e) ;o(this.el,t[0],t[1],t[2])}this._elFns=null}this._inputTimer&&(clearInterval(this._inputTimer),this._inputTimer=null),this.disposeNoDetach&&this.parent||h(this.el)}this._toPhase("detached"),this._rootNode=null,this.el=null,this.owner=null,this.scope=null,this.children=null,this._toPhase("disposed"),this._ondisposed&&this._ondisposed()}}else this.lifeCycle.attached&&(this._rootNode?this._rootNode.detach?this._rootNode.detach():(this._rootNode.dispose(),this._rootNode=null):h(this.el),this._toPhase("detached"))},Ve.prototype.start=function(e){var t=this;switch(this.state){case 2:f((function(){e(t.Component)}));break;case 1:this.listeners.push(e);break;default:this.listeners.push(e),this.state=1;var n=this.load(),r=function(e){t.done(e)};n&&"function"==typeof n.then&&n.then(r,r)}},Ve.prototype.done=function(e){this.state=2,e=e||this.fallback,this.Component=e,a(this.listeners,(function(t){t(e)}))};var Ze={div:1,span:1,img:1,ul:1,ol:1,li:1,dl:1,dt:1,dd:1,a:1,b:1,u:1,hr:1,form:1,input:1,textarea:1,button:1,label:1,select:1,option:1,table:1,tbody:1,th:1,tr:1,td:1,thead:1,main:1,aside:1,header:1,footer:1,nav:1};function et(e,n,r,i,a){if(this.aNode=e,this.owner=i,this.scope=r,this.parent=n,a){var s=a.current;if(s)switch(s.nodeType){case 8:if("s-text"===s.data)for(this.id=this.id||t++,this.sel=s,s.data=this.id,a.goNext();;){if(!(s=a.current))throw new Error("[SAN HYDRATE ERROR] Text end flag not found. \nPaths: "+Fe(this).join(" > "));if(c="text",8===(o=s).nodeType&&o.data==="/s-"+c){this.el=s,a.goNext(),s.data=this.id;break}a.goNext()}break;case 3:a.goNext(),this.aNode.textExpr.original||(this.el=s)}else this.el=a.doc.createTextNode(""),pe(this.el,a.target,a.current)}var o,c}et.prototype.nodeType=1,et.prototype.attach=function(e,n){this.content=z(this.aNode.textExpr,this.scope,this.owner),null==this.content&&(this.content="");var r=e.ownerDocument;if(this.aNode.textExpr.original){this.id=this.id||t++,this.sel=r.createComment(this.id),pe(this.sel,e,n),this.el=r.createComment(this.id),pe(this.el,e,n);var i=r.createElement("script");e.insertBefore(i,this.el),i.insertAdjacentHTML("beforebegin",this.content),e.removeChild(i)}else this.el=r.createTextNode(this.content),pe(this.el,e,n)},et.prototype.dispose=function(e){e||(h(this.el),h(this.sel)),this.el=null,this.sel=null};var tt=m&&m<9?"data":"textContent";function nt(e,n,i,s,o){this.owner=s,this.scope=i,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=t++,this.lifeCycle=V.start,this.children=[],this.nameBind=Y(e,"name"),this.nameBind&&(this.isNamed=!0,this.name=z(this.nameBind.expr,this.scope,this.owner));var c,h,l=s.sourceSlots;if(l&&(c=this.isNamed? __get$(l.named,this.name) :l.noname),c&&(this.isInserted=!0),this.aNode={directives:e.directives,props:[],events:[],children:c||e.children.slice(0),vars:e.vars},this._sbindData=He(e.directives.bind,this.scope,this.owner),this._sbindData&&(h=r({},this._sbindData)),e.vars&&(h=h||{},a(e.vars,(function(e){ __set$(h,e.name,z(e.expr,i,s)) }))),this.isInserted&&(this.childOwner=s.owner,this.childScope=s.scope),h&&(this.isScoped=!0,this.childScope=new ce(h,this.childScope||this.scope)),s.slotChildren.push(this),o){var u,p=o.current;p&&8===p.nodeType&&"s-slot"===p.data?(this.sel=o.current,u=1,o.goNext()):(this.sel=o.doc.createComment(this.id),o.current?o.target.insertBefore(this.sel,o.current):o.target.appendChild(this.sel));for(var d=this.aNode.children,f=0,v=d.length;f<v;f++)this.children.push(me( __get$(d,f) ,this,this.childScope||this.scope,this.childOwner||this.owner,o));u?(this.el=o.current,o.goNext()):(this.el=o.doc.createComment(this.id),o.current?o.target.insertBefore(this.el,o.current):o.target.appendChild(this.el)),this.lifeCycle=V.attached}}function rt(e,t,n){this.parent=e.scope,this.raw={},this.listeners=[],this.directive=e.aNode.directives.for,this.indexName=this.directive.index||"$index", __set$(this.raw,this.directive.item,t) , __set$(this.raw,this.indexName,n) }function it(e,n,r,i,a){if(this.aNode=e,this.owner=i,this.scope=r,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=t++,this.children=[],this.param=e.directives.for,this.itemPaths=[{type:1,value:this.param.item}],this.itemExpr={type:4,paths:this.itemPaths,raw:this.param.item},this.param.index&&(this.indexExpr={type:4,paths:[{type:1,value:""+this.param.index}]}),a){if(this.listData=z(this.param.value,this.scope,this.owner),this.listData instanceof Array)for(var s=0;s<this.listData.length;s++)this.children.push(me(this.aNode.forRinsed,this, new rt(this,__get$(this.listData,s),s) ,this.owner,a));else if(this.listData&&"object"==typeof this.listData)for(var s in this.listData)this.listData.hasOwnProperty(s)&&null!= __get$(this.listData,s) &&this.children.push(me(this.aNode.forRinsed,this, new rt(this,__get$(this.listData,s),s) ,this.owner,a));this.el=a.doc.createComment(this.id),pe(this.el,a.target,a.current)}}function at(e,n,r,i,a){if(this.aNode=e,this.owner=i,this.scope=r,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=t++,this.children=[],a){if(z(this.aNode.directives.if.value,this.scope,this.owner))this.elseIndex=-1,this.children[0]=me(this.aNode.ifRinsed,this,this.scope,this.owner,a);else{var s=e.elses;if(s)for(var o=0,c=s.length;o<c;o++){var h= __get$(s,o) ,l=h.directives.elif;if(!l||l&&z(l.value,this.scope,this.owner)){this.elseIndex=o,this.children[0]=me(h,this,this.scope,this.owner,a);break}}}this.el=a.doc.createComment(this.id),pe(this.el,a.target,a.current)}}function st(e,n,r,i,a){this.aNode=e,this.owner=i,this.scope=r,this.parent=n,this.parentComponent=5===n.nodeType?n:n.parentComponent,this.id=t++,this.children=[],this.tagName=this.aNode.tagName,a&&(this.cmpt=z(this.aNode.directives.is.value,this.scope)||this.tagName,this.children[0]=me(this.aNode.isRinsed,this,this.scope,this.owner,a,this.cmpt))}function ot(e,t){var n;function r(e,t){var r=ct(e),i=r.length;if(i)for(var a=0,s=n.length;a<s;a++)if(!t||a!==s-1){var o= __get$(n,a) ._d;o||(o= __get$(n,a) ._d={});for(var c=0;c<i;c++) __set$(o,__get$(r,c),1) }}e&&!e._ht&&(n=[],function e(i){if(!i._ht){if(n.push(i),i.textExpr)i._ht=!0,i.Clazz=et,r(i.textExpr);else{i._ht=!0,i._i=0,i._dp=[],i._xp=[],i._pi={},i._b=[],i._ab=[],i._ap=[],i._ce=!i.directives.is&&i.tagName&&i.tagName.indexOf("-")<0&&!/^(template|select|input|option|button|video|audio|canvas|img|embed|object|iframe)$/i.test(i.tagName),a(i.vars,(function(e){r(e.expr)})),a(i.attrs,(function(e,t){e._data={type:4,paths:[{type:1,value:"$attrs"},{type:1,value:e.name}]},r(e.expr)}));for(var s=i.props,o=s.length,c=0;c<o;c++){var h= __get$(s,c) ;i._b.push({name:_(h.name),expr:null!=h.noValue?{type:3,value:!0}:h.expr,x:h.x,noValue:h.noValue}),r(h.expr)}for(var l in i.directives)if(i.directives.hasOwnProperty(l)){var u= __get$(i.directives,l) ;if(r(u.value,!/^(html|bind)$/.test(l)),"for"===l){var p=u.trackBy;p&&4===p.type&&p.paths[0].value===u.item&&(i._gfk=ht(p.paths))}}a(i.elses,(function(t){e(t)})),c=0;for(var d=i.children.length;c<d;c++)e( __get$(i.children,c) );for(c=0;c<o;c++)h= __get$(s,c) , __set$(i._pi,h.name,c) ,h.handler=ae(i.tagName,h.name),null==h.expr.value&&(h.x&&i._xp.push(h),i._dp.push(h));if("option"===i.tagName&&!Y(i,"value")&&i.children[0]){var f={name:"value",expr:i.children[0].textExpr,handler:ae(i.tagName,"value")};i.props.push(f),i._dp.push(f),i._pi.value=s.length-1}switch(i.directives.if&&(i.ifRinsed={children:i.children,props:s,events:i.events,tagName:i.tagName,vars:i.vars,directives:i.directives,_ht:!0,_i:0,_d:i._d,_dp:i._dp,_xp:i._xp,_pi:i._pi,_b:i._b,_ce:i._ce},i.Clazz=at,i=i.ifRinsed),i.directives.for&&(i.forRinsed={children:i.children,props:s,events:i.events,tagName:i.tagName,vars:i.vars,directives:i.directives,_ht:!0,_i:0,_d:i._d,_dp:i._dp,_xp:i._xp,_pi:i._pi,_b:i._b,_ce:i._ce},i.Clazz=it,i=i.forRinsed),i.directives.is&&(i.isRinsed={children:i.children,props:s,events:i.events,tagName:i.tagName,vars:i.vars,directives:i.directives,_ht:!0,_i:0,_d:i._d,_dp:i._dp,_xp:i._xp,_pi:i._pi,_b:i._b,_ce:i._ce},i.Clazz=st,i=i.isRinsed),i.tagName){case"slot":i.Clazz=nt;break;case"template":case"fragment":i.Clazz=we;break;default:if(!i.directives.is&& __get$(Ze,i.tagName) ){var v=t&&t.components;v&& __get$(v,i.tagName) ||(i.elem=!0)}}}n.pop()}}(e))}function ct(e,t){var n,r=[];function i(e,t){for(var i=0,a=e.length;i<a;i++)r=r.concat(ct( __get$(e,i) ,t)),n=n|| __get$(e,i) .dynamic}switch(e.type){case 4:n=t;var s=e.paths;r.push(s[0].value),s.length>1&&r.push(s[0].value+"."+(s[1].value||"*")),i(s.slice(1),1);break;case 9:r=ct(e.expr,t),n=e.expr.dynamic;break;case 7:case 8:case 10:i(e.segs,t);break;case 5:r=ct(e.expr),n=e.expr.dynamic,a(e.filters,(function(e){i(e.name.paths),i(e.args)}));break;case 6:i(e.name.paths),i(e.args);break;case 12:case 11:for(var o=0;o<e.items.length;o++)r=r.concat(ct( __get$(e.items,o) .expr)),n=n|| __get$(e.items,o) .expr.dynamic}return n&&(e.dynamic=!0),r}function ht(e){var t=e.length;return function(n){for(var r=1;r<t&&n;r++)n= __get$(n,__get$(e,r).value) ;return n}}function lt(e,t){var n=0,r={directives:e.directives,props:e.props,events:e.events,children:e.children,tagName:e.tagName,attrs:[],vars:e.vars,_ht:e._ht,_i:e._i,_dp:e._dp,_xp:e._xp,_pi:e._pi,_b:e._b,_ce:e._ce},i={};if(e.attrs){n=e.attrs.length;for(var a=0;a<n;a++){ __set$(i,(s=__get$(e.attrs,a)).name,a) , __set$(r.attrs,a,s) }}for(a=0;a<t.attrs.length;a++){var s;null== __get$(i,(s=__get$(t.attrs,a)).name) &&( __set$(r.attrs,n++,{name:s.name,expr:s._data,_data:s._data}) )}return r}function ut(e){e=e||{},this.lifeCycle=V.start,this.id=t++,this.children=[],this.slotChildren=[],this.implicitChildren=[];var n=this.constructor;this.inheritAttrs=!(!1===this.inheritAttrs||!1===n.inheritAttrs),this.owner=e.owner,this.scope=e.scope;var i=e.parent;i?(this.parent=i,this.parentComponent=5===i.nodeType?i:i&&i.parentComponent):this.owner&&(this.parentComponent=this.owner,this.scope=this.owner.data),this.sourceSlotNameProps=[],this.sourceSlots={named:{}};var a,s=n.prototype;if(!s.hasOwnProperty("aNode")){var o=n.aPack||s.hasOwnProperty("aPack")&&s.aPack;o?(s.aNode=ze(o),n.aPack=s.aPack=null):s.aNode=Ke(n)}if(ot(s.aNode,this),this.tagName=s.aNode.tagName,this.source="string"==typeof e.source?H(e.source).children[0]:e.source,ot(this.source),s.aNode._i++,this.source){this._initSourceSlots(1);for(var c=0,h=this.source.events.length;c<h;c++){var l= __get$(this.source.events,c) ;l.modifier.native&&(this.nativeEvents=this.nativeEvents||[],this.nativeEvents.push(l))}this.tagName=this.tagName||this.source.tagName,this.binds=this.source._b,this.attrs=this.source.attrs,this._srcSbindData=He(this.source.directives.bind,this.scope,this.owner)}try{a="function"==typeof this.initData&&this.initData()}catch(e){q(e,this,"initData")}if(a=r(a||{},e.data||this._srcSbindData),this.binds&&this.scope){for(c=0,h=this.binds.length;c<h;c++){var u= __get$(this.binds,c) ;void 0!==(p=z(u.expr,this.scope,this.owner))&&( __set$(a,u.name,p) )}if(this.attrs){a.$attrs={};for(c=0,h=this.attrs.length;c<h;c++){var p,d= __get$(this.attrs,c) ;void 0!==(p=z(d.expr,this.scope,this.owner))&&( __set$(a.$attrs,d.name,p) )}}}this.data=new ce(a),this.tagName=this.tagName||"div",g&&this.tagName.indexOf("-")>0&&(this.tagName="div"),this._initDataChanger(),this._sbindData=He(this.aNode.directives.bind,this.data,this),this.lifeCycle=V.inited;var f=e.hydrateWalker;f&&(this.aNode.Clazz?(this._rootNode=me(this.aNode,this,this.data,this,f),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode())):(this.el=f.current,f.goNext(),Ce(this,this.data,this)),this.lifeCycle=V.created,this._attached(),this.lifeCycle=V.attached)}et.prototype._update=function(e){if(!this.aNode.textExpr.value)for(var t=e.length;t--;)if(J( __get$(e,t) .expr,this.aNode.textExpr,this.scope)){var n=z(this.aNode.textExpr,this.scope,this.owner);if(null==n&&(n=""),n!==this.content)if(this.content=n,this.aNode.textExpr.original){for(var r=this.sel.nextSibling,i=this.el.parentNode;r!==this.el;){var a=r;r=r.nextSibling,h(a)}var s=i.ownerDocument.createElement("script");i.insertBefore(s,this.el),s.insertAdjacentHTML("beforebegin",n),i.removeChild(s)}else  __set$(this.el,tt,n) ;return}},nt.prototype.nodeType=6,nt.prototype.dispose=function(e,t){this.childOwner=null,this.childScope=null,ge(this.children,e,t),e||(h(this.el),h(this.sel)),this.sel=null,this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()},nt.prototype.attach=be,nt.prototype._update=function(e,t){var n=this;if(this.nameBind&&z(this.nameBind.expr,this.scope,this.owner)!==this.name)return this.owner._notifyNeedReload(),!1;if(t){if(this.isInserted)for(var r=0;r<this.children.length;r++) __get$(this.children,r) ._update(e)}else if(this.isScoped){var i={};a(this.aNode.vars,(function(e){ __set$(i,e.name,1) ,n.childScope.set(e.name,z(e.expr,n.scope,n.owner))}));var s=[];this._sbindData=Qe(this.aNode.directives.bind,this._sbindData,this.scope,this.owner,e,(function(e,t){ __get$(i,e) ||(n.childScope.set(e,t),s.push({type:1,expr:{type:4,paths:[{type:1,value:e}]},value:t,option:{}}))})),a(e,(function(e){n.isInserted||s.push(e),a(n.aNode.vars,(function(t){var r=t.name,i=J(e.expr,t.expr,n.scope);i<1||(2!==e.type?s.push({type:1,expr:{type:4,paths:[{type:1,value:r}]},value:n.childScope.get(r),option:e.option}):2===i&&s.push({expr:{type:4,paths:[{type:1,value:r}]},type:2,index:e.index,deleteCount:e.deleteCount,value:e.value,insertions:e.insertions,option:e.option}))}))}));for(r=0;r<this.children.length;r++) __get$(this.children,r) ._update(s)}else if(!this.isInserted)for(r=0;r<this.children.length;r++) __get$(this.children,r) ._update(e)},rt.prototype.exprResolve=function(e){var t=this.directive;4===e.type&&e.paths[0].value===t.item&&(e={type:4,paths:t.value.paths.concat({type:2,value: __get$(this.raw,this.indexName) },e.paths.slice(1))});for(var n=[],r=0,i=e.paths.length;r<i;r++){var a= __get$(e.paths,r) ;if(4===a.type)switch(a.paths[0].value){case t.item:a={type:4,paths:t.value.paths.concat({type:2,value: __get$(this.raw,this.indexName) },a.paths.slice(1))};break;case this.indexName:a={type:2,value: __get$(this.raw,this.indexName) }}n.push(a)}return{type:4,paths:n}},i(rt,ce),a(["set","remove","unshift","shift","push","pop","splice"],(function(e){ __set$(rt.prototype,"_"+e,__get$(ce.prototype,e)) , __set$(rt.prototype,e,function(t){t=this.exprResolve(R(t)),__get$(this.parent,e).apply(this.parent,[t].concat(Array.prototype.slice.call(arguments,1)));}) })),it.prototype.nodeType=3,it.prototype.dispose=xe,it.prototype.attach=function(e,t){this.el=e.ownerDocument.createComment(this.id),pe(this.el,e,t),this.listData=z(this.param.value,this.scope,this.owner),this._createChildren()},it.prototype._createChildren=function(){var e=this.el.parentNode,t=this.listData;if(t instanceof Array)for(var n=0;n<t.length;n++){var r=(i=this.aNode.forRinsed).Clazz? new i.Clazz(i,this,new rt(this,__get$(t,n),n),this.owner) :ye(i,this, new rt(this,__get$(t,n),n) ,this.owner);this.children.push(r),r.attach(e,this.el)}else if(t&&"object"==typeof t)for(var n in t)if(t.hasOwnProperty(n)&&null!= __get$(t,n) ){var i;r=(i=this.aNode.forRinsed).Clazz? new i.Clazz(i,this,new rt(this,__get$(t,n),n),this.owner) :ye(i,this, new rt(this,__get$(t,n),n) ,this.owner);this.children.push(r),r.attach(e,this.el)}},it.prototype._update=function(e){var t=z(this.param.value,this.scope,this.owner),n=this.listData instanceof Array,r=t instanceof Array;if(this.children.length)if(!t||r&&0===t.length)this._disposeChildren(),this.listData=t;else if(n===r&&r)this._updateArray(e,t),this.listData=t;else{var i;this.listData=t;for(var a=0;!i&&a<e.length;a++)i=J( __get$(e,a) .expr,this.param.value,this.scope);var s=this.aNode._d;if(i||s&&ue(e,s)){var o=this;this._disposeChildren(null,(function(){o._createChildren()}))}}else this.listData=t,this._createChildren()},it.prototype._disposeChildren=function(e,t){var n=this.el.parentNode,r=n.firstChild,i=n.lastChild,a=this.children.length,s=!this.aNode.directives.transition&&!e&&a&&r===this.children[0].el&&i===this.el;e||(e=this.children,this.children=[]);var o=0;a=e.length;for(var c=0;c<a;c++){var h= __get$(e,c) ;s?h&&h.dispose(s,s):h?(h._ondisposed=l,h.dispose()):l()}function l(){++o>=a&&t&&t()}s&&(m?n.innerHTML="":n.textContent="",this.el=n.ownerDocument.createComment(this.id),n.appendChild(this.el),t&&t())},it.prototype.opti="undefined"!=typeof navigator&&/chrome\/[0-9]+/i.test(navigator.userAgent),it.prototype._updateArray=function(e,t){var n=this.children.length,r=new Array(n),i=4===this.children[0].nodeType;function a(e){for(var t=0,n=r.length;t<n;t++)( __set$(r,t,__get$(r,t)||[]) ).push(e);h=null,c=!1}for(var s,o=[],c=!0,h={},l=t.length,u=this.aNode._gfk,p=0;p<e.length;p++){var d= __get$(e,p) ,f=J(d.expr,this.param.value,this.scope);if(f)if(f>2){var v=d.expr.paths,m=this.param.value.paths.length,g=+z( __get$(v,m) ,this.scope,this.owner);isNaN(g)?a(d):s||(c=!1,h&&( __set$(h,g,1) ), __set$(r,g,__get$(r,g)||[]) ,this.param.index&& __get$(r,g) .push(d),d=1===d.type?{type:d.type,expr:{type:4,paths:this.itemPaths.concat(v.slice(m+1))},value:d.value,option:d.option}:{index:d.index,deleteCount:d.deleteCount,insertions:d.insertions,type:d.type,expr:{type:4,paths:this.itemPaths.concat(v.slice(m+1))},value:d.value,option:d.option}, __get$(r,g) .push(d),1===d.type? __get$(this.children,g) ? __get$(this.children,g) .scope._set(d.expr,d.value,{silent:1}): __set$(this.children,g,0) : __get$(this.children,g) && __get$(this.children,g) .scope._splice(d.expr,[].concat(d.index,d.deleteCount,d.insertions),{silent:1}))}else{if(s)continue;if(2!==f||2!==d.type||"optimized"===this.owner.updateMode&&this.opti&&!this.aNode.directives.transition)if(h=null,c=!1,s=1,u&&l&&n){var y=[],b=[],w={},x=[],_={};for(ee=0;ee<t.length;ee++){var C=u( __get$(t,ee) );y.push(C), __set$(w,C,ee) }for(ee=0;ee<this.listData.length;ee++){C=u( __get$(this.listData,ee) );b.push(C), __set$(_,C,ee) ,null!= __get$(w,C) ? __set$(x,ee,__get$(w,C)) :( __set$(x,ee,-1) ,o.push( __get$(this.children,ee) ))}for(var N=0,S=l,A=0,E=n;N<l&&A<n&& __get$(y,N) === __get$(b,A) ;) __get$(this.listData,A) !== __get$(t,N) &&( __set$(__get$(this.children,A).scope.raw,this.param.item,__get$(t,N)) ,( __set$(r,A,__get$(r,A)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(t,N) })),f<2&&( __set$(r,A,__get$(r,A)||[]) ).push(d),N++,A++;for(Z=this.param.index?{type:1,option:d.option,expr:this.indexExpr}:null;S>N&&E>A&& __get$(y,S-1) === __get$(b,E-1) ;)S--,E--, __get$(this.listData,E) !== __get$(t,S) &&( __set$(__get$(this.children,E).scope.raw,this.param.item,__get$(t,S)) ,( __set$(r,E,__get$(r,E)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(t,S) })),S!==E&&( __set$(__get$(this.children,E).scope.raw,__get$(this.children,E).scope.indexName,S) ,Z&&( __set$(r,E,__get$(r,E)||[]) ).push(Z)),f<2&&( __set$(r,E,__get$(r,E)||[]) ).push(d);var k=[],D=[],T=-1,I=x.slice(A,E),P=E-A,O=new Array(P);for(ee=0;ee<P;ee++){var R= __get$(I,ee) ;if(-1!==R){var L=-1,M=k.length;if(M>0&& __get$(k,M-1) <=R)L=M-1;else for(;M-L>1;){var B=Math.floor((L+M)/2); __get$(k,B) >R?M=B:L=B}-1!==L&&( __set$(O,ee,__get$(D,L)) ),L===T?( __set$(k,++T,R) , __set$(D,T,ee) ):R< __get$(k,L+1) &&( __set$(k,L+1,R) , __set$(D,L+1,ee) )}}for(ee= __get$(D,T) ;T>=0;ee= __get$(O,ee) ,T--) __set$(k,T,ee) ;var j=k.length,U=j? __get$(x,__get$(k,--j)+A) :-1,H=[],q=[],Q=this.el,F=i&&Q.parentNode;for(ee=l-1;ee>=0;ee--)if(ee>=S) __set$(H,ee,__get$(this.children,n-l+ee)) , __set$(q,ee,__get$(r,n-l+ee)) ,i&&(Q= __get$(H,ee) .el);else if(ee<N) __set$(H,ee,__get$(this.children,ee)) , __set$(q,ee,__get$(r,ee)) ;else{var $= __get$(_,__get$(y,ee)) ,G= __get$(this.children,$) ;if(G&&(i||ee===U)){var W=G.scope; __get$(this.listData,$) !== __get$(t,ee) &&( __set$(W.raw,this.param.item,__get$(t,ee)) ,( __set$(r,$,__get$(r,$)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(t,ee) })),Z&&ee!==$&&( __set$(W.raw,W.indexName,ee) ,Z&&( __set$(r,$,__get$(r,$)||[]) ).push(Z)),f<2&&( __set$(r,$,__get$(r,$)||[]) ).push(d), __set$(H,ee,G) , __set$(q,ee,__get$(r,$)) ,ee===U?U=j? __get$(x,__get$(k,--j)+A) :-1:F.insertBefore(G.el,Q),i&&(Q=G.el)}else G&&o.push(G), __set$(H,ee,0) , __set$(q,ee,0) }this.children=H,r=q}else{n>l&&(o=o.concat(this.children.slice(l)),r=r.slice(0,l),this.children=this.children.slice(0,l));for(ee=0;ee<l;ee++)f<2&&( __set$(r,ee,__get$(r,ee)||[]) ).push(d), __get$(this.children,ee) ? __get$(__get$(this.children,ee).scope.raw,this.param.item) !== __get$(t,ee) &&( __set$(__get$(this.children,ee).scope.raw,this.param.item,__get$(t,ee)) ,( __set$(r,ee,__get$(r,ee)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(t,ee) })): __set$(this.children,ee,0) }else{h=null;var V=d.index,Y=d.deleteCount,K=d.insertions.length,X=K-Y;if(X)for(var Z=this.param.index?{type:1,option:d.option,expr:this.indexExpr}:null,ee=V+Y;ee<this.children.length;ee++){Z&&(c=!1,( __set$(r,ee,__get$(r,ee)||[]) ).push(Z));var te= __get$(this.children,ee) ;te&&( __set$(te.scope.raw,te.scope.indexName,ee-Y+K) )}for(var ne=Y;ne--;){if(ne<K)c=!1,( __set$(r,ee=V+ne,__get$(r,ee)||[]) ).push({type:1,option:d.option,expr:this.itemExpr,value: __get$(d.insertions,ne) }), __get$(this.children,ee) &&( __set$(__get$(this.children,ee).scope.raw,this.param.item,__get$(d.insertions,ne)) )}if(X<0)o=o.concat(this.children.splice(V+K,-X)),r.splice(V+K,-X);else if(X>0){c=!1;var re=[V+Y,0].concat(new Array(X));this.children.splice.apply(this.children,re),r.splice.apply(r,re)}}}else a(d)}if(l!==n&&this.param.value.paths){var ie={type:1,option:{},expr:{type:4,paths:this.param.value.paths.concat({type:1,value:"length"})}};ue([ie],this.aNode._d)&&a(ie)}this._doCreateAndUpdate=se;var ae=this;function se(){if(ae._doCreateAndUpdate=null,!c)for(var e=ae.el,n=e.parentNode,i=-1,a=0;a<l;a++){var s= __get$(ae.children,a) ;if(s)! __get$(r,a) ||h&&! __get$(h,a) ||s._update( __get$(r,a) );else{if(i<a)for(i=a+1,e=null;i<l;){var o= __get$(ae.children,i) ;if(o){e=o.sel||o.el;break}i++} __set$(ae.children,a,ye(ae.aNode.forRinsed,ae,new rt(ae,__get$(t,a),a),ae.owner)) , __get$(ae.children,a) .attach(n,e||ae.el)}}}0===o.length?se():this._disposeChildren(o,(function(){se===ae._doCreateAndUpdate&&se()}))},at.prototype.nodeType=2,at.prototype.dispose=xe,at.prototype.attach=function(e,t){var n,r,i=this.aNode.elses;if(z(this.aNode.directives.if.value,this.scope,this.owner))r=ye(this.aNode.ifRinsed,this,this.scope,this.owner),n=-1;else if(i)for(var a=0,s=i.length;a<s;a++){var o= __get$(i,a) ,c=o.directives.elif;if(!c||c&&z(c.value,this.scope,this.owner)){r=ye(o,this,this.scope,this.owner),n=a;break}}r&&(this.children[0]=r,r.attach(e,t),this.elseIndex=n),this.el=e.ownerDocument.createComment(this.id),pe(this.el,e,t)},at.prototype._update=function(e){var t,n=this,r=this.aNode.ifRinsed,i=this.aNode.elses;if(z(this.aNode.directives.if.value,this.scope,this.owner))t=-1;else if(i)for(var a=0,s=i.length;a<s;a++){var o= __get$(i,a) ,c=o.directives.elif;if(c&&z(c.value,this.scope,this.owner)||!c){t=a,r=o;break}}var h=this.children[0];function l(){void 0!==t&&(n.children[0]=ye(r,n,n.scope,n.owner)).attach(n.el.parentNode,n.el)}t===this.elseIndex?h&&h._update(e):(this.children=[],h?(h._ondisposed=l,h.dispose()):l(),this.elseIndex=t)},at.prototype._getElAsRootNode=function(){var e=this.children[0];return e&&e.el||this.el},st.prototype.nodeType=9,st.prototype.dispose=xe,st.prototype.attach=function(e,t){this.cmpt=z(this.aNode.directives.is.value,this.scope)||this.tagName;var n=ye(this.aNode.isRinsed,this,this.scope,this.owner,this.cmpt);this.children[0]=n,n.attach(e,t)},st.prototype._update=function(e){var t=this.children[0],n=z(this.aNode.directives.is.value,this.scope)||this.tagName;if(n===this.cmpt)t._update(e);else{this.cmpt=n;var r=ye(this.aNode.isRinsed,this,this.scope,this.owner,this.cmpt),i=t.el;r.attach(i.parentNode,i),t.dispose(),this.children[0]=r}},st.prototype._getElAsRootNode=function(){return this.children[0].el},ut.prototype._initDataChanger=function(){var e=this;this._dataChanger=function(t){e.lifeCycle.created?(e._dataChanges||(f(e._update,e),e._dataChanges=[]),e._dataChanges.push(t)):e.lifeCycle.inited&&e.owner&&e._updateBindxOwner([t])},this.data.listen(this._dataChanger)},ut.prototype.attach=function(e,t){if(!this.lifeCycle.attached){var n=this.aNode;if(n.Clazz)this._rootNode=this._rootNode||ye(n,this,this.data,this),this._rootNode.attach(e,t),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode()),this.lifeCycle=V.created;else{if(!this.el){var r,i=e.ownerDocument;if(n._ce&&n._i>2?(r=n._dp,this.el=(n._el||Ne(n,i)).cloneNode(!1)):(r=n.props,this.el= __get$(c,this.tagName) &&i.createElementNS?i.createElementNS("http://www.w3.org/2000/svg",this.tagName):i.createElement(this.tagName)),this._sbindData)for(var a in this._sbindData)this._sbindData.hasOwnProperty(a)&&ae(this.tagName,a)(this.el, __get$(this._sbindData,a) ,a,this);for(var s=0,o=r.length;s<o;s++){var h= __get$(r,s) ,l=z(h.expr,this.data,this);!l&& __get$(de,h.name) ||h.handler(this.el,l,h.name,this)}if(this.attrs&&this.inheritAttrs){var u=this.data.get("$attrs");for(s=0;s<this.attrs.length;s++){var p= __get$(this.attrs,s) ;null== __get$(this.aNode._pi,p.name) &&ae(this.tagName,p.name)(this.el, __get$(u,p.name) ,p.name,this)}}this.lifeCycle=V.created}if(pe(this.el,e,t),!this._contentReady){var d=n.directives.html;if(d)this.el.innerHTML=z(d.value,this.data,this);else for(s=0,o=n.children.length;s<o;s++){var f= __get$(n.children,s) ,v=f.Clazz?new f.Clazz(f,this,this.data,this):ye(f,this,this.data,this);this.children.push(v),v.attach(this.el)}this._contentReady=1}this._attached()}this.lifeCycle=V.attached}},ut.prototype.nodeType=5,ut.prototype._getElAsRootNode=function(){return this.el},ut.prototype._update=function(e){if(!this.lifeCycle.disposed){var t=this,n=!1;if(this._notifyNeedReload=function(){n=!0},e)if(this.source&&(this._srcSbindData=Qe(this.source.directives.bind,this._srcSbindData,this.scope,this.owner,e,(function(e,n){e in t.source._pi||t.data.set(e,n,{target:{node:t.owner}})}))),a(e,(function(e){var r=e.expr;a(t.binds,(function(n){var i,a=n.name,s=n.expr;!se(e,t,a)&&(i=J(r,s,t.scope))&&(i>2&&(a={type:4,paths:[{type:1,value:a}].concat(r.paths.slice(s.paths.length))},s=r),i>=2&&2===e.type?t.data.splice(a,[e.index,e.deleteCount].concat(e.insertions),{target:{node:t.owner}}):t.data.set(a,z(s,t.scope,t.owner),{target:{node:t.owner}}))})),a(t.attrs,(function(e){J(r,e.expr,t.scope)&&t.data.set(e._data,z(e.expr,t.scope,t.owner))})),a(t.sourceSlotNameProps,(function(e){return!(n=n||J(r,e.expr,t.scope))}))})),n)this._initSourceSlots(),this._repaintChildren();else for(var r=this.slotChildren.length;r--;){var i= __get$(this.slotChildren,r) ;i.lifeCycle.disposed?this.slotChildren.splice(r,1):i.isInserted&&i._update(e,1)}var s=this._dataChanges;if(s){this._dataChanges=null,this._sbindData=Qe(this.aNode.directives.bind,this._sbindData,this.data,this,s,(function(e,n){t._rootNode||e in t.aNode._pi||ae(t.tagName,e)(t.el,n,e,t)}));var o=this.aNode.directives.html;if(this._rootNode)this._rootNode._update(s),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode());else if(o){for(var c=s.length;c--;)if(J( __get$(s,c) .expr,o.value,this.data)){this.el.innerHTML=z(o.value,this.data,this);break}}else{for(var h=this.aNode._dp,l=0;l<h.length;l++)for(var u= __get$(h,l) ,p=0;p<s.length;p++){var d= __get$(s,p) ;if(J(d.expr,u.expr,this.data)||u.hintExpr&&J(d.expr,u.hintExpr,this.data)){u.handler(this.el,z(u.expr,this.data,this),u.name,this);break}}if(this.attrs&&this.inheritAttrs){var f=this.data.get("$attrs");for(l=0;l<this.attrs.length;l++){var v= __get$(this.attrs,l) ;if(null== __get$(this.aNode._pi,v.name) )for(p=0;p<s.length;p++){var m= __get$(s,p) .expr.paths;if("$attrs"===m[0].value&&m[1].value===v.name){ae(this.tagName,v.name)(this.el, __get$(f,v.name) ,v.name,this);break}}}}for(l=0;l<this.children.length;l++) __get$(this.children,l) ._update(s)}n&&(this._initSourceSlots(),this._repaintChildren()),this.owner&&this._updateBindxOwner(s)&&this.owner._update()}this._notifyNeedReload=null}},ut.prototype._updateBindxOwner=function(e){var t,n=this;return a(e,(function(e){a(n.binds,(function(r){var i=e.expr;if(r.x&&!se(e,n.owner)&&J(i,R(r.name),n.data)){var a=r.expr;i.paths.length>1&&(a={type:4,paths:r.expr.paths.concat(i.paths.slice(1))}),t=1,n.scope.set(a,z(i,n.data,n),{target:{node:n,prop:r.name}})}}))})),t},ut.prototype._initSourceSlots=function(e){if(this.sourceSlots.named={},this.source&&this.scope)for(var t=this.source.children,n=0,r=t.length;n<r;n++){var i,a= __get$(t,n) ,s=!a.textExpr&&Y(a,"slot");if(s){e&&this.sourceSlotNameProps.push(s);var o=z(s.expr,this.scope,this.owner);(i= __get$(this.sourceSlots.named,o) )||(i= __set$(this.sourceSlots.named,o,[]) ),i.push(a)}else e&&((i=this.sourceSlots.noname)||(i=this.sourceSlots.noname=[]),i.push(a))}},ut.prototype._repaintChildren=function(){if(this._rootNode){var e=this._rootNode.el.parentNode,t=this._rootNode.el.nextSibling;this._rootNode.dispose(0,1),this.slotChildren=[],this._rootNode=ye(this.aNode,this,this.data,this),this._rootNode.attach(e,t),this._rootNode._getElAsRootNode&&(this.el=this._rootNode._getElAsRootNode())}else{ge(this.children,0,1),this.children=[],this.slotChildren=[];for(var n=0,r=this.aNode.children.length;n<r;n++){var i=ye( __get$(this.aNode.children,n) ,this,this.data,this);this.children.push(i),i.attach(this.el)}}},ut.prototype._leave=function(){if(this.leaveDispose){if(!this.lifeCycle.disposed){if(this.data.unlisten(),this.dataChanger=null,this._dataChanges=null,this.source=null,this.sourceSlots=null,this.sourceSlotNameProps=null,this.slotChildren=null,this._rootNode)this._rootNode.dispose(this.disposeNoDetach&&this.parent);else{for(var e=this.children.length;e--;) __get$(this.children,e) .dispose(1,1);this._inputTimer&&(clearInterval(this._inputTimer),this._inputTimer=null),this.disposeNoDetach&&this.parent||h(this.el)}this.lifeCycle=V.detached,this._rootNode=null,this.el=null,this.owner=null,this.scope=null,this.children=null,this.lifeCycle=V.disposed,this._ondisposed&&this._ondisposed()}}else this.lifeCycle.attached&&(this._rootNode?this._rootNode.detach?this._rootNode.detach():(this._rootNode.dispose(),this._rootNode=null):h(this.el),this.lifeCycle=V.detached)},ut.prototype.detach=Ae,ut.prototype.dispose=Ee,ut.prototype._attached=Ue;var pt={version:"3.15.0",Component:Ge,defineComponent:We,defineTemplateComponent:function(e){switch(typeof e){case"function":return e;case"string":e={template:e}}function t(e){ut.call(this,e)}return t.prototype=e,i(t,ut),t},hydrateComponent:function(e,t){var n=t.el;if(!n)return{};if("render-only"!==n.getAttribute("data-sanssr"))return{instance:new e(t)};for(var r=[],i=-1,a=n,s=[];;)if(a)if(1===a.nodeType){a.hasAttribute("data-sanssr-cmpt")&&s.push(a);var o=a.firstChild;o?( __set$(r,++i,a) ,a=o):a=a.nextSibling}else a=a.nextSibling;else{if(i<=0)break;a= __get$(r,i--) .nextSibling}for(var c={},h=0,l=s.length;h<l;h++){for(var u= __get$(s,h) ,p=u.getAttribute("data-sanssr-cmpt"),d=p.split("/"),f=e,v=0,m=d.length;v<m;v++){var g=f.prototype;g.hasOwnProperty("_cmptReady")||Ye(f),f= __get$(g.components,__get$(d,v)) }var y= __get$(c,p) ;y||(y= __set$(c,p,[]) ),y.push(new f({el:u}))}return{renderOnly:!0,components:c}},createComponentLoader:function(e){var t=e.placeholder,n=e.fallback;return new Ve("function"==typeof e?e:e.load,t,n)},parseComponentTemplate:Ke,unpackANode:ze,parseTemplate:H,parseExpr:R,ExprType:{STRING:1,NUMBER:2,BOOL:3,ACCESSOR:4,INTERP:5,CALL:6,TEXT:7,BINARY:8,UNARY:9,TERTIARY:10,OBJECT:11,ARRAY:12,NULL:13},LifeCycle:V,NodeType:{TEXT:1,IF:2,FOR:3,ELEM:4,CMPT:5,SLOT:6,FRAG:7,LOADER:8,IS:9},nextTick:f,Data:ce,evalExpr:z,inherits:i,DataTypes:w};e.exports=pt}()}(zt)),zt.exports}(function(e,t){function n(e,t,n,r,i,a,s){try{var o= __call$(e,a,[s]) ,c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var s=e.apply(t,r);function o(e){n(s,i,a,o,c,"next",e)}function c(e){n(s,i,a,o,c,"throw",e)}o(void 0)}))}}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){ __set$(e,t,n.value) },s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",h=s.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}), __get$(e,t) }try{l({},"")}catch(e){l=function(e,t,n){return  __set$(e,t,n) }}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,s=Object.create(a.prototype),o=new I(r||[]);return i(s,"_invoke",{value:E(e,n,o)}),s}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",v="executing",m="completed",g={};function y(){}function b(){}function w(){}var x={};l(x,o,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(P([])));C&&C!==n&&r.call(C,o)&&(x=C);var N=w.prototype=y.prototype=Object.create(x);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,o){var c=p( __get$(e,i) ,e,a);if("throw"!==c.type){var h=c.arg,l=h.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(l).then((function(e){h.value=e,s(h)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function E(t,n,r){var i=d;return function(a,s){if(i===v)throw Error("Generator is already running");if(i===m){if("throw"===a)throw s;return{value:e,done:!0}}for(r.method=a,r.arg=s;;){var o=r.delegate;if(o){var c=k(o,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var h=p(t,n,r);if("normal"===h.type){if(i=r.done?m:f,h.arg===g)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(i=m,r.method="throw",r.arg=h.arg)}}}function k(t,n){var r=n.method,i= __get$(t.iterator,r) ;if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=p(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var s=a.arg;return s?s.done?( __set$(n,t.resultName,s.value) ,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function P(t){if(t||""===t){var n= __get$(t,o) ;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value= __get$(t,i) ,n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=w,i(N,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,h,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,h,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},S(A.prototype),l(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var s=new A(u(e,n,r,i),a);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(N),l(N,h,"Generator"),l(N,o,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&( __set$(this,n,e) )},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return o.type="throw",o.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s= __get$(this.tryEntries,a) ,o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),h=r.call(s,"finallyLoc");if(c&&h){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!h)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i= __get$(this.tryEntries,n) ;if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n= __get$(this.tryEntries,t) ;if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n= __get$(this.tryEntries,t) ;if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t= __get$(arguments,n) )Object.prototype.hasOwnProperty.call(t,i)&&( __set$(e,i,__get$(t,i)) );return e},o.apply(this,arguments)};function c(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(s,o)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&( __set$(s,Symbol.iterator,function(){return this;}) ),s;function o(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&& __get$(i,i.length-1) )||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&& __get$(e,t) ,r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&& __get$(e,r++) ,done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&& __get$(e,Symbol.iterator) ;if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}"function"==typeof SuppressedError&&SuppressedError,"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i||"undefined"!=typeof self&&self;var p={exports:{}};!function(e,t){!function(e,n){n(t)}(0,(function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r= __get$(t,n) ;r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){return s(e)||o(e)||c(e)||l()}function s(e){if(Array.isArray(e))return h(e)}function o(e){if("undefined"!=typeof Symbol&&null!= __get$(e,Symbol.iterator) ||null!=e["@@iterator"])return Array.from(e)}function c(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++) __set$(r,n,__get$(e,n)) ;return r}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){var t=[],n=[];function r(e){if(e.$change)return e.target=n.slice(0),void t.push(e);for(var i in e)e.hasOwnProperty(i)&&(n.push(i),r( __get$(e,i) ),n.pop())}return r(e),t}function p(e){if(e instanceof Array)return e;if("string"!=typeof e)return[];for(var t=e.split("."),n=[],r=0,i=t.length;r<i;r++){var a= __get$(t,r) ,s=a.indexOf("[");if(s>=0)for(s>0&&(n.push(a.slice(0,s)),a=a.slice(s));91===a.charCodeAt(0);){var o=a.indexOf("]");if(o<0)throw new Error("name syntax error: "+e);var c=a.slice(1,o);/^[0-9]+$/.test(c)?n.push(+c):/^(['"])([^\1]+)\1$/.test(c)&&n.push(c.slice(1,-1)),a=a.slice(o+1)}else n.push(a)}return n}var d="undefined"!=typeof window;function f(e,t){d&&window.__san_devtool__&&window.__san_devtool__.emit(e,t)}var v,m=0,g=function(){return(++m).toString()},y=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.initData,a=void 0===i?{}:i,s=r.actions,o=void 0===s?{}:s,c=r.log,h=void 0!==c&&c,l=r.name;n(this,e),this.raw=a,this.actions=o,this.log=h,this.name=l,this.id=g(),this.listeners=[],this.stateChangeLogs=[],this.actionInfos=[],this.actionInfoIndex={},this.aiLen=0,this.stateGetter=function(e){return t.getState(e)}}return i(e,[{key:"getState",value:function(e){e=p(e);for(var t=this.raw,n=0,r=e.length;null!=t&&n<r;n++)t= __get$(t,__get$(e,n)) ;return t}},{key:"listen",value:function(e){"function"==typeof e&&this.listeners.push(e),this.log&&f("store-listened",{store:this,listener:e})}},{key:"unlisten",value:function(e){for(var t=this.listeners.length;t--;) __get$(this.listeners,t) ===e&&this.listeners.splice(t,1);this.log&&f("store-unlistened",{store:this,listener:e})}},{key:"_fire",value:function(e){for(var t=0,n=this.listeners.length;t<n;t++) __get$(this.listeners,t) .call(this,e)}},{key:"addAction",value:function(e,t){if("function"==typeof t){if( __get$(this.actions,e) )throw new Error("Action "+e+" exists!"); __set$(this.actions,e,t) ,this.log&&f("store-action-added",{store:this,action:t})}}},{key:"dispatch",value:function(e,t){return this._dispatch(e,t)}},{key:"_dispatch",value:function(e,t,n){var r=this,i= __get$(this.actions,e) ,a=g();if("function"==typeof i){var s,o=this._actionStart(a,e,i,t,n);if(o){if("function"==typeof o.then)return o.then((function(e){return r._actionDone(a),e}));var c=this.raw;this.raw=o[0],s=o[1],this.log&&this.stateChangeLogs.push({oldValue:c,newValue:this.raw,diff:s,id:a})}this._actionDone(a),s&&s.length>0&&this._fire(s)}}},{key:"_getActionInfo",value:function(e){var t= __get$(this.actionInfoIndex,e) ;if(null!=t)return  __get$(this.actionInfos,t) }},{key:"_actionStart",value:function(e,t,n,r,i){var a=this,s={id:e,name:t,parentId:i,childs:[]};if(this.log&&(s.startTime=(new Date).getTime(),s.payload=r), __set$(this.actionInfos,this.aiLen,s) , __set$(this.actionInfoIndex,e,this.aiLen++) ,i){var o=this._getActionInfo(i);o&&o.childs.push(e)}this.log&&f("store-dispatch",{store:this,name:t,payload:r,actionId:e,parentId:i});var c=n.call(this,r,{getState:this.stateGetter,dispatch:function(t,n){return a._dispatch(t,n,s.done?null:e)}});if(null!=c){if("function"==typeof c.buildWithDiff){var h=c.buildWithDiff()(this.raw);return h[1]=u(h[1]),this.log&&(s.updateInfo=h),h}if("function"==typeof c.then)return c}}},{key:"_actionDone",value:function(e){this._getActionInfo(e).selfDone=!0,this._detectActionDone(e)}},{key:"_detectActionDone",value:function(e){if(e){var t=this._getActionInfo(e);if(t){if(!t.selfDone)return!1;for(var n=0;n<t.childs.length;n++)if(!this._getActionInfo( __get$(t.childs,n) ).done)return!1;if(t.done=!0,this.log&&(t.endTime=(new Date).getTime(),f("store-dispatched",{store:this,diff:t.updateInfo?t.updateInfo[1]:null,name:t.name,payload:t.payload,actionId:t.id,parentId:t.parentId})),t.parentId)this._detectActionDone(t.parentId);else if(!this.log){for(var r=this.actionInfos.length;r--;)if(! __get$(this.actionInfos,r) .done)return;this.actionInfos=[],this.aiLen=0,this.actionInfoIndex={}}return!0}}}}]),e}(),b=new y({name:"__default__"});function w(e,t,n,r){var i=n.stateName;if(i){for(var s=i.length,o=r,c=0;c<s;){var h= __get$(i,c) ;if(! __get$(o,h) ){o.__selfDiff__||(o=null);break}c++,o= __get$(o,h) }if(0!==c&&o){var l=o.__diffs__;if(l)for(var u=0;u<l.length;u++){var p= __get$(l,u) ,d=p.target,f=n.dataName,v=n.stateName;d.length>s&&(f+="."+d.slice(s).join("."),v=d),d.length>=s&&p.splice?e.data.splice(f,p.splice.insertions instanceof Array?[p.splice.index,p.splice.deleteCount].concat(a(p.splice.insertions)):[p.splice.index,p.splice.deleteCount]):e.data.set(f,t.getState(v))}}}}function x(e){for(var t={},n=0,r=e.length;n<r;n++){for(var i= __get$(e,n) .target,a=t,s=[],o=0;o<i.length;o++){var c= __get$(i,o) ,h= __get$(a,c) ;if(!h){h={__diffs__:[]}, __set$(a,c,h) ;for(var l=0;l<o;l++){var u= __get$(s,l) .__offsprings__;u||(u= __get$(s,l) .__offsprings__=[]),u.push(h)}}a=h, __set$(s,o,h) }a.__selfDiff__=!0}for(var p=0,d=e.length;p<d;p++){for(var f= __get$(e,p) ,v=f.target,m=t,g=0;g<v.length;g++)(m= __get$(m,__get$(v,g)) ).__diffs__.push(f);var y=m.__offsprings__;if(y)for(var b=0;b<y.length;b++) __get$(y,b) .__diffs__.push(f)}return t}f("store-default-inited",{store:b});try{v=new Function("RawClass","return class extends RawClass {}")}catch(e){}function _(e){var t=function(){};t.prototype=e.prototype;var n=function(t){return e.call(this,t)||this};return n.prototype=new t,n.prototype.constructor=n,t.prototype.hasOwnProperty("aPack")&&(n.prototype.aPack=t.prototype.aPack),n}function C(e){var t;return(t=0===e.toString().indexOf("class")?v(e):_(e)).template=e.template,t.components=e.components,t.trimWhitespace=e.trimWhitespace,t.delimiters=e.delimiters,t.autoFillStyleAndId=e.autoFillStyleAndId,t.filters=e.filters,t.computed=e.computed,t.aPack=e.aPack,t.messages=e.messages,t}function N(e,n,r){var i=[];function a(e,n,r){e instanceof y||(r=n,n=e,e=b);for(var a=[],s=0,o=Object.keys(n),c=0;c<o.length;c++){var h= __get$(o,c) ,l= __get$(n,h) ,u={dataName:h};switch(t(l)){case"string":u.stateName=p(l);break;case"function":u.getter=l;break;default:u=null}u&&(a.push(u),s++)}i.push({mapStates:n,mapStateInfos:a,mapStateCount:s,mapActions:r,store:e}),e.log&&f("store-connected",{mapStates:n,mapActions:r,store:e})}function s(e){var t,n,a;"function"==typeof e?(n=C(e),t=e.prototype,a=n.prototype):(t=e||{},n= __call$(Object,"assign",[{},e]) ,a=n);var s=t.inited,o=t.disposed;if(a.inited=function(){var e=this;this.__storeListeners=this.__storeListeners||[];for(var t=function(t){for(var n= __get$(i,t) ,a=n.mapStates,s=n.mapStateCount,o=n.mapStateInfos,c=n.store,h=0;h<s;h++){var l= __get$(o,h) ;"function"==typeof l.getter?e.data.set(l.dataName,l.getter(c.getState(),e)):e.data.set(l.dataName,c.getState(l.stateName))}var u=function(t){for(var n=x(t),r=0;r<s;r++){var i= __get$(o,r) ;"function"==typeof i.getter?e.data.set(i.dataName,i.getter(c.getState(),e)):w(e,c,i,n)}};c.listen(u),e.__storeListeners.push(u),c.log&&f("store-comp-inited",{mapStates:a,mapActions:r,store:c,component:e})},n=0;n<i.length;n++)t(n);"function"==typeof s&&s.call(this)},a.disposed=function(){for(var e=0;e<i.length;e++){var t= __get$(i,e) ,n=t.mapStates,r=t.mapActions,a=t.store;a.unlisten( __get$(this.__storeListeners,e) ),a.log&&f("store-comp-disposed",{mapStates:n,mapActions:r,store:a,component:this})}"function"==typeof o&&o.call(this)},!a.actions){a.actions={};for(var c=function(e){var t= __get$(i,e) ,n=t.mapActions,r=t.store;if(!n)return"continue";if(n instanceof Array)for(var s=function(e){var t= __get$(n,e) ; __set$(a.actions,t,function(e){return r.dispatch(t,e);}) },o=0;o<n.length;o++)s(o);else for(var c=Object.keys(n),h=function(e){var t= __get$(c,e) ,i= __get$(n,t) ; __set$(a.actions,t,function(e){return r.dispatch(i,e);}) },l=0;l<c.length;l++)h(l)},h=0;h<i.length;h++)c(h)}return n}return a(e,n,r),s.connect=function(e,t,n){return a(e,t,n),s},s}N.createConnector=function(e){if(e instanceof y)return function(t,n){return N(e,t,n)};throw new Error(e+" must be an instance of Store!")},N.san=function(e,t,n){return N(e,t,n)};var S="2.2.8";e.Store=y,e.connect=N,e.store=b,e.version=S,Object.defineProperty(e,"__esModule",{value:!0})}))}(0,p.exports);var d=p.exports,f=function(){function e(e){this.assistantConfigMap=e}return e.prototype.renderAssistant=function(e,t,n,r){var i=r.assistantData;if( __get$(this.assistantConfigMap,n) ){var a= new(0,__get$(this.assistantConfigMap,n))({owner:t,data:i}) ;return a.attach(e),a}console.error("[Assistant render error]")},e.prototype.updateAssistant=function(e,t){for(var n in t)e.data.set(n, __get$(t,n) )},e}();function v(e){var n={template:"\n            <div>\n            </div>\n        ",data:{assistantType:null,assistantData:{}},assistantRenderManager:null,attached:function(){this.renderAssistant()},updated:function(){this.assistantInstance?this.assistantRenderManager.updateAssistant(this.assistantInstance,this.data.get("assistantData")):this.renderAssistant()},renderAssistant:function(){this.assistantRenderManager=this.assistantRenderManager||new f(e);var t=this.el,n=this.data.get("assistantType");n&&(this.assistantInstance=this.assistantRenderManager.renderAssistant(t,this,n,{qaPairId:this.data.get("qaPairId"),assistantData:this.data.get("assistantData"),answerMsgId:this.data.get("msgId")||""}))}};return t.defineComponent(n)}var m=function(e){return Object.prototype.toString.call(e)};function g(e){return"[object Object]"===m(e)}function y(e){return"[object Undefined]"===m(e)}function b(e){return g(e)&&0===Object.keys(e).length}function w(e){return g(e)&&Object.keys(e).length>0}function x(e){return"[object Null]"===m(e)}function _(e){return"[object Promise]"===m(e)}function C(e){if(!e)return"";var t=[];return Object.keys(e).forEach((function(n){var r= __get$(e,n) ;null==r?r="":"object"==typeof r&&(r=JSON.stringify(r)),t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r)))})),t.join("&")}function N(e,t,n){void 0===n&&(n={});var r,i,a,s,o,c,h=0,l=!1,u=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,a=i;return r=i=void 0,c=t,s=e.apply(a,n)}function f(e){return h=e,o=setTimeout(y,t),l?d(e):s}function v(e){var n=e-h,r=t-(e-c);return u?Math.min(r,a-n):r}function m(e){var n=e-c;return void 0===c||n>=t||n<0||u&&e-h>=a}function y(){var e=Date.now();if(m(e))return b(e);o=setTimeout(y,v(e))}function b(e){return o=void 0,p&&r?d(e):(r=i=void 0,s)}function w(){var e=Date.now(),n=m(e);if(r=Array.prototype.slice.call(arguments),i=this,c=e,n){if(void 0===o)return f(c);if(u)return o=setTimeout(y,t),d(c)}return void 0===o&&(o=setTimeout(y,t)),s}return t=+t||0,g(n)&&(l=!!n.leading,a=(u="maxWait"in n)?Math.max(void 0===n.maxWait?0:+n.maxWait,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==o&&clearTimeout(o),h=0,r=i=o=void 0},w.flush=function(){return void 0===o?s:b(Date.now())},w}function S(e,t,n){void 0===n&&(n={});var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return g(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),N(e,t,{leading:r,maxWait:t,trailing:i})}function A(e,t){if(!g(e)||!g(t))throw new Error("originObj and obj must be object");var n=JSON.parse(JSON.stringify(e));return Object.keys(t).forEach((function(e){g( __get$(t,e) )? __set$(n,e,A(__get$(n,e)||{},__get$(t,e))) : __set$(n,e,__get$(t,e)) })),n}function E(e){if(null===e)return e;var t=null;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++) __set$(t,n,E(__get$(e,n))) ;return t}if("object"==typeof e){for(var r in t={},e)e.hasOwnProperty(r)&&( __set$(t,r,E(__get$(e,r))) );return t}return e instanceof Date?((t=new Date).setTime(e.getTime()),t):e instanceof RegExp?t=new RegExp(e):e}function k(e){return 1-(1-e)*(1-e)}function D(e){return e*e}function T(e,t,n,r){var i=performance.now();function a(s){var o=s-i,c=n(o/e);t(c),o<e?requestAnimationFrame(a):"function"==typeof r&&r()}requestAnimationFrame(a)}var I,P={"chat-body-container":"index_chat-body-container__Lo-B6","content-area":"index_content-area__mXkZx","question-container":"index_question-container__VKhsH","answer-container":"index_answer-container__K3lar","history-hidden":"index_history-hidden__TVxX7","scroll-content":"index_scroll-content__G3eYN","scroll-container":"index_scroll-container__Wsadr"},O=function(){function e(e){var t=e.scrollMode,n=e.scrollContainer,r=e.scrollToBottom,i=e.scrollContent;this.maxScrollY=0,this.maxScrollHeight=0,this.isStop=!1,this.startScrollListener=!1,this.platform="",this.scrollMode=t,this.scrollContainer=n,this.scrollToBottom=r,this.scrollContent=i}return e.prototype.startBottomAlign=function(e){var t=this;e&&(this.platform=e),this.observer&&this.observer.unobserve(this.scrollContent),this.removeCustomScrollListener&&this.removeCustomScrollListener(),this.maxScrollY=0,this.maxScrollHeight=0,window.ResizeObserver&&(this.autoStopBottomAlign(),!this.observer&&(this.observer=new ResizeObserver((function(){var e=t.scrollContent.getBoundingClientRect().bottom,n="page"===t.scrollMode?window.innerHeight:t.scrollContainer.getBoundingClientRect().bottom;!t.startScrollListener&&t.autoStopBottomAlign(),e>n&&t.scrollToBottom("instant")}))),this.observer.observe(this.scrollContent))},e.prototype.stopBottomAlign=function(){var e,t=this;this.observer&&(null===(e=this.observer)||void 0===e||e.unobserve(this.scrollContent),this.maxScrollY=0,this.maxScrollHeight=0,this.observer=null,this.isStop=!0,setTimeout((function(){t.isStop=!1}),800))},e.prototype.stopChangeBottomAlign=function(){this.removeChangeBottomAlignListener&&this.removeChangeBottomAlignListener()},e.prototype.contentHasOverflow=function(e){return void 0===e&&(e=50),this.scrollContent.getBoundingClientRect().bottom>("page"===this.scrollMode?window.innerHeight:this.scrollContainer.getBoundingClientRect().bottom)+e},e.prototype.changeBottomAlign=function(e){var t,n=this,r=window.scrollY||window.pageYOffset,i=!1,a=200;if(null===(t=this.observer)||void 0===t||t.unobserve(this.scrollContent),this.observer=null,e){this.removeChangeBottomAlignListener&&this.removeChangeBottomAlignListener();var s=S((function(){!n.contentHasOverflow()&&n.startBottomAlign(e?"pc":"wise")}),a);this.scrollContainer.addEventListener("wheel",s),this.removeChangeBottomAlignListener=function(){n.scrollContainer.removeEventListener("wheel",s)}}else{var o=S((function(){if(i&&!n.observer){var e=window.scrollY||window.pageYOffset;e>r&&!n.contentHasOverflow()&&!n.observer&&!n.isStop&&n.startBottomAlign(),r=e}}),a),c=function(){i=!0};this.scrollContainer.addEventListener("scroll",o),this.scrollContainer.addEventListener("touchstart",c),this.removeChangeBottomAlignListener=function(){n.scrollContainer.removeEventListener("scroll",o),n.scrollContainer.removeEventListener("touchstart",c)}}},e.prototype.autoStopBottomAlign=function(e){var t=this;void 0===e&&(e=15);var n=null,r=null,i=function(){var i="page"===t.scrollMode?window.pageYOffset:t.scrollContainer.scrollTop;null===n&&(n=i),r&&(clearTimeout(r),r=null),r=setTimeout((function(){n=null}),200),n-i>e&&(t.stopBottomAlign(),t.removeCustomScrollListener&&t.removeCustomScrollListener())};this.startScrollListener=!0,this.scrollListener=function(){var e="page"===t.scrollMode?window.pageYOffset:t.scrollContainer.scrollTop;if(e>t.maxScrollY)t.maxScrollY=e;else{var n="page"===t.scrollMode?document.documentElement.scrollHeight||document.body.scrollHeight:t.scrollContainer.scrollHeight;t.maxScrollY-e>40&&n>=t.maxScrollHeight&&(t.stopBottomAlign(),t.removeCustomScrollListener()),n>t.maxScrollHeight&&(t.maxScrollHeight=n)}},"pc"===this.platform?this.scrollContainer.addEventListener("wheel",i):this.scrollContainer.addEventListener("scroll",this.scrollListener),this.removeCustomScrollListener=function(){"pc"===t.platform?t.scrollContainer.removeEventListener("wheel",i):t.scrollContainer.removeEventListener("scroll",t.scrollListener),t.startScrollListener=!1,t.removeCustomScrollListener=null}},e}(),R=200;function L(e){var n=e.questionBubbles,r=e.answerBubble,i=e.qaPairBubble,a=e.tipComponents,s=e.headerComponent,o=e.footerComponent,c=e.knowledgeHeader,h=e.upwardMargin,l=e.scrollMode,u=e.store,p=d.connect(u,{chatStreamData:"chatStreamData",addHistoryDataComplete:"addHistoryDataComplete"})(t.defineComponent({template:"\n        <div class=\"\n            {{styles['chat-body-container']}}\n            ".concat("container"===l?P["scroll-container"]:"",'"\n        >\n            <div\n                class="{{styles[\'content-area\']}}"\n                id="conversation-flow-container"\n                s-ref="streamContainer"\n            >\n                <div\n                    id="conversation-flow-content"\n                    s-ref="scrollContent"\n                    class="{{styles[\'scroll-content\']}}"\n                    attr-data-test="test"\n                >\n                    <chat-header />\n                    <fragment s-for="item, index in chatStreamData">\n                        <chat-knowledge-header\n                            s-if="item.compType === \'knowledge-header\'"\n                        />\n                        <chat-tip\n                            s-if="item.compType === \'tip\'"\n                            s-ref="tip-{{index}}"\n                            class="tip-container"\n                            assistant-type="{{item.type}}"\n                            assistant-data="{{item.data}}"\n                        />\n                        \x3c!-- 问答对类型 --\x3e\n                        \x3c!-- 渲染chat-qa-pair时， data-history-hidden是在组件内部加的 --\x3e\n                        \x3c!-- 因为san在s-if时使用attr-有bug --\x3e\n                        <div\n                            s-is="{{isUseQaPairBubble ? \'chat-qa-pair\' : \'div\'}}"\n                            s-if="{{item.compType ===\'qaPair\' && item.show}}"\n                            s-ref="qa-pair-{{item.id}}"\n                            class="\n                                {{item.isHistory && !item.appendRender ? styles[\'history-hidden\'] : \'\'}}\n                                cs-rank-container"\n                            rank="{{item.id}}"\n                            data-history-hidden="true"\n                        >\n                            <div\n                                s-ref="question-{{item.id}}"\n                            >\n                                <fragment s-for="questionItem, questionIndex in item.question">\n                                    <chat-question\n                                        s-if="questionItem.type"\n                                        class="{{styles[\'question-container\']}}"\n                                        assistant-type="{{questionItem.type}}"\n                                        assistant-data="{{{\n                                            ...questionItem.data,\n                                            qaPairId: item.id,\n                                            questionList: item.question\n                                        }}}"\n                                    />\n                                </fragment>\n                            </div>\n                            <chat-answer\n                                s-ref="answer-{{item.id}}"\n                                class="{{styles[\'answer-container\']}}"\n                                assistant-type="default"\n                                assistant-data="{{{\n                                    answer: item.answerList,\n                                    question: item.question,\n                                    requestUrl: item.requestInfo.searchRequestUrl,\n                                    requestParams: item.requestInfo.generateRequestParams || {},\n                                    qaPairId: item.id,\n                                    perfInfo: item.perfInfo,\n                                    isHistory: item.isHistory,\n                                    upWard: item.upward\n                                }}}"\n                            />\n                        </div>\n                    </fragment>\n\n                    <chat-footer />\n                </div>\n                \x3c!-- 一个空白节点，用于在页面内容较少时撑起底部高度，让query能够上移 --\x3e\n                <div\n                    s-ref="empty-place"\n                    style="display: none"\n                ></div>\n            </div>\n        </div>\n        '),upwardMargin:h||0,scrollMode:l||"container",hiddenHistoryDataList:[],initData:function(){return{chatStreamData:[],allowScrollToBottom:!0,isTouching:!1,styles:P,isUseQaPairBubble:!!i}},components:{"chat-tip":v(a),"chat-question":v(n),"chat-answer":v({default:r}),"chat-header":s,"chat-footer":o,"chat-knowledge-header":c,"chat-qa-pair":i},attached:function(){this.scrollContainer="page"===this.scrollMode?window:this.ref("streamContainer"),this.scrollContent=this.ref("scrollContent"),this.watchDataChange(),this.initBottomAlign()},watchDataChange:function(){var e=this;this.watch("chatStreamData",(function(t,n){var r=n.oldValue,i=n.newValue;if(i.length>r.length){var a= __get$(i,i.length-1) ;if("qaPair"!==a.compType||!1===a.scrollToTop||a=== __get$(r,r.length-1) )return;e.nextTick((function(){setTimeout((function(){e.scrollElementIntoView({element:e.ref("question-".concat(a.id)),block:"start",margin:e.upwardMargin,behavior:"smooth"}),setTimeout((function(){u.dispatch("updateQAPairUpwardStatus",{id:a.id,upward:!0}),u.dispatch("removeQAPairStateChange",a.id)}),720)}),720)}))}else i.length<r.length&&e.showEmptyPlace(e.scrollContent)})),this.watch("addHistoryDataComplete",(function(t){var n=t.status,r=t.dataCount;if(!t.appendRender){var i=e.data.get("chatStreamData");if(n&&r>0)for(var a=0;a<r;a++)e.hiddenHistoryDataList.push( __get$(i,a) )}}))},showHistory:function(e){var t=this;void 0===e&&(e="top");var n=this.hiddenHistoryDataList.length;if(this.hiddenHistoryDataList.forEach((function(e){var n=t.ref("qa-pair-".concat(e.id));((null==n?void 0:n.el)||n).setAttribute("data-history-hidden","false")})),this.hiddenHistoryDataList=[],"top"===e){var r= __get$(this.data.get("chatStreamData"),n) ,i="qaPair"===r.compType?this.ref("question-".concat(r.id)):this.ref("".concat(r.compType,"-").concat(n)).el,a=document.documentElement.clientHeight;this.scrollElementIntoView({element:i,block:"start",margin:0,behavior:"instant"}),setTimeout((function(){t.scrollElementIntoView({element:i,block:"start",margin:.25*a,behavior:"smooth"})}),50)}else this.scrollToBottom("instant")},isLastQaPairInView:function(e){for(var t,n="page"===this.scrollMode?window.innerHeight:this.scrollContainer.getBoundingClientRect().bottom,r=e.length-1;r>=0;r--){var i= __get$(e,r) ;if("qaPair"===i.compType){var a=i.id;return(null===(t=this.ref("answer-".concat(a)))||void 0===t?void 0:t.el.getBoundingClientRect().top)<n}}return!0},getContainerHeight:function(){return"page"===this.scrollMode?this.scrollContainer.innerHeight:this.scrollContainer.offsetHeight},scrollElementIntoView:function(e){var t=this,n=e.element,r=e.block,i=e.behavior,a=void 0===i?"smooth":i,s=e.margin,o=void 0===s?0:s;if(n){var c=0,h=this.getContainerHeight();"start"===r?c=n.getBoundingClientRect().top-this.scrollContent.getBoundingClientRect().top+this.ref("streamContainer").offsetTop-o:"end"===r&&(c=n.getBoundingClientRect().top-this.scrollContent.getBoundingClientRect().top-h+n.offsetHeight+o),this.scrollContent.offsetHeight-c<h&&this.showEmptyPlace(this.scrollContent);var l="page"===this.scrollMode?window.pageYOffset:this.scrollContainer.scrollTop;"smooth"===a&&c-l>h?this.animateScroll(l,l+h,(function(){t.scrollContainer.scrollTo({top:c,left:0,behavior:"instant"}),t.animateShow()})):this.scrollContainer.scrollTo({top:c,left:0,behavior:a})}},animateShow:function(){var e=this.ref("streamContainer");function t(t){e.style.opacity=t+""}function n(){e.style.opacity="1"}T(240,t,k,n)},animateScroll:function(e,t,n){var r=e,i=t-r,a=this.scrollContainer,s=this.ref("streamContainer");function o(e){var t=e*i+r;a.scrollTo({left:0,top:t,behavior:"auto"}),s.style.opacity=1-1*e+""}T(320,o,D,n)},showEmptyPlace:function(e){var t=this;this.emptyPlaceDom||(this.emptyPlaceDom=this.ref("empty-place")),this.resizeObserver&&this.resizeObserver.disconnect(),this.intersectionObserver&&this.intersectionObserver.unobserve(this.emptyPlaceDom),this.emptyPlaceDom.style.height="".concat(this.getContainerHeight(),"px"),this.emptyPlaceDom.style.display="block",this.containerHeight=this.getContainerHeight(),setTimeout((function(){e&&window.ResizeObserver&&(t.resizeObserver=new ResizeObserver(S((function(){var n=e.getBoundingClientRect().bottom,r=("page"===t.scrollMode?window.innerHeight:t.scrollContainer.getBoundingClientRect().bottom)-n;n&&r>0&&(t.emptyPlaceDom.style.height="".concat(r,"px"))}),100)),t.resizeObserver.observe(e))}),1e3),setTimeout((function(){t.emptyPlaceDom&&(t.intersectionObserver=t.intersectionObserver||new IntersectionObserver((function(e){var n=t.containerHeight-t.getContainerHeight()>R;e[0].isIntersecting||n||(t.hideEmptyPlace(),t.intersectionObserver.unobserve(t.emptyPlaceDom))}),{root:"page"===t.scrollMode?null:t.scrollContainer}),t.intersectionObserver.observe(t.emptyPlaceDom))}),1e3)},hideEmptyPlace:function(e){var t=this;if(this.resizeObserver&&this.resizeObserver.disconnect(),this.emptyPlaceDom){if("smooth"===e)try{return void(this.emptyPlaceDom.animate([{height:"0px"}],{duration:200}).onfinish=function(){t.emptyPlaceDom.style.display="none",t.emptyPlaceDom.style.height="".concat(t.getContainerHeight(),"px")})}catch(e){}this.emptyPlaceDom.style.display="none",this.emptyPlaceDom.style.height="".concat(this.getContainerHeight(),"px")}},fillerEmptyHeight:function(e){this.emptyPlaceDom&&(this.emptyPlaceDom.style.height="".concat(this.emptyPlaceDom.offsetHeight+e,"px"),this.emptyPlaceDom.style.display="block")},scrollToBottom:function(e){void 0===e&&(e="smooth");var t=this.scrollContent.offsetHeight-this.getContainerHeight();this.scrollContainer.scrollTo({top:t,behavior:e})},onScroll:function(e){this.scrollContainer.addEventListener("scroll",e)},offScroll:function(e){this.scrollContainer.removeEventListener("scroll",e)},initBottomAlign:function(){if(!this.startBottomAlign){var e=new O({scrollMode:this.scrollMode,scrollContainer:this.scrollContainer,scrollToBottom:this.scrollToBottom.bind(this),scrollContent:this.scrollContent});this.startBottomAlign=e.startBottomAlign.bind(e),this.stopBottomAlign=e.stopBottomAlign.bind(e),this.changeBottomAlign=e.changeBottomAlign.bind(e),this.contentHasOverflow=e.contentHasOverflow.bind(e),this.stopChangeBottomAlign=e.stopChangeBottomAlign.bind(e)}},proxyScroll:function(){var e=this,t=window.addEventListener,n=window.removeEventListener;window.addEventListener=function(){for(var n=[],r=0;r<arguments.length;r++) __set$(n,r,__get$(arguments,r)) ;return"scroll"===n[0]?e.scrollContainer.addEventListener.apply(e.scrollContainer,n):t.apply(window,n)},window.removeEventListener=function(){for(var t=[],r=0;r<arguments.length;r++) __set$(t,r,__get$(arguments,r)) ;return"scroll"===t[0]?e.scrollContainer.removeEventListener.apply(e.scrollContainer,t):n.apply(window,t)}}}));return p}!function(e){e.SEND_PROMPT="sendPrompt",e.STOP_GENERATE="stopFetch",e.REGENERATE="regenerateAnswer",e.RETRY="replaceAnswer",e.RENDER_TIP="addTip",e.SET_REQUEST_SERVICE="setRequestService",e.DELETE_QA_PAIR="deleteQAPairRequest",e.MULTI_ANSWER_SWITCH="multiAnswerSwitch",e.GET_HISTORY="getHistory",e.SHOW_QA_PAIR="showQAPair",e.RENDER_KNOWLEDGE_HEADER="addKnowledgeHeader",e.REMOVE_KNOWLEDGE_HEADER="removeKnowledgeHeader"}(I||(I={}));var M={exports:{}};!function(e,t){var n;n=function(e){var t=function(e){var t={};for(var n in e) __set$(t,n,__get$(e,n)) ;return t},n=function(e,t){for(var n=0;n<e.length;n++){var r= __get$(e,n) ;if(t(r))return r}},r=function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1},i=function(e,t){for(var n=0;n<e.length;n++)if( __get$(e,n) ===t)return n;return-1},a=function(e,t,n){return{$change:e,oldValue:t,newValue:n}},o=function(e,t,n,r,i){return{$change:"change",oldValue:e,newValue:t,splice:{index:n,deleteCount:r,insertions:i}}},c="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},h=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}): __set$(e,t,n) ,e},l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o= __call$(e,Symbol.iterator,[]) ;!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(e){return Array.isArray(e)?e:Array.from(e)},p=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++) __set$(n,t,__get$(e,t)) ;return n}return Array.from(e)},d={},f={$set:function(e,t,n){var r= __get$(e,t) ;return n===r?[n,null]:[n,a(e.hasOwnProperty(t)?"change":"add",r,n)]},$push:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $push command on non array object is forbidden.");var i=r.concat([n]);return[i,o(r,i,r.length,0,[n])]},$unshift:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $unshift command on non array object is forbidden.");var i=[n].concat(r);return[i,o(r,i,0,0,[n])]},$pop:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $pop command on non array object is forbidden.");if(r.length&&(!0===n||"function"==typeof n&&n(r))){var i=r.slice(0,-1);return[i,o(r,i,r.length,1,[])]}return[r,null]},$shift:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $shift command on non array object is forbidden.");if(r.length&&(!0===n||"function"==typeof n&&n(r))){var i=r.slice(1);return[i,o(r,i,r.length,1,[])]}return[r,null]},$removeAt:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $removeAt command on non array object is forbidden.");if(n>=r.length||n<0)return[r,null];var i=r.slice(0,n).concat(r.slice(n+1));return[i,o(r,i,n,1,[])]},$remove:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $removeAt command on non array object is forbidden.");var a=i(r,n);if(-1===a)return[r,null];var s=r.slice(0,a).concat(r.slice(a+1));return[s,o(r,s,a,1,[])]},$splice:function(e,t,n){var r=u(n),i=r[0],a=r[1],s=r.slice(2),c= __get$(e,t) ;if(!Array.isArray(c))throw new Error("Usage of $splice command on non array object is forbidden.");var h=c.slice(0,i).concat(s).concat(c.slice(i+a));return[h,o(c,h,i,a,s)]},$map:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $map command on non array object is forbidden.");var i=r.map(n);return[i,a("change",r,i)]},$filter:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $filter command on non array object is forbidden.");var i=r.filter(n);return[i,a("change",r,i)]},$reduce:function(e,t,n){var r= __get$(e,t) ;if(!Array.isArray(r))throw new Error("Usage of $reduce command on non array object is forbidden.");var i="function"==typeof n?r.reduce(n):r.reduce.apply(r,p(n));return[i,a("change",r,i)]},$merge:function(e,n,r){var i= __get$(e,n) ||{},s=t(i),o={};for(var c in r)if(r.hasOwnProperty(c)){var h= __get$(r,c) ,l= __get$(i,c) ;if(h!==l){ __set$(s,c,h) ;var u=i.hasOwnProperty(c)?"change":"add"; __set$(o,c,a(u,l,h)) }}return[s,o]},$defaults:function(e,n,r){var i= __get$(e,n) ,s=t(i),o={};for(var c in r)r.hasOwnProperty(c)&&void 0=== __get$(s,c) &&( __set$(s,c,__get$(r,c)) , __set$(o,c,a("add",void 0,__get$(r,c))) );return[s,o]},$apply:function(e,t,n){var r=n( __get$(e,t) );return[r,a(e.hasOwnProperty(t)?"change":"add", __get$(e,t) ,r)]},$omit:function(e,t,n){var r= __get$(e,t) ;return!0===n||"function"==typeof n&&n(r)?[d,a("remove",r,void 0)]:[r,null]},$composeBefore:function(e,t,n){var r= __get$(e,t) ;if("function"!=typeof r)throw new Error("Usage of $composeBefore command on non function object is forbidden.");if("function"!=typeof n)throw new Error("Passing non function object to $composeBefore command is forbidden");var i=function(){return r(n.apply(void 0,arguments))};return[i,a("change",r,i)]},$composeAfter:function(e,t,n){var r= __get$(e,t) ;if("function"!=typeof r)throw new Error("Usage of $composeAfter command on non function object is forbidden.");if("function"!=typeof n)throw new Error("Passing non function object to $composeAfter command is forbidden");var i=function(){return n(r.apply(void 0,arguments))};return[i,a("change",r,i)]}},v=Object.keys(f),m=v.map((function(e){return e.slice(1)})),g=function e(t,i){var a=n(v,(function(e){return i.hasOwnProperty(e)}));if(a){var s={source:t},o= __get$(i,a) ;return  __call$(f,a,[s,"source",o]) }var c=function(r){var a= __get$(i,r) ,s=n(v,(function(e){return a.hasOwnProperty(e)}));return s? __call$(f,s,[t,r,__get$(a,s)]) :e( __get$(t,r) ||{},a)},h=function(e,t){for(var n in i)if(!e.hasOwnProperty(n)&&i.hasOwnProperty(n)){var r=c(n),a=l(r,2),s=a[0],o=a[1]; __set$(t,n,o) ,s!==d&&( __set$(e,n,s) )}return[e,t]};if(Array.isArray(t)){for(var u=[],p={},m=0;m<t.length;m++)if(i.hasOwnProperty(m)){var g=c(m),y=l(g,2),b=y[0],w=y[1];r(w)&&( __set$(p,m,w) ),b!==d&&u.push(b)}else u.push( __get$(t,m) );return h(u,p)}var x={},_={};for(var C in t)if(i.hasOwnProperty(C)){var N=c(C),S=l(N,2);b=S[0],w=S[1],r(w)&&( __set$(_,C,w) ),b!==d&&( __set$(x,C,b) )}else  __set$(x,C,__get$(t,C)) ;return h(x,_)},y=function(e,t){return g(e,t)[0]},b="[".charCodeAt(0),w=function(e){if(Array.isArray(e))return e;for(var t=(e+"").split("."),n=[],r=0;r<t.length;r++){var i= __get$(t,r) ,a=i.indexOf("[");if(a>=0)for(a>0&&(n.push(i.slice(0,a)),i=i.slice(a));i.charCodeAt(0)===b;){var s=i.indexOf("]");if(s<0)throw new Error("Property path syntax error: "+e);var o=i.slice(1,s);if(/^[0-9]+$/.test(o))n.push(+o);else{if(!/^(['"])([^\1]+)\1$/.test(o))throw new Error("Property path syntax error: "+e);n.push(new Function("return "+o)())}i=i.slice(s+1)}else n.push(i)}return n},x=function(e,t){if(null==e)return t;for(var n=w(e),r={},i=r,a=0;a<n.length-1;a++)i= __set$(i,__get$(n,a),{}) ;return  __set$(i,__get$(n,n.length-1),t) ,r},_=function(e,t,n){return y(e,x(t,{$set:n}))},C=function(e,t,n){return y(e,x(t,{$push:n}))},N=function(e,t,n){return y(e,x(t,{$unshift:n}))},S=function(e,t,n){return y(e,x(t,{$pop:n}))},A=function(e,t,n){return y(e,x(t,{$shift:n}))},E=function(e,t,n){return y(e,x(t,{$removeAt:n}))},k=function(e,t,n){return y(e,x(t,{$remove:n}))},D=function(e,t,n,r){for(var i=arguments.length,a=Array(i>4?i-4:0),s=4;s<i;s++) __set$(a,s-4,__get$(arguments,s)) ;var o=[n,r].concat(a);return y(e,x(t,{$splice:o}))},T=function(e,t,n){return y(e,x(t,{$map:n}))},I=function(e,t,n){return y(e,x(t,{$filter:n}))},P=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++) __set$(r,i-2,__get$(arguments,i)) ;var a=1===r.length?{$reduce:r[0]}:{$reduce:r};return y(e,x(t,a))},O=function(e,t,n){return y(e,x(t,{$merge:n}))},R=function(e,t,n){return y(e,x(t,{$defaults:n}))},L=function(e,t,n){return y(e,x(t,{$apply:n}))},M=function(e,t){return y(e,x(t,{$omit:!(arguments.length>2&&void 0!==arguments[2])||arguments[2]}))},B=function(e,t,n){return y(e,x(t,{$composeBefore:n}))},j=function(e,t,n){return y(e,x(t,{$composeAfter:n}))},U=function(e,t,n,r){if(Array.isArray(n)){var i=function(){var i=n.map((function(t){return t(e)})),a=function(e){return r.apply(void 0,p(i).concat([e]))};return{v:L(e,t,a)}}();if("object"===(void 0===i?"undefined":c(i)))return i.v}var a=n(e),s=function(e){return r(a,e)};return L(e,t,s)},H={},q=function e(t,n){return m.reduce((function(r,i){return  __set$(r,i,function(r){for(var a=arguments.length,s=Array(a>1?a-1:0),o=1;o<a;o++)__set$(s,o-1,__get$(arguments,o));var c=h({},"$"+i,1===s.length?s[0]:s),l=O(n,r,c);return e(t,l);}) ,r}),{value:function(){return y(t,n)},withDiff:function(){return g(t,n)}})},Q=function(e){return q(e,H)},F=function e(t){return m.reduce((function(n,r){return  __set$(n,r,function(n){for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)__set$(a,s-1,__get$(arguments,s));var o=h({},"$"+r,1===a.length?a[0]:a),c=O(t,n,o);return e(c);}) ,n}),{build:function(){var e=function(e){return y(e,t)};return e.withDiff=function(e){return g(e,t)},e},buildWithDiff:function(){return function(e){return g(e,t)}}})},z=F({}),$=function(){return z};e.chain=Q,e.immutable=Q,e.macro=$,e.builder=$,e.updateBuilder=$,e.update=y,e.withDiff=g,e.set=_,e.push=C,e.unshift=N,e.pop=S,e.shift=A,e.removeAt=E,e.remove=k,e.splice=D,e.map=T,e.filter=I,e.reduce=P,e.merge=O,e.defaults=R,e.apply=L,e.omit=M,e.composeBefore=B,e.composeAfter=j,e.applyWith=U,Object.defineProperty(e,"__esModule",{value:!0})},n(t)}(0,M.exports);var B,j,U,H,q,Q,F,z,$,G=M.exports;function J(e,t){for(var n=t.length-1;n>=0;n--)if( __get$(t,n) .id===e)return n;return-1}(function(e){ __set$(e,e.SUCCESS=0,"SUCCESS") , __set$(e,e.FAIL=1,"FAIL") })(B||(B={})),function(e){e.HTTP="HTTP",e.SSE="SSE"}(j||(j={})),function(e){e.INIT="INIT",e.LOADING="LOADING",e.GENERATING="GENERATING",e.COMPLETE="COMPLETE",e.ERROR="ERROR",e.ABORT="ABORT"}(U||(U={})),function(e){e.IDLE="IDLE",e.WAITING="WAITING",e.GENERATING="GENERATING",e.COMPLETE="COMPLETE",e.ABORT="ABORT"}(H||(H={})),function(e){e.BEFORE_WAITING_ERROR="beforeWaitingError",e.GENERATING_ERROR="generatingError",e.USER_ABORT="userAbort",e.CLOSE="close",e.COMPLETE="complete",e.TOPICT_DELETED="topictDeleted"}(q||(q={})),function(e){e.DANGER_CHECK="dangerCheck",e.SEARCH_GENERATE="searchGenerate"}(Q||(Q={})),function(e){e.START="start",e.END="end",e.RECEIVE="receive"}(F||(F={})),function(e){e.NEW_REQUEST="newRequest",e.DANGER_CHECK_FAIL="dangerCheckFail"}(z||(z={})),function(e){e.PUSH="behind",e.UNSHIFT="ahead",e.INSERT="middle"}($||($={}));var W=function(){function e(){this.QA_PAIR_ID=1,this.ANSWER_ID_MAP={}}return e.prototype.getChatStreamActions=function(){var e=this;return{sendPrompt:function(t,n){return c(e,[t,n],void 0,(function(e,t){var n,r,i,a,s,o,c,l,u,p,d,f,v,m,g,y=e.prompt,b=e.requestType,w=e.show,x=void 0===w||w,C=t.dispatch;return h(this,(function(e){switch(e.label){case 0:if(n=y.question,r=y.promptContent,i=y.extraData,a=y.sseExtraData,s=y.scrollToTop,o=Array.isArray(n)?n:[n],c=null==a?void 0:a.withoutStopLastSse,null==a||delete a.withoutStopLastSse,l=this.QA_PAIR_ID++,u={compType:"qaPair",promptContent:r,question:o,answerList:[],id:l,status:U.INIT,show:x,showAnswerId:0,perfInfo:{},requestInfo:{},isSafe:!0,prevQ:null,scrollToTop:s,retry:!1},C("addQAPair",u),p="",!_(r))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r];case 2:if(d=e.sent()){if(f=d.asyncPromptContent,v=d.asyncExtraData,m=d.asyncSseExtraData,!f)return console.warn("Promise 返回值中需要提供asyncPromptContent"),[2];p=f,u.promptContent=f,C("updateQAPairPrompt",{id:u.id,promptContent:p}),i= __call$(Object,"assign",[i,v]) ,a= __call$(Object,"assign",[a,m]) }return[3,4];case 3:return g=e.sent(),console.warn("sendPrompt Promise 错误",null==g?void 0:g.message),[2];case 4:return C("addAnswer",u),!c&&C("stopFetch",z.NEW_REQUEST),C("fetchAnswerData",{QAPair:u,requestType:b,extraData:i,sseExtraData:a}),[2]}}))}))},addQAPair:function(e,t){var n=t.dispatch;n("addChatStreamData",{chatStreamData:e,type:$.PUSH}),n("updateCurrentQA",e.id),n("updateQAPairContext",e.id)},addChatStreamData:function(e,t){var n=e.chatStreamData,r=e.type,i=void 0===r?$.PUSH:r,a=t.getState;if(i===$.UNSHIFT){var s=a("currentQAPairIndex");return s>-1?G.builder().unshift("chatStreamData",n).set("currentQAPairIndex",s+1):G.builder().unshift("chatStreamData",n)}return G.builder().push("chatStreamData",n)},setCurrentQid:function(e){return G.builder().set("currentQid",e)},setCurrentQAPairIndex:function(e,t){var n=t.getState;if(!y(e)){var r=J(e,n("chatStreamData"));return G.builder().set("currentQAPairIndex",r)}},updateCurrentQA:function(e,t){var n=t.dispatch;n("setLastQAIndex",{}),n("setCurrentQid",e),n("setCurrentQAPairIndex",e)},setLastQAIndex:function(e,t){var n=(0,t.getState)("currentQAPairIndex");if(n>-1)return G.builder().set("lastQAPairIndex",n)},fetchAnswerData:function(e,t){var n=e.QAPair,r=e.requestType,i=e.extraData,a=e.sseExtraData,s=t.dispatch;s("dangerCheck",n),s("fetch",{QAPair:n,requestType:r,extraData:i,sseExtraData:a})},deleteQAPairData:function(e,t){var n=t.getState,r=t.dispatch,i=!1,a=n("currentQAPairIndex"),s=n("currentQAPairIndex"),o=n("currentQid"),c=n("lastQAPairIndex"),h=n("chatStreamData");if(e===o){for(var l=h.length-2;l>=0;l--)if("qaPair"=== __get$(h,l) .compType&& __get$(h,l) .show){o= __get$(h,l) .id,s=l,i=!0;break}i||(o=0,s=-1,c=-1)}else a=J(e,n("chatStreamData")),s--,c--;return r("resetQAPairContext",a),G.builder().splice("chatStreamData",a,1).set("currentQid",o).set("currentQAPairIndex",s).set("lastQAPairIndex",c)},resetQAPairContext:function(e,t){var n=t.getState,r=t.dispatch,i=n("chatStreamData[".concat(e,"]")).prevQ,a=n("chatStreamData[".concat(e,"].answerList[").concat(n("chatStreamData[".concat(e,"].showAnswerId"))-1,"].nextQ"));if(!x(i)&&!y(i)){var s=u(i.split("_"),2),o=s[0],c=s[1];r("setQAPairNextQ",{QAIndex:J(Number(o),n("chatStreamData")),answerIndex:c-1,nextQ:a})}x(a)||y(i)||r("setQAPairPrevQ",{QAIndex:J(a,n("chatStreamData")),prevQ:i})},setQAPairPrevQ:function(e){var t=e.QAIndex,n=e.prevQ;return G.builder().set("chatStreamData[".concat(t,"].prevQ"),n)},setQAPairNextQ:function(e){var t=e.QAIndex,n=e.answerIndex,r=e.nextQ;return G.builder().set("chatStreamData[".concat(t,"].answerList[").concat(n,"].nextQ"),r)},removeQAPairStateChange:function(e,t){var n=t.getState,r=t.dispatch,i=J(e,n("chatStreamData"));if(i>-1){var a=n("chatStreamData[".concat(i,"].isSafe")),s=n("chatStreamData[".concat(i,"].upward")),o=n("chatStreamData[".concat(i,"].scrollToTop")),c=n("chatStreamData[".concat(i,"].dangerMsg"));if(!a&&(!o||s)){r("deleteQAPairData",e);var h=n("requestService").dangerCheck.failCallback;h&&h(c)}}},updateQAPairDangerState:function(e,t){var n=e.id,r=e.danger,i=e.dangerMsg,a=t.getState,s=J(n,a("chatStreamData")),o=a("chatStreamData[".concat(s,"].dangerMsg"))||i;if(s>-1)return G.builder().set("chatStreamData[".concat(s,"].isSafe"),!r).set("chatStreamData[".concat(s,"].dangerMsg"),o)},updateQAPairUpwardStatus:function(e,t){var n=e.id,r=e.upward,i=J(n,(0,t.getState)("chatStreamData"));if(i>-1)return G.builder().set("chatStreamData[".concat(i,"].upward"),r)},addAnswer:function(t,n){var r=n.getState,i=n.dispatch,a=t.id; __get$(e.ANSWER_ID_MAP,a) ?e.ANSWER_ID_MAP[a]++: __set$(e.ANSWER_ID_MAP,a,1) ;var s= __get$(e.ANSWER_ID_MAP,a) ,o=J(a,r("chatStreamData"));return i("updateShowAnswerId",{QAPairIndex:o,showAnswerId:s}),G.builder().push("chatStreamData[".concat(o,"].answerList"),{id:s,answer:{status:H.IDLE,answerData:[]},nextQ:null})},updateAnswer:function(t,n){var r=t.answerData,i=t.status,a=t.id,s=t.aid,o=t.perfData,c=n.getState,h=J(a,c("chatStreamData"));if(h>-1){var l=s?s-1: __get$(e.ANSWER_ID_MAP,a) -1,u=o||c("chatStreamData[".concat(h,"].answerList[").concat(l,"].answer.perfData"));return G.builder().set("chatStreamData[".concat(h,"].answerList[").concat(l,"].answer.status"),i).push("chatStreamData[".concat(h,"].answerList[").concat(l,"].answer.answerData"),r).set("chatStreamData[".concat(h,"].answerList[").concat(l,"].answer.perfData"),u)}},updateQAPairStatus:function(e,t){var n=e.id,r=e.status,i=J(n,(0,t.getState)("chatStreamData"));if(i>-1)return G.builder().set("chatStreamData[".concat(i,"].status"),r)},updateQAPairContext:function(e,t){var n=t.getState,r=n("lastQAPairIndex"),i=n("currentQAPairIndex");if(r>-1){var a=n("chatStreamData[".concat(r,"].showAnswerId"));if(a&&n("chatStreamData[".concat(r,"].answerList[").concat(a-1,"]"))){var s= __get$(n("chatStreamData"),r) .id;return G.builder().set("chatStreamData[".concat(r,"].answerList[").concat(a-1,"].nextQ"),e).set("chatStreamData[".concat(i,"].prevQ"),"".concat(s,"_").concat(a))}}},showAnswerIdChange:function(e,t){var n=e.id,r=e.showAnswerId,i=t.getState,a=t.dispatch,s=i("chatStreamData"),o=J(n,s);a("updateShowAnswerId",{QAPairIndex:o,showAnswerId:r});var c=i("chatStreamData[".concat(o,"].answerList[").concat(r-1,"].nextQ"));if(c){var h=J(c,s);a("showAnswerIdChange",{id: __get$(s,h) .id,showAnswerId:1}),a("updateQAPairShowStatus",{QAPairIndex:h,status:!0})}else for(var l=o+1;l<s.length;l++)"qaPair"=== __get$(s,l) .compType&&a("updateQAPairShowStatus",{QAPairIndex:l,status:!1});for(l=s.length-1;l>=0;l--)if("qaPair"=== __get$(s,l) .compType&& __get$(s,l) .show){a("updateCurrentQA", __get$(s,l) .id);break}},multiAnswerSwitch:function(e,t){var n=e.id,r=e.showAnswerId,i=t.getState,a=t.dispatch;a("showAnswerIdChange",{id:n,showAnswerId:r});for(var s=i("chatStreamData"),o=s.length-1;o>=0;o--)if("qaPair"=== __get$(s,o) .compType&& __get$(s,o) .show){a("updateCurrentQA", __get$(s,o) .id);break}},updateShowAnswerId:function(e){var t=e.QAPairIndex,n=e.showAnswerId;return G.builder().set("chatStreamData[".concat(t,"].showAnswerId"),n)},updateQAPairShowStatus:function(e){var t=e.QAPairIndex,n=e.status;return G.builder().set("chatStreamData[".concat(t,"].show"),n)},regenerateAnswer:function(e,t){var n=e.id,r=e.requestType,i=e.sseExtraData,a=t.getState,s=t.dispatch,o=J(n,a("chatStreamData")),c= __get$(a("chatStreamData"),o) ;s("addAnswer",c),s("stopFetch",z.NEW_REQUEST),s("fetch",{QAPair:c,requestType:r,sseExtraData:i})},updateQAPair:function(e,t){var n=e.id,r=e.pairStatus,i=e.answerStatus,a=e.data,s=e.aid,o=e.perfData,c=t.dispatch;c("updateQAPairStatus",{id:n,status:r}),c("updateAnswer",{id:n,status:i,answerData:a,aid:s,perfData:o})},replaceAnswer:function(e,t){var n=e.qid,r=e.aid,i=e.requestType,a=e.sseExtraData,s=e.extraData,o=t.getState,c=t.dispatch,h=J(n,o("chatStreamData"));c("clearAnswer",{QAPairIndex:h,aid:r}),c("stopFetch",z.NEW_REQUEST),c("updateQAPairRetryState",{id:n,retryState:!0}),c("fetch",{QAPair: __get$(o("chatStreamData"),h) ,requestType:i,aid:r,sseExtraData:a,extraData:s,isRetry:!0})},clearAnswer:function(e){var t=e.QAPairIndex,n=e.aid;return G.builder().set("chatStreamData[".concat(t,"].answerList[").concat(n-1,"].answer"),{status:H.IDLE,answerData:[]})},updatedQAPariRequestInfo:function(e,t){var n=e.id,r=e.requestInfo,i=J(n,(0,t.getState)("chatStreamData"));if(i>-1)return G.builder().set("chatStreamData[".concat(i,"].requestInfo"),r)},addTip:function(e,t){var n=e.tipConfig,r=e.type,i=t.dispatch;n.compType="tip",i("addChatStreamData",{chatStreamData:n,type:r})},addKnowledgeHeader:function(e,t){(0,t.dispatch)("addChatStreamData",{chatStreamData:{compType:"knowledge-header"}})},removeKnowledgeHeader:function(e,t){var n=(0,t.getState)("chatStreamData").findIndex((function(e){return"knowledge-header"===e.compType}));return n>=0?G.builder().splice("chatStreamData",n,1):G.builder()},setPerfInfo:function(e,t){var n=e.id,r=e.type,i=e.perfInfo,a=J(n,(0,t.getState)("chatStreamData"));if(a>-1)return G.builder().set("chatStreamData[".concat(a,"].perfInfo.").concat(r),i)},reset:function(){return G.builder().set("chatStreamData",[]).set("currentQid",0).set("currentQAPairIndex",-1).set("lastQAPairIndex",-1).set("oldestQAPairId",null)},setOldestQAPairId:function(e){var t=e.oldestQAPairId;return G.builder().set("oldestQAPairId",t)},addHistoryData:function(t,n){var r=t.historyData,i=t.appendRender,a=t.type,s=void 0===a?$.UNSHIFT:a,o=n.getState,c=n.dispatch,h=x(o("oldestQAPairId"))?1:o("oldestQAPairId");i&&(s=$.PUSH),r.forEach((function(t){var n={compType:"qaPair",promptContent:t.query,question:Array.isArray(t.question)?t.question:[t.question],answerList:t.chatResponse,id:s===$.UNSHIFT?--h:e.QA_PAIR_ID++,status:U.COMPLETE,show:!0,showAnswerId:1,perfInfo:{},requestInfo:{},isSafe:!0,isHistory:!0,appendRender:i,scrollToTop:!1},r=i?$.PUSH:$.UNSHIFT;r===$.UNSHIFT?c("addChatStreamData",{chatStreamData:n,type:r}):c("addQAPair",n)})),c("addHistoryDataComplete",{status:!0,dataCount:r.length,appendRender:i}),c("setOldestQAPairId",{oldestQAPairId:h})},addHistoryDataComplete:function(e){return G.builder().set("addHistoryDataComplete",e)},updateQAPairRetryState:function(e,t){var n=e.id,r=e.retryState,i=J(n,(0,t.getState)("chatStreamData"));if(i>-1)return G.builder().set("chatStreamData[".concat(i,"].retry"),r)},updateQAPairPrompt:function(e,t){var n=e.id,r=e.promptContent,i=J(n,(0,t.getState)("chatStreamData"));return G.builder().set("chatStreamData[".concat(i,"].promptContent"),r)},showQAPair:function(e,t){for(var n=t.getState,r=t.dispatch,i=n("chatStreamData"),a=0;a<i.length;a++)"qaPair"=== __get$(i,a) .compType&& __get$(i,a) .isSafe&&r("updateQAPairShowStatus",{QAPairIndex:a,status:!0})}}},e}(),V={method:"get",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}};function Y(e,t){t.method&&(t.method=t.method.toLowerCase());var n=o({},V);if(Object.keys(t).forEach((function(e){"headers"===e? __call$(Object,"assign",[n.headers,t.headers]) : __set$(n,e,__get$(t,e)) })),"get"===n.method){var r=t.data;if(!g(r))throw new TypeError("data type error");var i=C(r);e="".concat(e).concat(e.includes("?")?"&":"?").concat(i)}else if("post"===n.method){var a=t.body;if(!g(a))throw new TypeError("data type error");n.headers["Content-Type"].includes("urlencoded")?n.body=C(a):n.body=a}return{url:e,fetchOptions:n}}function K(e,t){return X.apply(this,arguments)}function X(){return(X=r(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader();case 1:return e.next=3,r.read();case 3:if((i=e.sent).done){e.next=7;break}n(i.value),e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){var t,n,r,i=!1;return function(a){void 0===t?(t=a,n=0,r=-1):t=te(t,a);for(var s=t.length,o=0;n<s;){i&&(10=== __get$(t,n) &&(o=++n),i=!1);for(var c=-1;n<s&&-1===c;++n)switch( __get$(t,n) ){case 58:-1===r&&(r=n-o);break;case 13:i=!0;case 10:c=n}if(-1===c)break;e(t.subarray(o,c),r),o=n,r=-1}o===s?t=void 0:0!==o&&(t=t.subarray(o),n-=o)}}function ee(e,t,n){var r=ne(),i=new TextDecoder;return function(a,s){if(0===a.length)null==n||n(r),r=ne();else if(s>0){var o=i.decode(a.subarray(0,s)),c=s+(32=== __get$(a,s+1) ?2:1),h=i.decode(a.subarray(c));switch(o){case"data":r.data=r.data?r.data+"\n"+h:h;break;case"event":r.event=h;break;case"id":e(r.id=h);break;case"retry":var l=parseInt(h,10);isNaN(l)||t(r.retry=l)}}}}function te(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function ne(){return{data:"",event:"",id:"",retry:void 0}}var re,ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&( __set$(n,r,__get$(e,r)) );if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf( __get$(r,i) )<0&&Object.prototype.propertyIsEnumerable.call(e, __get$(r,i) )&&( __set$(n,__get$(r,i),__get$(e,__get$(r,i))) )}return n},ae="text/event-stream",se=1e3,oe="last-event-id";function ce(e,t){var n=t.signal,i=t.headers,s=t.onopen,o=t.onmessage,c=t.onclose,h=t.onerror,l=t.openWhenHidden,u=t.fetch,p=ie(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return  new Promise(function(t,d){var f,v=__call$(Object,"assign",[{},i]);function m(){f.abort(),document.hidden||_();}v.accept||(v.accept=ae),l||document.addEventListener("visibilitychange",m);var g=se,y=0;function b(){document.removeEventListener("visibilitychange",m),window.clearTimeout(y),f.abort();}null==n||n.addEventListener("abort",function(){b(),t();});var w=null!=u?u:window.fetch,x=null!=s?s:he;function _(){return C.apply(this,arguments);}function C(){return C=r(a().mark(function n(){var r,i,s;return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return f=new AbortController(),n.prev=1,n.next=4,w(e,__call$(Object,"assign",[__call$(Object,"assign",[{},p]),{headers:v,signal:f.signal}]));case 4:return i=n.sent,n.next=7,x(i);case 7:return n.next=9,K(i.body,Z(ee(function(e){e?__set$(v,oe,e):delete v[oe];},function(e){g=e;},o)));case 9:null==c||c(),b(),t(),n.next=17;break;case 14:if(n.prev=14,n.t0=n.catch(1),!f.signal.aborted)try{s=null!==(r=null==h?void 0:h(n.t0))&&void 0!==r?r:g,window.clearTimeout(y),y=window.setTimeout(_,s);}catch(e){b(),d(e);}case 17:case"end":return n.stop();}},n,null,[[1,14]]);})),C.apply(this,arguments);}_();}) }function he(e){var t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(ae)))throw new Error("Expected content-type to be ".concat(ae,", Actual: ").concat(t))}!function(e){e.BEFORE_WAITING_ERROR="beforeWaitingError",e.GENERATING_ERROR="generatingError",e.USER_ABORT="userAbort",e.CLOSE="close",e.COMPLETE="complete",e.TOPICT_DELETED="topictDeleted"}(re||(re={}));var le,ue,pe="generate-complete",de="generating-resp",fe="waiting-resp";(function(e){ __set$(e,e.IDLE=0,"IDLE") , __set$(e,e.WAITING=1,"WAITING") , __set$(e,e.GENERATING=2,"GENERATING") , __set$(e,e.COMPLETE=3,"COMPLETE") , __set$(e,e.ABORT=4,"ABORT") })(le||(le={})),function(e){e.FETCH_START="fetchStart",e.OPEN="open",e.FIRST_PACKAGE="firstPackage",e.PACKAGE_INTERVAL="packageInterval",e.FETCH_END="fetchEnd"}(ue||(ue={}));var ve,me=[0,1001,1002,1003,1004,1005];!function(e){e.START="start",e.OPEN="open",e.MESSAGE="message",e.ERROR="error",e.COMPLETE="complete"}(ve||(ve={}));var ge,ye="/aichat/api/conversation",be=function(){function e(){this.resetPerf()}return e.prototype.setPerf=function(e,t,n){var r=t||Date.now();switch(e){case ue.FETCH_START:this.startTime=r;break;case ue.OPEN:this.openTime=r;break;case ue.PACKAGE_INTERVAL:var i= __get$(this.perfData.packageIntervalList,this.perfData.packageIntervalList.length-1) ,a=i?r-i.time:0;this.perfData.packageIntervalList.push({time:r,interval:a,packageId:n});break;case ue.FETCH_END:this.endTime=r}},e.prototype.gerPerf=function(){var e,t=this.perfData.packageIntervalList;this.firstPackageTime=(null===(e=t[0])||void 0===e?void 0:e.time)||0,this.perfData.fetchToOpen=this.openTime-this.startTime,this.perfData.openToFirstPackage=this.firstPackageTime-this.openTime,this.perfData.total=this.endTime-this.startTime;var n= __get$(t,t.length-1) ;if(n){var r=n.packageId+1;this.perfData.totalPackagesNum=r;var i=this.perfData.packageIntervalList.reduce((function(e,t){return void 0!==t.packageId?e+1:e}),0);this.perfData.lostPackages=r-i}return this.perfData.startTime=this.startTime,this.perfData.openTime=this.openTime,this.perfData},e.prototype.resetPerf=function(){this.perfData={total:0,fetchToOpen:0,openToFirstPackage:0,packageIntervalList:[],totalPackagesNum:0,lostPackages:0,startTime:0,openTime:0},this.startTime=0,this.endTime=0,this.openTime=0,this.firstPackageTime=0},e}();function we(e){var t=e.message||{},n=t.inputMethod,r=void 0===n?"":n,i=t.source,a=void 0===i?"":i,s=t.content,o=void 0===s?{}:s,c=t.searchInfo,h={sessionId:(void 0===c?{}:c).ori_lid,pvId:"",inputMethod:r,source:a,query:encodeURIComponent(o.query)};return Object.keys(h).map((function(e){return"".concat(e,":").concat( __get$(h,e) )})).join(",")}function xe(e,t){for(var n=[],r=0;;){var i=e.indexOf(t,r);if(-1===i)break;n.push(i),r=i+t.length}return n}!function(e){e.START="\x3c!--chat-sse-data-start",e.END="chat-sse-data-end--\x3e"}(ge||(ge={}));var _e=function(){function e(e){this.degradeSSEBody=null,this.parsedLastIndex=0,this.chatSseIns=null,this.receiveSseData=!1,this.isGenerateComplete=!1,this.isRunning=!1,this.needGenerate=!1,this.data={},this.chatSseIns=e}return e.prototype.request=function(e){var t=this;void 0===e&&(e={}),this.data=e,this.degradeSSEBody= __call$(Object,"assign",[{},e.degradeSSEBody]) ,this.parsedLastIndex=0,this.receiveSseData=!1,this.isGenerateComplete=!1,this.isRunning=!0,this.fetchText(this.chatSseIns.url,{headers:e.searchHeaders||{},onOpen:function(){t.chatSseIns.customDataProcess("open")},onProgress:function(e,n){e&&t.processSSEContent(e)},onComplete:this.onComplete.bind(this)}).catch((function(e){t.xhr=null,t.parseError(e)}))},e.prototype.fetchText=function(e,t){var n=this;return  new Promise(function(r,i){var a="GET",s=t.body||{},o=__call$(Object,"assign",[{chat_sse_long_time:1},t.headers||{}]),c=new FormData(),h=n.xhr=new XMLHttpRequest();function l(){t.onProgress&&t.onProgress(h.responseText,{sseContent:h.responseText});}h.open(a,e,!0),h.withCredentials=!0,Object.keys(o).forEach(function(e){h.setRequestHeader(e,__get$(o,e));}),Object.keys(s).forEach(function(e){c.append(e,__get$(s,e));}),h.onreadystatechange=function(){(h.readyState===h.HEADERS_RECEIVED&&t.onOpen)&&t.onOpen(),h.readyState===h.LOADING?l():h.readyState===h.DONE&&(l(),200===h.status?t.onComplete&&t.onComplete(h.responseText,{sseContent:h.responseText}):i(new Error("Request failed with status: ".concat(h.status))));},h.onerror=function(){i(new Error("Request error"));},h.timeout=t.timeout||101e3,h.ontimeout=function(){i(new Error("Request timeout"));},h.send(c);}) },e.prototype.abort=function(){this.xhr&&this.xhr.abort()},e.prototype.onComplete=function(){var e=this;this.isRunning=!1,this.xhr=null,setTimeout((function(){if(e.receiveSseData){if(!e.isGenerateComplete)return void e.parseError(new Error("no endTurn package"))}else{if(e.needGenerate){var t=e.degradeSSEBody,n={body:t,headers:o(o({},e.data.sseHeaders||{}),{"X-Chat-Message":we(t)})};return e.chatSseIns.url=e.chatSseIns.degradeSseUrl,void e.chatSseIns.fetchSSE(n)}e.chatSseIns.customDataProcess("message",{status:0,data:{message:{content:{},metaData:{state:pe,endTurn:!0}}}})}}),10)},e.prototype.processSSEContent=function(e){var t=this,n=e.length;if(n!==this.parsedLastIndex){var r=e.substring(this.parsedLastIndex,n),i=xe(r,ge.START),a=xe(r,ge.END),s=[];a.length>0&&(this.parsedLastIndex+= __get$(a,a.length-1) +ge.END.length),i.forEach((function(e,n){var i,o,c= __get$(a,n) ;if(void 0!==e&&void 0!==c)try{var h=r.substring(e,c),l=h.indexOf(":"),u=h.substring(0,l).match(/\[([0-9a-zA-Z]+)\]/),p="generator";u&&u[1]&&(p=u[1]);var d=h.substring(l+1,c),f={};"card"!==p||d.startsWith("{")?(f=JSON.parse(d),"baseData"!==p||(null===(i=f.data)||void 0===i?void 0:i.message)||(f.chatGenerate&&(t.needGenerate=!0),f.chatFallbackReqBody&&(t.degradeSSEBody=JSON.parse(f.chatFallbackReqBody),(null===(o=f.chatParams)||void 0===o?void 0:o.sse_ws_host)&&(t.chatSseIns.degradeSseUrl=f.chatParams.sse_ws_host+ye)),f={status:0,data:{message:{content:f,metaData:{state:de}}}})):f={status:0,data:{message:{content:d,metaData:{state:de}}}},f.type=f.type||p,s.push(f)}catch(e){t.parseError(e)}})),s.forEach((function(e){t.sseDataProcess(e)}))}},e.prototype.sseDataProcess=function(e){var t,n,r;void 0===e&&(e={}),"generator"===e.type&&(this.receiveSseData||(this.receiveSseData=!0)),(null===(r=null===(n=null===(t=e.data)||void 0===t?void 0:t.message)||void 0===n?void 0:n.metaData)||void 0===r?void 0:r.endTurn)&&(this.isGenerateComplete=!0),this.chatSseIns.customDataProcess("message",e)},e.prototype.parseError=function(e){this.chatSseIns.customDataProcess("error",e)},e}(),Ce=function(){function e(e){this.degradeSseUrl="https://chat-ws.baidu.com"+ye,this.url="",this.status=le.IDLE,this.eventListeners={open:function(){},waiting:function(){},message:function(){},complete:function(){},abort:function(){}},this.cacheDataTask=[],this.cacheMessage=!1,this.isCustomData=!1,this.debugSwitch=!1,this.streamMode="sse",this.url=e.url,this.degradeSseUrl=e.degradeSseUrl||this.degradeSseUrl,this.cacheMessage=!!e.cacheMessage,this.isCustomData=!!e.isCustomData,this.streamMode=e.streamMode||"sse",this.abortController=new AbortController,this.cacheDataTask=[],this.perf=new be,this.handleDebugMode(),"chunk"===this.streamMode&&(this.chunkStreaming=new _e(this))}return e.prototype.on=function(e,t){this.eventListeners.hasOwnProperty(e)&&( __set$(this.eventListeners,e,t) )},e.prototype.triggerEvent=function(e,t,n){this.debug("triggerEvent",{eventName:e,callbackParams:n});var r= __get$(this.eventListeners,e) ;"function"==typeof r&&(this.cacheMessage&&"newMsg"===t?this.cacheDataTask.push({eventName:e,callbackParams:n}):r(n.data,n.sseStatus,n.perfData))},e.prototype.flushCacheData=function(){if(0!==this.cacheDataTask.length){for(;this.cacheDataTask.length>0&&this.status!==le.ABORT;){var e=this.cacheDataTask.shift(),t=e.eventName,n=e.callbackParams;t&&this.triggerEvent(t,"cacheMsg",n)}if(this.cacheMessage=!1,this.cacheDataTask.length>0&&this.status===le.ABORT){var r=this.cacheDataTask.pop();t=r.eventName,n=r.callbackParams,"abort"===t&&this.triggerEvent(t,"cacheMsg",n)}this.cacheDataTask=[]}else this.cacheMessage=!1},e.prototype.getStatus=function(){return this.status},e.prototype.sseAbort=function(e,t){if(this.abortController&&this.abortController.abort(),this.perf.setPerf(ue.FETCH_END),this.abortController=new AbortController,this.status!==le.COMPLETE&&e!==re.CLOSE&&(this.status=le.ABORT,this.triggerEvent("abort","newMsg",{data:{type:e,error:t},sseStatus:this.status,perfData:this.perf.gerPerf()})),t)throw console.error("[fetchEventSource] abort",t),t},e.prototype.abort=function(){"chunk"===this.streamMode&&this.chunkStreaming.abort(),this.sseAbort(re.USER_ABORT)},e.prototype.onStart=function(){this.status=le.IDLE,this.perf.resetPerf(),this.perf.setPerf(ue.FETCH_START)},e.prototype.onOpen=function(){this.perf.setPerf(ue.OPEN),this.triggerEvent("open","newMsg",{data:{},sseStatus:this.status}),this.status=le.WAITING},e.prototype.onMessage=function(e,t){this.handleMessageData(e,t)},e.prototype.onError=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this.status===le.IDLE?re.BEFORE_WAITING_ERROR:re.GENERATING_ERROR;e.message="onerror err: "+(e.message||"")+"url-".concat(this.url," data-").concat(JSON.stringify(t)),this.sseAbort(n,e)},e.prototype.fetch=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!1),this.onStart(),this.cacheMessage=t,"chunk"!==this.streamMode?(this.abortController||(this.abortController=new AbortController),this.isCustomData=!1,this.fetchSSE(e)):this.chunkStreaming.request(e)},e.prototype.fetchSSE=function(e){void 0===e&&(e={});var t=e.body,n=e.sseHeaders,r=this;ce(this.degradeSseUrl,{method:"POST",headers:o({"Content-Type":"application/json"},n||{}),credentials:"include",openWhenHidden:!0,body:JSON.stringify(t),signal:r.abortController.signal,onopen:function(t){return c(this,void 0,void 0,(function(){var n;return h(this,(function(i){return t.ok?r.onOpen():(n="onopen err: url-".concat(r.url," ok-").concat(t.ok,"\n                            status-").concat(t.status," statusText-").concat(t.statusText," data-").concat(JSON.stringify(e)),r.sseAbort(re.BEFORE_WAITING_ERROR,new Error(n))),[2]}))}))},onclose:function(){r.sseAbort(re.CLOSE)},onerror:function(t){void 0===t&&(t={}),r.onError(t,e)},onmessage:function(e){if(e.data)try{r.onMessage(JSON.parse(e.data),e.event)}catch(e){r.sseAbort(re.GENERATING_ERROR,e)}}})},e.prototype.setParams=function(e){void 0===e&&(e={}),e.url&&(this.url=e.url)},e.prototype.destroy=function(){this.abortController&&(this.abortController.abort(),this.abortController=null),this.eventListeners={open:function(){},waiting:function(){},message:function(){},complete:function(){},abort:function(){}},this.url="",this.status=le.IDLE,this.cacheMessage=!1,this.cacheDataTask=[]},e.prototype.handleMessageData=function(e,t){var n=e.status,r=e.data,i=void 0===r?{}:r,a=e.sessionId,s=e.isDefault,c=e.qid,h=e.seq_id,l=e.type,u=i.message||{},p=u.content,d=void 0===p?{}:p,f=u.metaData,v=void 0===f?{}:f,m=u.msgId,g=void 0===m?"":m,y={endTurn:v.endTurn,speedInfo:v.speedInfo||{},sessionId:a,msgId:g,isDefault:s,qid:c,status:n,seqId:h};me.includes(n)?1004!==n?("basedata"===t&&this.triggerEvent("message","newMsg",{data:{content:o({},e),options:y,type:"baseData",lid:e.lid},sseStatus:this.status,eventType:t}),v.state===pe&&v.endTurn?(this.perf.setPerf(ue.PACKAGE_INTERVAL,Date.now(),e.seq_id),this.perf.setPerf(ue.FETCH_END),this.status=le.COMPLETE,this.triggerEvent("complete","newMsg",{data:{content:d,options:y,type:l},sseStatus:this.status,perfData:this.perf.gerPerf()}),this.sseAbort(re.COMPLETE)):v.state===de||v.state===pe?(this.perf.setPerf(ue.PACKAGE_INTERVAL,Date.now(),e.seq_id),this.status=le.GENERATING,this.triggerEvent("message","newMsg",{data:{content:d,options:y,type:l||"generator",functional:i.message.functional},sseStatus:this.status})):v.state===fe&&(this.perf.setPerf(ue.PACKAGE_INTERVAL,Date.now(),e.seq_id),this.triggerEvent("waiting","newMsg",{data:{content:d,options:y,type:l},sseStatus:this.status}))):this.sseAbort(re.TOPICT_DELETED):console.warn("[onmessage] status error!")},e.prototype.handleDebugMode=function(){var e;try{"*"===(null===(e=window.localStorage)||void 0===e?void 0:e.getItem("chat_sse_debug"))&&(this.debugSwitch=!0)}catch(e){console.error(e)}},e.prototype.debug=function(e,t){this.debugSwitch&&"[chat-sse] ".concat(e,":")},e.prototype.customDataProcess=function(e,t){this.status!==le.ABORT&&this.isCustomData&&(e===ve.START?this.onStart():e===ve.OPEN?this.onOpen():e===ve.MESSAGE?this.onMessage(t):e===ve.ERROR&&this.onError(t))},e}(),Ne={ChatSSE:Ce};function Se(e,t,n){return{isSafe:e,res:t,QAInfo:n}}var Ae={dangerCheck:function(e,t,n){var r=Y(e,t),i=r.url,a=r.fetchOptions,s={promptContent:n.promptContent,id:n.id};return new Promise((function(e){fetch(i,a).then((function(e){return e.json()})).then((function(t){t.data?0===t.data.is_danger?e(Se(!0,t,s)):e(Se(!1,t,s)):e(Se(!0,t,s))})).catch((function(t){var n={status:-1,message:t.message};e(Se(!0,n,s))}))}))},generateSearchFetchParams:function(e){var t=e.searchGenerateConf,n=e.extraData,r=e.promptContent,i={"Content-Type":"application/json"},a="";if(t.paramsHandler){var s=t.paramsHandler(r),o=s.data,c=s.headers;g(o)&&n&& __call$(Object,"assign",[o,n]) ,c&& __call$(Object,"assign",[i,c]) ,a=C(o)}return{url:"".concat(t.host).concat(t.host.includes("?")?"&":"?").concat(a),processedHeaders:i}},generateSSEFetchParams:function(e){var t=e.searchGenerateConf,n=e.sseExtraData,r=e.promptContent,i={"Content-Type":"application/json"},a={};if(t.degradeParamsHandler){var s=t.degradeParamsHandler(r),o=s.data,c=s.headers;g(o)&&(a=A(o,n||{})),c&& __call$(Object,"assign",[i,c]) }return{body:a,sseProcessedHeaders:i}},fetchSSERequest:function(e,t,n){return new Ne.ChatSSE({streamMode:"HTTP"===t?"chunk":"sse",url:e,degradeSseUrl:n,isCustomData:!0})},getHistory:function(e,t){var n=Y(e,t),r=n.url,i=n.fetchOptions;return new Promise((function(e){fetch(r,i).then((function(e){return e.json()})).then((function(t){var n,r;+t.status===B.SUCCESS?e({status:B.SUCCESS,data:t.data}):e({status:B.FAIL,data:{historyData:(null===(n=t.data)||void 0===n?void 0:n.historyData)||[],sessionData:(null===(r=t.data)||void 0===r?void 0:r.sessionData)||{}}})})).catch((function(){e({status:B.FAIL,data:{historyData:[],sessionData:{}}})}))}))},deleteQAPairRequest:function(e,t){var n=Y(e,{method:"post",body:t}),r=n.url,i=n.fetchOptions;return i.body=JSON.stringify(i.body),new Promise((function(e){fetch(r,i).then((function(e){return e.json()})).then((function(t){+t.status===B.SUCCESS?e({status:B.SUCCESS,data:t}):e({status:B.FAIL,data:t})})).catch((function(){e({status:-1,data:{message:"delete fail"}})}))}))}},Ee={setRequestService:function(e){return G.builder().set("requestService",e)},dangerCheck:function(e,t){return c(void 0,[e,t],void 0,(function(e,t){var n,r,i,a,s,o,c,l,u=t.getState,p=t.dispatch;return h(this,(function(t){switch(t.label){case 0:return n=e.promptContent,r=u("requestService").dangerCheck,i=r.paramsHandler(n),!(a=r.needDangerCheckHandler)||a(n)?(s=+new Date,[4,Ae.dangerCheck(r.host,i,e)]):[3,2];case 1:o=t.sent(),c=+new Date,l=c-s,p("setPerfInfo",{id:e.id,type:Q.DANGER_CHECK,perfInfo:{start:s,end:c,duration:l}}),o.isSafe?p("updateQAPairDangerState",{id:e.id,danger:!1}):(p("stopFetch",z.DANGER_CHECK_FAIL),p("updateQAPairDangerState",{id:e.id,danger:!0,dangerMsg:o}),p("removeQAPairStateChange",e.id)),t.label=2;case 2:return[2]}}))}))},fetch:function(e,t){var n,r,i,a,s=e.QAPair,o=e.requestType,c=e.extraData,h=e.aid,l=e.sseExtraData,p=e.isRetry,d=t.getState,f=t.dispatch;f("updateQAPairStatus",{id:s.id,status:U.LOADING});var v=d("requestService").searchGenerate,m=v.callbacks||{},y=m.onMessageHandler,x=m.onCompleteHandler,_=m.onErrorHandler,C=m.onAbortHandler,N=m.onClosedHandler,S=null===(n=s.requestInfo)||void 0===n?void 0:n.searchRequestUrl,E=null===(r=s.requestInfo)||void 0===r?void 0:r.searchRequestHeaders,k=null===(i=s.requestInfo)||void 0===i?void 0:i.generateRequestParams,D=null===(a=s.requestInfo)||void 0===a?void 0:a.generateRequestHeaders;if(b(s.requestInfo)){var T=Ae.generateSearchFetchParams({searchGenerateConf:v,extraData:c,promptContent:s.promptContent}),I=T.url,P=T.processedHeaders,O=Ae.generateSSEFetchParams({searchGenerateConf:v,sseExtraData:l,promptContent:s.promptContent});S=I,E=P,k=O.body,D=O.sseProcessedHeaders,f("updatedQAPariRequestInfo",{id:s.id,requestInfo:{searchRequestUrl:S,generateRequestParams:k,searchRequestHeaders:E,generateRequestHeaders:D}})}else g(l)&&(k=A(k,l));if(w(c)&&p){var R=u(S.split("?"),2),L=R[0],M=R[1],B=new URLSearchParams(void 0===M?"":M);Object.keys(c).forEach((function(e){var t= __get$(c,e) ;if(g(t)){var n=B.get(e)||"{}",r={};try{r=JSON.parse(n)}catch(e){console.warn("retry parse params error",e.message)}t=JSON.stringify(A(r,t))}B.set(e,t)})),S="".concat(L,"?").concat(B.toString())}var j=Ae.fetchSSERequest(S,o,v.ssehost),Q={searchHeaders:E,sseHeaders:D,body:"HTTP"===o?{}:k},F=0;f("setCurrentChatSSEInstance",{currentChatSSEInstance:j,currentQAPair:s}),j.on("message",(function(e){f("updateQAPair",{id:s.id,pairStatus:U.GENERATING,answerStatus:H.GENERATING,data:e,aid:h}),y&&y({id:s.id,data:e})})),j.on("complete",(function(e,t,n){n.requestStartTime=F,f("updateQAPair",{id:s.id,pairStatus:U.COMPLETE,answerStatus:H.COMPLETE,data:e,aid:h,perfData:n}),f("updateQAPairRetryState",{id:s.id,retryState:!1}),f("setCurrentChatSSEInstance",{currentChatSSEInstance:null,currentQAPair:null}),x&&x({data:e,id:s.id})})),j.on("abort",(function(e){var t,n=(d("currentChatSSE")||{}).currentQAPair,r=null===(t=null==n?void 0: __get$(n.answerList,(null==n?void 0:n.answerList.length)-1) )||void 0===t?void 0:t.id;if(e.QAInfo={id:n.id,aid:h||r},e.type!==q.BEFORE_WAITING_ERROR&&e.type!==q.GENERATING_ERROR||(f("updateQAPair",{id:n.id,pairStatus:U.ERROR,answerStatus:H.ABORT,data:{type:"error"},aid:h}),f("setCurrentChatSSEInstance",{currentChatSSEInstance:null,currentQAPair:null}),_&&_(e)),e.type===q.USER_ABORT){var i=d("currentChatSSE.state").type||"userAbort";f("updateQAPair",{id:n.id,pairStatus:U.ABORT,answerStatus:H.ABORT,data:{type:i},aid:h}),f("setCurrentChatSSEInstance",{currentChatSSEInstance:null,currentQAPair:null}),e.type=i,C&&C(e)}e.type===q.CLOSE&&(f("updateQAPair",{id:n.id,pairStatus:U.ABORT,answerStatus:H.ABORT,data:{type:"close"},aid:h}),f("setCurrentChatSSEInstance",{currentChatSSEInstance:null,currentQAPair:null}),N&&N(e)),f("updateQAPairRetryState",{id:n.id,retryState:!1})})),F=+new Date,j.fetch(Q)},stopFetch:function(e,t){var n=t.getState,r=t.dispatch,i=(n("currentChatSSE")||{}).currentChatSSEInstance;i&&(r("updateCurrentChatSSEInstanceState",{state:U.ABORT,type:e}),i.abort())},updateCurrentChatSSEInstanceState:function(e){var t=e.state,n=e.type;return G.builder().set("currentChatSSE.state",{state:t,type:n})},setCurrentChatSSEInstance:function(e){var t=e.currentChatSSEInstance,n=e.currentQAPair;return G.builder().set("currentChatSSE",{currentChatSSEInstance:t,currentQAPair:n})},getHistory:function(e,t){return c(void 0,[e,t],void 0,(function(e,t){var n,r,i,a,s,o,c,u,p,d,f,v,m,g,y,b,w,x=e.extraData,_=e.options,C=e.type,N=t.getState,S=t.dispatch;return h(this,(function(e){switch(e.label){case 0:return n=N("requestService").history,r=n.host,i=n.callback,a=n.preprocessHistoryData,[4,Ae.getHistory(r,x)];case 1:if(s=e.sent(),o=s.status,c=s.data,u=!c||!c.historyData||0===c.historyData.length,i&&i({status:o,isEmpty:u,data:c.sessionData||{},length:(null===(w=null==c?void 0:c.historyData)||void 0===w?void 0:w.length)||0,options:_}),p=[],!a)return[3,5];try{for(d=l(c.historyData),f=d.next();!f.done;f=d.next())v=f.value,m=a(E(v),_),p.push(m)}catch(e){y={error:e}}finally{try{f&&!f.done&&(b=d.return)&&b.call(d)}finally{if(y)throw y.error}}e.label=2;case 2:return e.trys.push([2,4,,5]),[4,Promise.all(p)];case 3:return g=e.sent(),c.historyData.forEach((function(e,t){e.question= __get$(g,t) .question,e.chatResponse= __get$(g,t) .answer})),[3,5];case 4:return e.sent(),console.error("preprocessHistoryData 函数执行失败"),[3,5];case 5:return S("addHistoryData",{historyData:c.historyData||[],appendRender:null==_?void 0:_.appendRender,type:C}),S("setCurrentQAPairIndex",N("currentQid")),S("setLastQAPairIndex"),[2]}}))}))},deleteQAPairRequest:function(e,t){return c(void 0,[e,t],void 0,(function(e,t){var n,r,i,a,s,o,c=e.id,l=e.extraData,u=t.getState,p=t.dispatch;return h(this,(function(e){switch(e.label){case 0:return n=u("requestService").delete,r=n.host,i=n.callback,[4,Ae.deleteQAPairRequest(r,l)];case 1:return a=e.sent(),s=a.status,o=a.data,s===B.SUCCESS&&p("deleteQAPairData",c),i&&i({status:s,data:o}),[2]}}))}))}},ke=50,De=40,Te=function(){function e(e,t){this.cbList=[],this.pullDistance=0,this.touchStartY=0,this.XDistance=0,this.touchStartX=0,this.isPulling=!1,this.timerTaskId=null,this.continuousScrollTopTimes=0,this.container=e,this.scrollMode=t,this.initEvents()}return e.prototype.onPulldown=function(e){this.cbList.push(e)},e.prototype.offPulldown=function(e){if(e){var t=this.cbList.indexOf(e);t>=0&&this.cbList.splice(t,1)}},e.prototype.execCallback=function(){this.cbList.forEach((function(e){"function"==typeof e&&e()}))},e.prototype.initEvents=function(){this.container.addEventListener("touchstart",this.onTouchStart.bind(this)),this.container.addEventListener("touchmove",this.onTouchMove.bind(this)),this.container.addEventListener("touchend",this.onTouchEnd.bind(this)),this.container.addEventListener("touchcancel",this.onTouchEnd.bind(this)),this.container.addEventListener("wheel",this.onWheel.bind(this))},e.prototype.onTouchStart=function(e){this.pullDistance=0,this.isPulling=!0,this.touchStartY=e.touches&&e.touches[0].pageY,this.touchStartX=e.touches&&e.touches[0].pageX},e.prototype.onTouchMove=function(e){if(this.isScrollTop()){var t=e.touches[0].pageY,n=e.touches[0].pageX;this.pullDistance=Number(t-this.touchStartY),this.XDistance=Number(Math.abs(n-this.touchStartX))}},e.prototype.onTouchEnd=function(){this.isScrollTop()&&this.pullDistance>ke&&this.XDistance<De&&(this.execCallback(),this.pullDistance=0),this.isPulling=!1},e.prototype.onWheel=function(){var e=this;if(this.timerTaskId&&(clearTimeout(this.timerTaskId),this.timerTaskId=null),this.timerTaskId=setTimeout((function(){e.isPulling=!1,e.continuousScrollTopTimes=0}),200),this.isScrollTop())return this.continuousScrollTopTimes++,this.continuousScrollTopTimes>5&&!this.isPulling?(this.isPulling=!0,void this.execCallback()):void 0;this.continuousScrollTopTimes=0},e.prototype.isScrollTop=function(){return this.getScrollTop()<=0},e.prototype.getScrollTop=function(){return"page"===this.scrollMode?window.pageYOffset:this.container.scrollTop},e}(),Ie=function(){function e(e){this.store=new d.Store({initData:{chatStreamData:[],oldestQAPairId:null},actions:o(o({},(new W).getChatStreamActions()),Ee)}),this.setChatStreamConfig(e),this.setRequestService(e.requestService)}return e.prototype.setChatStreamConfig=function(e){this.questionBubbles=e.questionBubbles,this.answerBubble=e.answerBubble,this.qaPairBubble=e.qaPairBubble,this.tipComponents=e.tipComponents,this.headerComponent=e.headerComponent,this.footerComponent=e.footerComponent,this.knowledgeHeader=e.knowledgeHeader,this.containerDom=e.containerDom,this.containerSanComponent=e.containerSanComponent,this.upwardMargin=e.upwardMargin,this.scrollMode=e.scrollMode},e.prototype.setRequestService=function(e){this.store.dispatch(I.SET_REQUEST_SERVICE,e)},e.prototype.init=function(){var e=L({questionBubbles:this.questionBubbles,answerBubble:this.answerBubble,qaPairBubble:this.qaPairBubble,tipComponents:this.tipComponents,headerComponent:this.headerComponent,footerComponent:this.footerComponent,knowledgeHeader:this.knowledgeHeader,upwardMargin:this.upwardMargin,scrollMode:this.scrollMode,store:this.store});this.containerSanComponent?this.chatBodyInstance=new e({owner:this.containerSanComponent}):this.chatBodyInstance=new e,this.chatBodyInstance.attach(this.containerDom),this.pulldownInstance=new Te(this.chatBodyInstance.scrollContainer,this.scrollMode)},e.prototype.sendPrompt=function(e,t,n){this.store.dispatch(I.SEND_PROMPT,{prompt:e,requestType:t,show:n})},e.prototype.showQAPair=function(){this.store.dispatch(I.SHOW_QA_PAIR,{})},e.prototype.deleteQAPair=function(e,t,n){n?this.store.dispatch("deleteQAPairData",e):this.store.dispatch(I.DELETE_QA_PAIR,{id:e,extraData:t})},e.prototype.stopGenerate=function(){this.store.dispatch(I.STOP_GENERATE,{})},e.prototype.regenerate=function(e,t,n){this.store.dispatch(I.REGENERATE,{id:e,requestType:t,sseExtraData:n})},e.prototype.retry=function(e,t,n,r,i){this.store.dispatch(I.RETRY,{qid:e,aid:t,requestType:n,sseExtraData:r,extraData:i})},e.prototype.renderTip=function(e,t){this.store.dispatch(I.RENDER_TIP,{tipConfig:e,type:t})},e.prototype.renderKnowledgeHeader=function(){this.store.dispatch(I.RENDER_KNOWLEDGE_HEADER,{})},e.prototype.removeKnowledgeHeader=function(){this.store.dispatch(I.REMOVE_KNOWLEDGE_HEADER,{})},e.prototype.scrollToBottom=function(e){this.chatBodyInstance.scrollToBottom(e)},e.prototype.scrollElementIntoView=function(e){this.chatBodyInstance.scrollElementIntoView(e)},e.prototype.onScroll=function(e){"function"==typeof e&&this.chatBodyInstance.onScroll(e)},e.prototype.offScroll=function(e){"function"==typeof e&&this.chatBodyInstance.offScroll(e)},e.prototype.proxyScroll=function(){this.chatBodyInstance.proxyScroll()},e.prototype.onPulldown=function(e){this.pulldownInstance.onPulldown(e)},e.prototype.offPulldown=function(e){this.pulldownInstance.offPulldown(e)},e.prototype.fillerEmptyHeight=function(e){this.chatBodyInstance.fillerEmptyHeight(e)},e.prototype.multiAnswerSwitch=function(e,t){this.store.dispatch(I.MULTI_ANSWER_SWITCH,{id:e,showAnswerId:t})},e.prototype.getHistory=function(e,t,n){this.store.dispatch(I.GET_HISTORY,{extraData:e,options:t,type:n})},e.prototype.showHistory=function(e){void 0===e&&(e="top"),this.chatBodyInstance.showHistory(e)},e.prototype.startBottomAlign=function(e){this.chatBodyInstance.startBottomAlign(e)},e.prototype.stopBottomAlign=function(){this.chatBodyInstance.stopBottomAlign()},e.prototype.stopChangeBottomAlign=function(){this.chatBodyInstance.stopChangeBottomAlign()},e.prototype.changeBottomAlign=function(e){this.chatBodyInstance.changeBottomAlign(e)},e.prototype.contentHasOverflow=function(e){return this.chatBodyInstance.contentHasOverflow(e)},e}();e.ChatStream=Ie})(Qt.exports,(qt||(qt=1,Ft.exports=$t()),Ft.exports));var Gt=Qt.exports,Jt=e({__proto__:null,default:Gt.default},[Gt]);var Wt=new URL(document.URL),Vt=Wt.host.indexOf("debug")>-1||"2"===Wt.searchParams.get("info");function Yt(){var e="";if(Vt)try{e=JSON.parse(Wt.searchParams.get("dheader"))["User-Agent"]}catch(e){console.error("获取debug环境ua失败",e)}var t=(Vt&&e?e:navigator.userAgent).toLowerCase(),n=t.includes("iphone")||t.includes("ipod")||t.includes("ipad"),r=t.includes("android"),i=t.includes("baiduboxapp"),a=t.includes("searchcraft"),s=t.includes("theme/dark"),o=t.includes("bdhonorbrowser"),c=t.includes("huawei"),h=t.includes("qqbrowser"),l=t.includes("safari")&&!t.includes("chrome"),u=t.includes("firefox"),p= __get$(__get$Loc(location),"href") .includes("extension://")&&t.includes("edg/"),d=t.includes("arkweb")&&t.includes("tablet"),f=t.includes("ipad")||d,v=t.includes("arkweb")&&!f,m=f?"pc":/Mobi|Android|iPhone|ArkWeb/i.test(t||"")?"wise":"pc";return{isIOS:n,isAndroid:r,isBaiduBox:i,isSearchCraft:a,isDarkMode:s,isQQBrowser:h,isSafari:l,platform:m,debugUA:e,isWindows:t.includes("windows"),isFirefox:u,isEdgeExtension:p,scene:"RECALL_SCENE",isDeepSeekPage:"/deepseek"=== __get$Loc(location) .pathname&&"pc"!==m,isOnline:"chat.baidu.com"===Wt.host,isBdhonor:o,isHarmony:v,isHarmonyPad:d,isHuawei:c}}Wt.searchParams.get("bottomBarHeight"),window.devicePixelRatio;var Kt=Yt();var Xt=Yt(),Zt=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.body.classList.add("cos-"+Xt.platform),document.body.style.setProperty("--font-size-scale","1");var en,tn=["font-size-1","cos-"+Xt.platform,Xt.isAndroid?"android":"",Xt.isAndroid?"cos-android":Xt.isIOS?"cos-ios":"",Xt.isBaiduBox?"cos-baiduapp":"cos-h5",Xt.isIOS&&Xt.isBaiduBox&&(Zt||Xt.isDarkMode)?"darkmode":"",Xt.isIOS&&Xt.isBaiduBox&&(Zt||Xt.isDarkMode)?"c-darkmode":"","",Xt.isEdgeExtension?"cos-edge-extension":"",Xt.isDeepSeekPage?"cos-ds-landing":"",Xt.isHarmony?"cos-harmony":""].filter((function(e){return e}));function nn(e){return"font-size-"+(e<1?"0":1===e?"1":e>1&&e<1.1?"2":"3")}function rn(e){if(!isNaN(e)&&"number"==typeof e)for(var t=document.querySelector("body"),n=t.className.split(" "),r=0;r<n.length;r++)if(/^font-size-[0-9]+(\\.?[0-9]+)?$/.test( __get$(n,r) )){ __set$(n,r,nn(e)) ,t.style.setProperty("--font-size-scale",e.toString()),t.className=n.join(" ");break}}var an,sn=function(e){var t=null,n=document.querySelectorAll(e);try{n.forEach((function(e){e.innerHTML&&(t= __call$(Object,"assign",[{},t,JSON.parse(e.innerHTML)]) )}))}catch(e){console.error("解析数据失败",e)}return t}('script[name="aiTabFrameBaseData"]');!function(e){var t=e&&e.sample&&e.sample.variables||{};((null==e?void 0:e.newStyle)||"1"===t.STYLE_UPGRADE)&&tn.push("cos-fresh"),"1"===t.ABSTRACT_LIGHT_UPGRADE&&tn.push("cos-fresh-light"),"1"===t.ABSTRACT_DEEP_UPGRADE&&tn.push("cos-fresh-deep"),"1"===t.TITLE_UPGRADE&&tn.push("cos-fresh-title"),"1"===t.SOURCE_UPGRADE&&tn.push("cos-fresh-source"),"1"===t.ABSTRACT_UPGRADE&&tn.push("cos-fresh-abstract"),"1"===t.AVATAR_UPGRADE&&tn.push("cos-fresh-avatar"),document.body.classList.add.apply(document.body.classList,tn)}(sn),rn(+(null===(en=null==sn?void 0:sn.userInfo)||void 0===en?void 0:en.fontSizeScale)||1),window.addEventListener("app_font_change",(function(e){"%@"!==e.value&&rn(+e.value)})),sn&&"pc"===Kt.platform&&(sn.staticDomain="//ms.bdstatic.com"),window.sc=new Ut(sn&&sn.staticDomain?sn.staticDomain+"/se":"/se/"),window.sc.getESLInstance().defineResource("@baidu/chat-stream",Jt),function(e){window.page||(window.page={}),window.page.amd||(window.page.amd={}),window.page.amd.version||(window.page.amd.version={});var t=document.querySelectorAll("[name=cosmicResourceJS]");[].forEach.call(t,(function(t,n){var r;try{r=JSON.parse(t.innerText)}catch(e){r={}}if(1===n&&r.bundles){var i={};Object.keys(r.bundles).forEach((function(e){ __set$(r.bundles,e,__get$(r.bundles,e).map(function(e){var t=e.split("_")[0],n=t.match(/^@baidu\/search-components\/(.+)/),r=n&&__call$(n[1],"replace",[/\//g,"_"]);return __set$(i,t,e),r&&__set$(i,r,e),e;})) })),window.searchComponentsIdMap=i}e.getESLInstance().addEslConfig(r)}))}(window.sc),an=window.sc,window.page||(window.page={}),window.page.comm||(window.page.comm={}),window.getChatCmptEslConfig&&an.getESLInstance().addEslPath(window.getChatCmptEslConfig()),an.getESLInstance().addEslConfig({onNodeCreated:function(e,t,n,r){0===r.indexOf(t.baseUrl)&&e.setAttribute("crossorigin","anonymous")}})}();

/*hammerhead|script|end*/