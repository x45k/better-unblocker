/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
define("superman/components/top-right-operate/operate",["require","exports","superman/lib/extract_data","superman/lib/commonUtils"],function(require,_exports,_extract_data,_commonUtils){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports.RightTopOperate=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(
var i=0;i<props.length;i++){var descriptor= __get$(props,i) ;descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){
Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{ __set$(obj,key,value) }return obj}var CHANGE_PERIOD=7*24*60*60*1e3;var RightTopOperate=function(){function RightTopOperate(require){_classCallCheck(this,RightTopOperate);_defineProperty(this,"require",void 0);_defineProperty(this,"operateImage",{});_defineProperty(this,"operateAnimate",{});_defineProperty(this,"serverOptions","");_defineProperty(this,"period",0);_defineProperty(this,"commonFile","")
;_defineProperty(this,"darkFile","");_defineProperty(this,"isAnimateEntry","");_defineProperty(this,"isClicked",false);this.require=require;var rightTopOperateData=(0,_extract_data.extractData)("top-right-operate-data");var _rightTopOperateData$=rightTopOperateData.hasRightTop,hasRightTop=_rightTopOperateData$===void 0?"0":_rightTopOperateData$,_rightTopOperateData$2=rightTopOperateData.period,period=_rightTopOperateData$2===void 0?1:_rightTopOperateData$2,
_rightTopOperateData$3=rightTopOperateData.commonFile,commonFile=_rightTopOperateData$3===void 0?"":_rightTopOperateData$3,_rightTopOperateData$4=rightTopOperateData.darkFile,darkFile=_rightTopOperateData$4===void 0?"":_rightTopOperateData$4,_rightTopOperateData$5=rightTopOperateData.isAnimateEntry,isAnimateEntry=_rightTopOperateData$5===void 0?"1":_rightTopOperateData$5;if(hasRightTop!=="1"){return}this.isAnimateEntry=isAnimateEntry;this.commonFile=commonFile;this.darkFile=darkFile
;this.serverOptions=JSON.stringify(rightTopOperateData);var hasOptionsChanged=this.hasOptionsChanged();hasOptionsChanged&&this.resetStorageOptions();var isClicked=(0,_commonUtils.getStorage)("topRightOperateIsClicked")==="1";this.isClicked=isClicked;this.period=isClicked?CHANGE_PERIOD:period*24*60*60*1e3;this.operateImage=$(".operate-image");this.operateAnimate=$(".operate-animate");this.init();this.initHandleClick()}_createClass(RightTopOperate,[{key:"hasOptionsChanged",
value:function hasOptionsChanged(){var localOptions=(0,_commonUtils.getStorage)("rightTopOperateOptions");var serverOptions=this.serverOptions;return localOptions!==serverOptions}},{key:"resetStorageOptions",value:function resetStorageOptions(){localStorage.removeItem("rightTopOperateOptions");localStorage.removeItem("rightTopShowTime");localStorage.removeItem("topRightOperateIsClicked");(0,_commonUtils.setStorage)("rightTopOperateOptions",this.serverOptions)}},{key:"initLottieAndPlay",
value:function initLottieAndPlay(){var _this=this;var lottieFilePath=(0,_commonUtils.isDarkMode)()?this.darkFile:this.commonFile;this.require(["lottie-web"],function(lottie){var lottieIns=lottie.loadAnimation({container:$(".operate-animate")[0],renderer:"svg",loop:false,autoplay:false,path:lottieFilePath,rendererSettings:{progressiveLoad:true,hideOnTransparent:true}});lottieIns&&lottieIns.addEventListener("DOMLoaded",function(){_this.operateImage.hide()});lottieIns&&lottieIns.addEventListener(
"complete",function(){_this.operateImage.show();_this.operateAnimate.hide()});lottieIns.play()})}},{key:"initHandleClick",value:function initHandleClick(){$(".operate-wrapper").on("click",function(){(0,_commonUtils.sendMidLog)(175,10)});$(".operate-animate").on("click",function(){(0,_commonUtils.setStorage)("topRightOperateIsClicked","1")})}},{key:"init",value:function init(){if(this.isAnimateEntry!=="1"){return}var isClicked=this.isClicked;if(isClicked){this.operateAnimate.hide();return}
this.initLottieAndPlay()}}]);return RightTopOperate}();_exports.RightTopOperate=RightTopOperate});
/*hammerhead|script|end*/